'use strict';System.register([],function(_export2,_context){var _typeof;return {setters:[],execute:function(){_typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;}; /*
 * SystemJS v0.19.23
 */(function(){function bootstrap(){(function(__global){var isWorker=typeof window=='undefined'&&typeof self!='undefined'&&typeof importScripts!='undefined';var isBrowser=typeof window!='undefined'&&typeof document!='undefined';var isWindows=typeof process!='undefined'&&typeof process.platform!='undefined'&&!!process.platform.match(/^win/);if(!__global.console)__global.console={assert:function assert(){}}; // IE8 support
var indexOf=Array.prototype.indexOf||function(item){for(var i=0,thisLen=this.length;i<thisLen;i++){if(this[i]===item){return i;}}return -1;};var defineProperty;(function(){try{if(!!Object.defineProperty({},'a',{}))defineProperty=Object.defineProperty;}catch(e){defineProperty=function defineProperty(obj,prop,opt){try{obj[prop]=opt.value||opt.get.call(obj);}catch(e){}};}})();function addToError(err,msg){var newErr=new Error((err.message||err)+'\n\t'+msg,err.fileName,err.lineNumber); // Node needs stack adjustment for throw to show message
if(!isBrowser)newErr.stack=(err.stack||err.message||err)+'\n\t'+msg; // track the original error
newErr.originalErr=err.originalErr||err;return newErr;}function __eval(source,debugName,context){try{new Function(source).call(context);}catch(e){throw addToError(e,'Evaluating '+debugName);}}var baseURI; // environent baseURI detection
if(typeof document!='undefined'&&document.getElementsByTagName){baseURI=document.baseURI;if(!baseURI){var bases=document.getElementsByTagName('base');baseURI=bases[0]&&bases[0].href||window.location.href;} // sanitize out the hash and querystring
baseURI=baseURI.split('#')[0].split('?')[0];baseURI=baseURI.substr(0,baseURI.lastIndexOf('/')+1);}else if(typeof process!='undefined'&&process.cwd){baseURI='file://'+(isWindows?'/':'')+process.cwd()+'/';if(isWindows)baseURI=baseURI.replace(/\\/g,'/');}else if(typeof location!='undefined'){baseURI=__global.location.href;}else {throw new TypeError('No environment baseURI');}var URL=__global.URLPolyfill||__global.URL; /*
*********************************************************************************************

  Dynamic Module Loader Polyfill

    - Implemented exactly to the former 2014-08-24 ES6 Specification Draft Rev 27, Section 15
      http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts#august_24_2014_draft_rev_27

    - Functions are commented with their spec numbers, with spec differences commented.

    - Spec bugs are commented in this code with links.

    - Abstract functions have been combined where possible, and their associated functions
      commented.

    - Realm implementation is entirely omitted.

*********************************************************************************************
*/function Module(){} // http://www.ecma-international.org/ecma-262/6.0/#sec-@@tostringtag
defineProperty(Module.prototype,'toString',{value:function value(){return 'Module';}});function Loader(options){this._loader={loaderObj:this,loads:[],modules:{},importPromises:{},moduleRecords:{}}; // 26.3.3.6
defineProperty(this,'global',{get:function get(){return __global;}}); // 26.3.3.13 realm not implemented
}(function(){ // Some Helpers
// logs a linkset snapshot for debugging
/* function snapshot(loader) {
  console.log('---Snapshot---');
  for (var i = 0; i < loader.loads.length; i++) {
    var load = loader.loads[i];
    var linkSetLog = '  ' + load.name + ' (' + load.status + '): ';

    for (var j = 0; j < load.linkSets.length; j++) {
      linkSetLog += '{' + logloads(load.linkSets[j].loads) + '} ';
    }
    console.log(linkSetLog);
  }
  console.log('');
}
function logloads(loads) {
  var log = '';
  for (var k = 0; k < loads.length; k++)
    log += loads[k].name + (k != loads.length - 1 ? ' ' : '');
  return log;
} */ /* function checkInvariants() {
  // see https://bugs.ecmascript.org/show_bug.cgi?id=2603#c1

  var loads = System._loader.loads;
  var linkSets = [];

  for (var i = 0; i < loads.length; i++) {
    var load = loads[i];
    console.assert(load.status == 'loading' || load.status == 'loaded', 'Each load is loading or loaded');

    for (var j = 0; j < load.linkSets.length; j++) {
      var linkSet = load.linkSets[j];

      for (var k = 0; k < linkSet.loads.length; k++)
        console.assert(loads.indexOf(linkSet.loads[k]) != -1, 'linkSet loads are a subset of loader loads');

      if (linkSets.indexOf(linkSet) == -1)
        linkSets.push(linkSet);
    }
  }

  for (var i = 0; i < loads.length; i++) {
    var load = loads[i];
    for (var j = 0; j < linkSets.length; j++) {
      var linkSet = linkSets[j];

      if (linkSet.loads.indexOf(load) != -1)
        console.assert(load.linkSets.indexOf(linkSet) != -1, 'linkSet contains load -> load contains linkSet');

      if (load.linkSets.indexOf(linkSet) != -1)
        console.assert(linkSet.loads.indexOf(load) != -1, 'load contains linkSet -> linkSet contains load');
    }
  }

  for (var i = 0; i < linkSets.length; i++) {
    var linkSet = linkSets[i];
    for (var j = 0; j < linkSet.loads.length; j++) {
      var load = linkSet.loads[j];

      for (var k = 0; k < load.dependencies.length; k++) {
        var depName = load.dependencies[k].value;
        var depLoad;
        for (var l = 0; l < loads.length; l++) {
          if (loads[l].name != depName)
            continue;
          depLoad = loads[l];
          break;
        }

        // loading records are allowed not to have their dependencies yet
        // if (load.status != 'loading')
        //  console.assert(depLoad, 'depLoad found');

        // console.assert(linkSet.loads.indexOf(depLoad) != -1, 'linkset contains all dependencies');
      }
    }
  }
} */ // 15.2.3 - Runtime Semantics: Loader State
// 15.2.3.11
function createLoaderLoad(object){return { // modules is an object for ES5 implementation
modules:{},loads:[],loaderObj:object};} // 15.2.3.2 Load Records and LoadRequest Objects
// 15.2.3.2.1
function createLoad(name){return {status:'loading',name:name,linkSets:[],dependencies:[],metadata:{}};} // 15.2.3.2.2 createLoadRequestObject, absorbed into calling functions
// 15.2.4
// 15.2.4.1
function loadModule(loader,name,options){return new Promise(asyncStartLoadPartwayThrough({step:options.address?'fetch':'locate',loader:loader,moduleName:name, // allow metadata for import https://bugs.ecmascript.org/show_bug.cgi?id=3091
moduleMetadata:options&&options.metadata||{},moduleSource:options.source,moduleAddress:options.address}));} // 15.2.4.2
function requestLoad(loader,request,refererName,refererAddress){ // 15.2.4.2.1 CallNormalize
return new Promise(function(resolve,reject){resolve(loader.loaderObj.normalize(request,refererName,refererAddress));}) // 15.2.4.2.2 GetOrCreateLoad
.then(function(name){var load;if(loader.modules[name]){load=createLoad(name);load.status='linked'; // https://bugs.ecmascript.org/show_bug.cgi?id=2795
load.module=loader.modules[name];return load;}for(var i=0,l=loader.loads.length;i<l;i++){load=loader.loads[i];if(load.name!=name)continue;console.assert(load.status=='loading'||load.status=='loaded','loading or loaded');return load;}load=createLoad(name);loader.loads.push(load);proceedToLocate(loader,load);return load;});} // 15.2.4.3
function proceedToLocate(loader,load){proceedToFetch(loader,load,Promise.resolve() // 15.2.4.3.1 CallLocate
.then(function(){return loader.loaderObj.locate({name:load.name,metadata:load.metadata});}));} // 15.2.4.4
function proceedToFetch(loader,load,p){proceedToTranslate(loader,load,p // 15.2.4.4.1 CallFetch
.then(function(address){ // adjusted, see https://bugs.ecmascript.org/show_bug.cgi?id=2602
if(load.status!='loading')return;load.address=address;return loader.loaderObj.fetch({name:load.name,metadata:load.metadata,address:address});}));}var anonCnt=0; // 15.2.4.5
function proceedToTranslate(loader,load,p){p // 15.2.4.5.1 CallTranslate
.then(function(source){if(load.status!='loading')return;return Promise.resolve(loader.loaderObj.translate({name:load.name,metadata:load.metadata,address:load.address,source:source})) // 15.2.4.5.2 CallInstantiate
.then(function(source){load.source=source;return loader.loaderObj.instantiate({name:load.name,metadata:load.metadata,address:load.address,source:source});}) // 15.2.4.5.3 InstantiateSucceeded
.then(function(instantiateResult){if(instantiateResult===undefined){load.address=load.address||'<Anonymous Module '+ ++anonCnt+'>'; // instead of load.kind, use load.isDeclarative
load.isDeclarative=true;return transpile.call(loader.loaderObj,load).then(function(transpiled){ // Hijack System.register to set declare function
var curSystem=__global.System;var curRegister=curSystem.register;curSystem.register=function(name,deps,declare){if(typeof name!='string'){declare=deps;deps=name;} // store the registered declaration as load.declare
// store the deps as load.deps
load.declare=declare;load.depsList=deps;}; // empty {} context is closest to undefined 'this' we can get
__eval(transpiled,load.address,{});curSystem.register=curRegister;});}else if((typeof instantiateResult==='undefined'?'undefined':_typeof(instantiateResult))=='object'){load.depsList=instantiateResult.deps||[];load.execute=instantiateResult.execute;load.isDeclarative=false;}else throw TypeError('Invalid instantiate return value');}) // 15.2.4.6 ProcessLoadDependencies
.then(function(){load.dependencies=[];var depsList=load.depsList;var loadPromises=[];for(var i=0,l=depsList.length;i<l;i++){(function(request,index){loadPromises.push(requestLoad(loader,request,load.name,load.address) // 15.2.4.6.1 AddDependencyLoad (load is parentLoad)
.then(function(depLoad){ // adjusted from spec to maintain dependency order
// this is due to the System.register internal implementation needs
load.dependencies[index]={key:request,value:depLoad.name};if(depLoad.status!='linked'){var linkSets=load.linkSets.concat([]);for(var i=0,l=linkSets.length;i<l;i++){addLoadToLinkSet(linkSets[i],depLoad);}} // console.log('AddDependencyLoad ' + depLoad.name + ' for ' + load.name);
// snapshot(loader);
}));})(depsList[i],i);}return Promise.all(loadPromises);}) // 15.2.4.6.2 LoadSucceeded
.then(function(){ // console.log('LoadSucceeded ' + load.name);
// snapshot(loader);
console.assert(load.status=='loading','is loading');load.status='loaded';var linkSets=load.linkSets.concat([]);for(var i=0,l=linkSets.length;i<l;i++){updateLinkSetOnLoad(linkSets[i],load);}});}) // 15.2.4.5.4 LoadFailed
['catch'](function(exc){load.status='failed';load.exception=exc;var linkSets=load.linkSets.concat([]);for(var i=0,l=linkSets.length;i<l;i++){linkSetFailed(linkSets[i],load,exc);}console.assert(load.linkSets.length==0,'linkSets not removed');});} // 15.2.4.7 PromiseOfStartLoadPartwayThrough absorbed into calling functions
// 15.2.4.7.1
function asyncStartLoadPartwayThrough(stepState){return function(resolve,reject){var loader=stepState.loader;var name=stepState.moduleName;var step=stepState.step;if(loader.modules[name])throw new TypeError('"'+name+'" already exists in the module table'); // adjusted to pick up existing loads
var existingLoad;for(var i=0,l=loader.loads.length;i<l;i++){if(loader.loads[i].name==name){existingLoad=loader.loads[i];if(step=='translate'&&!existingLoad.source){existingLoad.address=stepState.moduleAddress;proceedToTranslate(loader,existingLoad,Promise.resolve(stepState.moduleSource));} // a primary load -> use that existing linkset if it is for the direct load here
// otherwise create a new linkset unit
if(existingLoad.linkSets.length&&existingLoad.linkSets[0].loads[0].name==existingLoad.name)return existingLoad.linkSets[0].done.then(function(){resolve(existingLoad);});}}var load=existingLoad||createLoad(name);load.metadata=stepState.moduleMetadata;var linkSet=createLinkSet(loader,load);loader.loads.push(load);resolve(linkSet.done);if(step=='locate')proceedToLocate(loader,load);else if(step=='fetch')proceedToFetch(loader,load,Promise.resolve(stepState.moduleAddress));else {console.assert(step=='translate','translate step');load.address=stepState.moduleAddress;proceedToTranslate(loader,load,Promise.resolve(stepState.moduleSource));}};} // Declarative linking functions run through alternative implementation:
// 15.2.5.1.1 CreateModuleLinkageRecord not implemented
// 15.2.5.1.2 LookupExport not implemented
// 15.2.5.1.3 LookupModuleDependency not implemented
// 15.2.5.2.1
function createLinkSet(loader,startingLoad){var linkSet={loader:loader,loads:[],startingLoad:startingLoad, // added see spec bug https://bugs.ecmascript.org/show_bug.cgi?id=2995
loadingCount:0};linkSet.done=new Promise(function(resolve,reject){linkSet.resolve=resolve;linkSet.reject=reject;});addLoadToLinkSet(linkSet,startingLoad);return linkSet;} // 15.2.5.2.2
function addLoadToLinkSet(linkSet,load){if(load.status=='failed')return;console.assert(load.status=='loading'||load.status=='loaded','loading or loaded on link set');for(var i=0,l=linkSet.loads.length;i<l;i++){if(linkSet.loads[i]==load)return;}linkSet.loads.push(load);load.linkSets.push(linkSet); // adjustment, see https://bugs.ecmascript.org/show_bug.cgi?id=2603
if(load.status!='loaded'){linkSet.loadingCount++;}var loader=linkSet.loader;for(var i=0,l=load.dependencies.length;i<l;i++){if(!load.dependencies[i])continue;var name=load.dependencies[i].value;if(loader.modules[name])continue;for(var j=0,d=loader.loads.length;j<d;j++){if(loader.loads[j].name!=name)continue;addLoadToLinkSet(linkSet,loader.loads[j]);break;}} // console.log('add to linkset ' + load.name);
// snapshot(linkSet.loader);
} // linking errors can be generic or load-specific
// this is necessary for debugging info
function doLink(linkSet){var error=false;try{link(linkSet,function(load,exc){linkSetFailed(linkSet,load,exc);error=true;});}catch(e){linkSetFailed(linkSet,null,e);error=true;}return error;} // 15.2.5.2.3
function updateLinkSetOnLoad(linkSet,load){ // console.log('update linkset on load ' + load.name);
// snapshot(linkSet.loader);
console.assert(load.status=='loaded'||load.status=='linked','loaded or linked');linkSet.loadingCount--;if(linkSet.loadingCount>0)return; // adjusted for spec bug https://bugs.ecmascript.org/show_bug.cgi?id=2995
var startingLoad=linkSet.startingLoad; // non-executing link variation for loader tracing
// on the server. Not in spec.
/***/if(linkSet.loader.loaderObj.execute===false){var loads=[].concat(linkSet.loads);for(var i=0,l=loads.length;i<l;i++){var load=loads[i];load.module=!load.isDeclarative?{module:_newModule({})}:{name:load.name,module:_newModule({}),evaluated:true};load.status='linked';finishLoad(linkSet.loader,load);}return linkSet.resolve(startingLoad);} /***/var abrupt=doLink(linkSet);if(abrupt)return;console.assert(linkSet.loads.length==0,'loads cleared');linkSet.resolve(startingLoad);} // 15.2.5.2.4
function linkSetFailed(linkSet,load,exc){var loader=linkSet.loader;var requests;checkError: if(load){if(linkSet.loads[0].name==load.name){exc=addToError(exc,'Error loading '+load.name);}else {for(var i=0;i<linkSet.loads.length;i++){var pLoad=linkSet.loads[i];for(var j=0;j<pLoad.dependencies.length;j++){var dep=pLoad.dependencies[j];if(dep.value==load.name){exc=addToError(exc,'Error loading '+load.name+' as "'+dep.key+'" from '+pLoad.name);break checkError;}}}exc=addToError(exc,'Error loading '+load.name+' from '+linkSet.loads[0].name);}}else {exc=addToError(exc,'Error linking '+linkSet.loads[0].name);}var loads=linkSet.loads.concat([]);for(var i=0,l=loads.length;i<l;i++){var load=loads[i]; // store all failed load records
loader.loaderObj.failed=loader.loaderObj.failed||[];if(indexOf.call(loader.loaderObj.failed,load)==-1)loader.loaderObj.failed.push(load);var linkIndex=indexOf.call(load.linkSets,linkSet);console.assert(linkIndex!=-1,'link not present');load.linkSets.splice(linkIndex,1);if(load.linkSets.length==0){var globalLoadsIndex=indexOf.call(linkSet.loader.loads,load);if(globalLoadsIndex!=-1)linkSet.loader.loads.splice(globalLoadsIndex,1);}}linkSet.reject(exc);} // 15.2.5.2.5
function finishLoad(loader,load){ // add to global trace if tracing
if(loader.loaderObj.trace){if(!loader.loaderObj.loads)loader.loaderObj.loads={};var depMap={};load.dependencies.forEach(function(dep){depMap[dep.key]=dep.value;});loader.loaderObj.loads[load.name]={name:load.name,deps:load.dependencies.map(function(dep){return dep.key;}),depMap:depMap,address:load.address,metadata:load.metadata,source:load.source,kind:load.isDeclarative?'declarative':'dynamic'};} // if not anonymous, add to the module table
if(load.name){console.assert(!loader.modules[load.name],'load not in module table');loader.modules[load.name]=load.module;}var loadIndex=indexOf.call(loader.loads,load);if(loadIndex!=-1)loader.loads.splice(loadIndex,1);for(var i=0,l=load.linkSets.length;i<l;i++){loadIndex=indexOf.call(load.linkSets[i].loads,load);if(loadIndex!=-1)load.linkSets[i].loads.splice(loadIndex,1);}load.linkSets.splice(0,load.linkSets.length);}function doDynamicExecute(linkSet,load,linkError){try{var module=load.execute();}catch(e){linkError(load,e);return;}if(!module||!(module instanceof Module))linkError(load,new TypeError('Execution must define a Module instance'));else return module;} // 26.3 Loader
// 26.3.1.1
// defined at top
// importPromises adds ability to import a module twice without error - https://bugs.ecmascript.org/show_bug.cgi?id=2601
function createImportPromise(loader,name,promise){var importPromises=loader._loader.importPromises;return importPromises[name]=promise.then(function(m){importPromises[name]=undefined;return m;},function(e){importPromises[name]=undefined;throw e;});}Loader.prototype={ // 26.3.3.1
constructor:Loader, // 26.3.3.2
define:function define(name,source,options){ // check if already defined
if(this._loader.importPromises[name])throw new TypeError('Module is already loading.');return createImportPromise(this,name,new Promise(asyncStartLoadPartwayThrough({step:'translate',loader:this._loader,moduleName:name,moduleMetadata:options&&options.metadata||{},moduleSource:source,moduleAddress:options&&options.address})));}, // 26.3.3.3
'delete':function _delete(name){var loader=this._loader;delete loader.importPromises[name];delete loader.moduleRecords[name];return loader.modules[name]?delete loader.modules[name]:false;}, // 26.3.3.4 entries not implemented
// 26.3.3.5
get:function get(key){if(!this._loader.modules[key])return;doEnsureEvaluated(this._loader.modules[key],[],this);return this._loader.modules[key].module;}, // 26.3.3.7
has:function has(name){return !!this._loader.modules[name];}, // 26.3.3.8
'import':function _import(name,parentName,parentAddress){if((typeof parentName==='undefined'?'undefined':_typeof(parentName))=='object')parentName=parentName.name; // run normalize first
var loaderObj=this; // added, see https://bugs.ecmascript.org/show_bug.cgi?id=2659
return Promise.resolve(loaderObj.normalize(name,parentName)).then(function(name){var loader=loaderObj._loader;if(loader.modules[name]){doEnsureEvaluated(loader.modules[name],[],loader._loader);return loader.modules[name].module;}return loader.importPromises[name]||createImportPromise(loaderObj,name,loadModule(loader,name,{}).then(function(load){delete loader.importPromises[name];return evaluateLoadedModule(loader,load);}));});}, // 26.3.3.9 keys not implemented
// 26.3.3.10
load:function load(name){var loader=this._loader;if(loader.modules[name])return Promise.resolve();return loader.importPromises[name]||createImportPromise(this,name,new Promise(asyncStartLoadPartwayThrough({step:'locate',loader:loader,moduleName:name,moduleMetadata:{},moduleSource:undefined,moduleAddress:undefined})).then(function(){delete loader.importPromises[name];}));}, // 26.3.3.11
module:function module(source,options){var load=createLoad();load.address=options&&options.address;var linkSet=createLinkSet(this._loader,load);var sourcePromise=Promise.resolve(source);var loader=this._loader;var p=linkSet.done.then(function(){return evaluateLoadedModule(loader,load);});proceedToTranslate(loader,load,sourcePromise);return p;}, // 26.3.3.12
newModule:function newModule(obj){if((typeof obj==='undefined'?'undefined':_typeof(obj))!='object')throw new TypeError('Expected object');var m=new Module();var pNames=[];if(Object.getOwnPropertyNames&&obj!=null)pNames=Object.getOwnPropertyNames(obj);else for(var key in obj){pNames.push(key);}for(var i=0;i<pNames.length;i++){(function(key){defineProperty(m,key,{configurable:false,enumerable:true,get:function get(){return obj[key];},set:function set(){throw new Error('Module exports cannot be changed externally.');}});})(pNames[i]);}if(Object.freeze)Object.freeze(m);return m;}, // 26.3.3.14
set:function set(name,module){if(!(module instanceof Module))throw new TypeError('Loader.set('+name+', module) must be a module');this._loader.modules[name]={module:module};}, // 26.3.3.15 values not implemented
// 26.3.3.16 @@iterator not implemented
// 26.3.3.17 @@toStringTag not implemented
// 26.3.3.18.1
normalize:function normalize(name,referrerName,referrerAddress){return name;}, // 26.3.3.18.2
locate:function locate(load){return load.name;}, // 26.3.3.18.3
fetch:function fetch(load){}, // 26.3.3.18.4
translate:function translate(load){return load.source;}, // 26.3.3.18.5
instantiate:function instantiate(load){}};var _newModule=Loader.prototype.newModule; /*
 * ES6 Module Declarative Linking Code - Dev Build Only
 */function link(linkSet,linkError){var loader=linkSet.loader;if(!linkSet.loads.length)return;var loads=linkSet.loads.concat([]);for(var i=0;i<loads.length;i++){var load=loads[i];var module=doDynamicExecute(linkSet,load,linkError);if(!module)return;load.module={name:load.name,module:module};load.status='linked';finishLoad(loader,load);}}function evaluateLoadedModule(loader,load){console.assert(load.status=='linked','is linked '+load.name);return load.module.module;}function doEnsureEvaluated(){}function transpile(){throw new TypeError('ES6 transpilation is only provided in the dev module loader build.');}})(); /*
*********************************************************************************************

  System Loader Implementation

    - Implemented to https://github.com/jorendorff/js-loaders/blob/master/browser-loader.js

    - <script type="module"> supported

*********************************************************************************************
*/var System;function SystemLoader(){Loader.call(this);this.paths={};} // NB no specification provided for System.paths, used ideas discussed in https://github.com/jorendorff/js-loaders/issues/25
function applyPaths(paths,name){ // most specific (most number of slashes in path) match wins
var pathMatch='',wildcard,maxWildcardPrefixLen=0; // check to see if we have a paths entry
for(var p in paths){var pathParts=p.split('*');if(pathParts.length>2)throw new TypeError('Only one wildcard in a path is permitted'); // exact path match
if(pathParts.length==1){if(name==p)return paths[p]; // support trailing / in paths rules
else if(name.substr(0,p.length-1)==p.substr(0,p.length-1)&&(name.length<p.length||name[p.length-1]==p[p.length-1])&&paths[p][paths[p].length-1]=='/')return paths[p].substr(0,paths[p].length-1)+(name.length>p.length?'/'+name.substr(p.length):'');} // wildcard path match
else {var wildcardPrefixLen=pathParts[0].length;if(wildcardPrefixLen>=maxWildcardPrefixLen&&name.substr(0,pathParts[0].length)==pathParts[0]&&name.substr(name.length-pathParts[1].length)==pathParts[1]){maxWildcardPrefixLen=wildcardPrefixLen;pathMatch=p;wildcard=name.substr(pathParts[0].length,name.length-pathParts[1].length-pathParts[0].length);}}}var outPath=paths[pathMatch];if(typeof wildcard=='string')outPath=outPath.replace('*',wildcard);return outPath;} // inline Object.create-style class extension
function LoaderProto(){}LoaderProto.prototype=Loader.prototype;SystemLoader.prototype=new LoaderProto();var fetchTextFromURL;if(typeof XMLHttpRequest!='undefined'){fetchTextFromURL=function fetchTextFromURL(url,authorization,fulfill,reject){var xhr=new XMLHttpRequest();var sameDomain=true;var doTimeout=false;if(!('withCredentials' in xhr)){ // check if same domain
var domainCheck=/^(\w+:)?\/\/([^\/]+)/.exec(url);if(domainCheck){sameDomain=domainCheck[2]===window.location.host;if(domainCheck[1])sameDomain&=domainCheck[1]===window.location.protocol;}}if(!sameDomain&&typeof XDomainRequest!='undefined'){xhr=new XDomainRequest();xhr.onload=load;xhr.onerror=error;xhr.ontimeout=error;xhr.onprogress=function(){};xhr.timeout=0;doTimeout=true;}function load(){fulfill(xhr.responseText);}function error(){reject(new Error('XHR error'+(xhr.status?' ('+xhr.status+(xhr.statusText?' '+xhr.statusText:'')+')':'')+' loading '+url));}xhr.onreadystatechange=function(){if(xhr.readyState===4){ // in Chrome on file:/// URLs, status is 0
if(xhr.status==0){if(xhr.responseText){load();}else { // when responseText is empty, wait for load or error event
// to inform if it is a 404 or empty file
xhr.addEventListener('error',error);xhr.addEventListener('load',load);}}else if(xhr.status===200){load();}else {error();}}};xhr.open("GET",url,true);if(xhr.setRequestHeader){xhr.setRequestHeader('Accept','application/x-es-module, */*'); // can set "authorization: true" to enable withCredentials only
if(authorization){if(typeof authorization=='string')xhr.setRequestHeader('Authorization',authorization);xhr.withCredentials=true;}}if(doTimeout){setTimeout(function(){xhr.send();},0);}else {xhr.send(null);}};}else if(typeof require!='undefined'&&typeof process!='undefined'){var fs;fetchTextFromURL=function fetchTextFromURL(url,authorization,fulfill,reject){if(url.substr(0,8)!='file:///')throw new Error('Unable to fetch "'+url+'". Only file URLs of the form file:/// allowed running in Node.');fs=fs||require('fs');if(isWindows)url=url.replace(/\//g,'\\').substr(8);else url=url.substr(7);return fs.readFile(url,function(err,data){if(err){return reject(err);}else { // Strip Byte Order Mark out if it's the leading char
var dataString=data+'';if(dataString[0]==='ï»¿')dataString=dataString.substr(1);fulfill(dataString);}});};}else if(typeof self!='undefined'&&typeof self.fetch!='undefined'){fetchTextFromURL=function fetchTextFromURL(url,authorization,fulfill,reject){var opts={headers:{'Accept':'application/x-es-module, */*'}};if(authorization){if(typeof authorization=='string')opts.headers['Authorization']=authorization;opts.credentials='include';}fetch(url,opts).then(function(r){if(r.ok){return r.text();}else {throw new Error('Fetch error: '+r.status+' '+r.statusText);}}).then(fulfill,reject);};}else {throw new TypeError('No environment fetch API available.');}SystemLoader.prototype.fetch=function(load){return new Promise(function(resolve,reject){fetchTextFromURL(load.address,undefined,resolve,reject);});}; // SystemJS Loader Class and Extension helpers
function SystemJSLoader(){SystemLoader.call(this);systemJSConstructor.call(this);} // inline Object.create-style class extension
function SystemProto(){};SystemProto.prototype=SystemLoader.prototype;SystemJSLoader.prototype=new SystemProto();SystemJSLoader.prototype.constructor=SystemJSLoader; // remove ESML instantiate
SystemJSLoader.prototype.instantiate=function(){};var systemJSConstructor;function hook(name,hook){SystemJSLoader.prototype[name]=hook(SystemJSLoader.prototype[name]||function(){});}function hookConstructor(hook){systemJSConstructor=hook(systemJSConstructor||function(){});}function dedupe(deps){var newDeps=[];for(var i=0,l=deps.length;i<l;i++){if(indexOf.call(newDeps,deps[i])==-1)newDeps.push(deps[i]);}return newDeps;}function group(deps){var names=[];var indices=[];for(var i=0,l=deps.length;i<l;i++){var index=indexOf.call(names,deps[i]);if(index===-1){names.push(deps[i]);indices.push([i]);}else {indices[index].push(i);}}return {names:names,indices:indices};}var getOwnPropertyDescriptor=true;try{Object.getOwnPropertyDescriptor({a:0},'a');}catch(e){getOwnPropertyDescriptor=false;} // converts any module.exports object into an object ready for SystemJS.newModule
function getESModule(exports){var esModule={}; // don't trigger getters/setters in environments that support them
if((typeof exports==='undefined'?'undefined':_typeof(exports))=='object'||typeof exports=='function'){if(getOwnPropertyDescriptor){var d;for(var p in exports){if(d=Object.getOwnPropertyDescriptor(exports,p))defineProperty(esModule,p,d);}}else {var hasOwnProperty=exports&&exports.hasOwnProperty;for(var p in exports){if(!hasOwnProperty||exports.hasOwnProperty(p))esModule[p]=exports[p];}}}esModule['default']=exports;defineProperty(esModule,'__useDefault',{value:true});return esModule;}function extend(a,b,prepend){for(var p in b){if(!prepend||!(p in a))a[p]=b[p];}return a;} // package configuration options
var packageProperties=['main','format','defaultExtension','meta','map','basePath','depCache']; // meta first-level extends where:
// array + array appends
// object + object extends
// other properties replace
function extendMeta(a,b,prepend){for(var p in b){var val=b[p];if(!(p in a))a[p]=val;else if(val instanceof Array&&a[p] instanceof Array)a[p]=[].concat(prepend?val:a[p]).concat(prepend?a[p]:val);else if((typeof val==='undefined'?'undefined':_typeof(val))=='object'&&val!==null&&_typeof(a[p])=='object')a[p]=extend(extend({},a[p]),val,prepend);else if(!prepend)a[p]=val;}}function warn(msg){if(this.warnings&&typeof console!='undefined'&&console.warn)console.warn(msg);}var absURLRegEx=/^[^\/]+:\/\//;function readMemberExpression(p,value){var pParts=p.split('.');while(pParts.length){value=value[pParts.shift()];}return value;}var baseURLCache={};function getBaseURLObj(){if(baseURLCache[this.baseURL])return baseURLCache[this.baseURL]; // normalize baseURL if not already
if(this.baseURL[this.baseURL.length-1]!='/')this.baseURL+='/';var baseURL=new URL(this.baseURL,baseURI);this.baseURL=baseURL.href;return baseURLCache[this.baseURL]=baseURL;}function getMapMatch(map,name){var bestMatch,bestMatchLength=0;for(var p in map){if(name.substr(0,p.length)==p&&(name.length==p.length||name[p.length]=='/')){var curMatchLength=p.split('/').length;if(curMatchLength<=bestMatchLength)continue;bestMatch=p;bestMatchLength=curMatchLength;}}return bestMatch;}function setProduction(isProduction){this.set('@system-env',this.newModule({browser:isBrowser,node:!!this._nodeRequire,production:isProduction}));}var baseURIObj=new URL(baseURI);hookConstructor(function(constructor){return function(){constructor.call(this); // support baseURL
this.baseURL=baseURI.substr(0,baseURI.lastIndexOf('/')+1); // support map and paths
this.map={};this.paths={}; // global behaviour flags
this.warnings=false;this.defaultJSExtensions=false;this.pluginFirst=false; // by default load ".json" files as json
// leading * meta doesn't need normalization
// NB add this in next breaking release
// this.meta['*.json'] = { format: 'json' };
// support the empty module, as a concept
this.set('@empty',this.newModule({}));setProduction.call(this,false);};}); // include the node require since we're overriding it
if(typeof require!='undefined'&&typeof process!='undefined'&&!process.browser)SystemJSLoader.prototype._nodeRequire=require;var nodeCoreModules=['assert','buffer','child_process','cluster','console','constants','crypto','dgram','dns','domain','events','fs','http','https','module','net','os','path','process','punycode','querystring','readline','repl','stream','string_decoder','sys','timers','tls','tty','url','util','vm','zlib']; /*
  Core SystemJS Normalization

  If a name is relative, we apply URL normalization to the page
  If a name is an absolute URL, we leave it as-is

  Plain names (neither of the above) run through the map and paths
  normalization phases.

  The paths normalization phase applies last (paths extension), which
  defines the `decanonicalize` function and normalizes everything into
  a URL.
 */function isPlain(name){return name[0]!='.'&&name[0]!='/'&&!name.match(absURLRegEx);}function urlResolve(name,parent){if(parent)parent=parent.replace(/#/g,'%05');return new URL(name,parent||baseURIObj).href.replace(/%05/g,'#');} // only applies to plain names
function baseURLResolve(loader,name){return new URL(name,getBaseURLObj.call(loader)).href;}function coreResolve(name,parentName){ // standard URL resolution
if(!isPlain(name))return urlResolve(name,parentName); // plain names not starting with './', '://' and '/' go through custom resolution
var mapMatch=getMapMatch(this.map,name);if(mapMatch){name=this.map[mapMatch]+name.substr(mapMatch.length);if(!isPlain(name))return urlResolve(name);}if(this.has(name))return name; // dynamically load node-core modules when requiring `@node/fs` for example
if(name.substr(0,6)=='@node/'&&nodeCoreModules.indexOf(name.substr(6))!=-1){if(!this._nodeRequire)throw new TypeError('Error loading '+name+'. Can only load node core modules in Node.');this.set(name,this.newModule(getESModule(this._nodeRequire(name.substr(6)))));return name;}var pathed=applyPaths(this.paths,name);if(pathed&&!isPlain(pathed))return urlResolve(pathed);return baseURLResolve(this,pathed||name);}hook('normalize',function(normalize){return function(name,parentName,skipExt){var resolved=coreResolve.call(this,name,parentName);if(!skipExt&&this.defaultJSExtensions&&resolved.substr(resolved.length-3,3)!='.js'&&!isPlain(resolved))resolved+='.js';return resolved;};}); // percent encode just '#' in urls if using HTTP requests
var httpRequest=typeof XMLHttpRequest!='undefined';hook('locate',function(locate){return function(load){return Promise.resolve(locate.call(this,load)).then(function(address){if(httpRequest)return address.replace(/#/g,'%23');return address;});};}); /*
 * Fetch with authorization
 */hook('fetch',function(){return function(load){return new Promise(function(resolve,reject){fetchTextFromURL(load.address,load.metadata.authorization,resolve,reject);});};}); /*
  __useDefault
  
  When a module object looks like:
  newModule(
    __useDefault: true,
    default: 'some-module'
  })

  Then importing that module provides the 'some-module'
  result directly instead of the full module.

  Useful for eg module.exports = function() {}
*/hook('import',function(systemImport){return function(name,parentName,parentAddress){if(parentName&&parentName.name)warn.call(this,'SystemJS.import(name, { name: parentName }) is deprecated for SystemJS.import(name, parentName), while importing '+name+' from '+parentName.name);return systemImport.call(this,name,parentName,parentAddress).then(function(module){return module.__useDefault?module['default']:module;});};}); /*
 * Allow format: 'detect' meta to enable format detection
 */hook('translate',function(systemTranslate){return function(load){if(load.metadata.format=='detect')load.metadata.format=undefined;return systemTranslate.call(this,load);};}); /*
 * JSON format support
 *
 * Supports loading JSON files as a module format itself
 *
 * Usage:
 *
 * SystemJS.config({
 *   meta: {
 *     '*.json': { format: 'json' }
 *   }
 * });
 *
 * Module is returned as if written:
 *
 * export default {JSON}
 *
 * No named exports are provided
 *
 * Files ending in ".json" are treated as json automatically by SystemJS
 */hook('instantiate',function(instantiate){return function(load){if(load.metadata.format=='json'&&!this.builder){var entry=load.metadata.entry=createEntry();entry.deps=[];entry.execute=function(){try{return JSON.parse(load.source);}catch(e){throw new Error("Invalid JSON file "+load.name);}};}};}); /*
 Extend config merging one deep only

  loader.config({
    some: 'random',
    config: 'here',
    deep: {
      config: { too: 'too' }
    }
  });

  <=>

  loader.some = 'random';
  loader.config = 'here'
  loader.deep = loader.deep || {};
  loader.deep.config = { too: 'too' };


  Normalizes meta and package configs allowing for:

  SystemJS.config({
    meta: {
      './index.js': {}
    }
  });

  To become

  SystemJS.meta['https://thissite.com/index.js'] = {};

  For easy normalization canonicalization with latest URL support.

*/SystemJSLoader.prototype.env='development';SystemJSLoader.prototype.config=function(cfg){var loader=this;if('warnings' in cfg)loader.warnings=cfg.warnings; // transpiler deprecation path
if(cfg.transpilerRuntime===false)loader._loader.loadedTranspilerRuntime=true; // always configure baseURL first
if(cfg.baseURL){var checkHasConfig=function checkHasConfig(obj){for(var p in obj){if(hasOwnProperty.call(obj,p))return true;}};var hasConfig=false;if(checkHasConfig(loader.packages)||checkHasConfig(loader.meta)||checkHasConfig(loader.depCache)||checkHasConfig(loader.bundles)||checkHasConfig(loader.packageConfigPaths))throw new TypeError('Incorrect configuration order. The baseURL must be configured with the first SystemJS.config call.');loader.baseURL=cfg.baseURL; // sanitize baseURL
getBaseURLObj.call(loader);}if(cfg.defaultJSExtensions){loader.defaultJSExtensions=cfg.defaultJSExtensions;warn.call(loader,'The defaultJSExtensions configuration option is deprecated, use packages configuration instead.');}if(cfg.pluginFirst)loader.pluginFirst=cfg.pluginFirst;if(cfg.production)setProduction.call(loader,true);if(cfg.paths){for(var p in cfg.paths){loader.paths[p]=cfg.paths[p];}}if(cfg.map){var objMaps='';for(var p in cfg.map){var v=cfg.map[p]; // object map backwards-compat into packages configuration
if(typeof v!=='string'){objMaps+=(objMaps.length?', ':'')+'"'+p+'"';var defaultJSExtension=loader.defaultJSExtensions&&p.substr(p.length-3,3)!='.js';var prop=loader.decanonicalize(p);if(defaultJSExtension&&prop.substr(prop.length-3,3)=='.js')prop=prop.substr(0,prop.length-3); // if a package main, revert it
var pkgMatch='';for(var pkg in loader.packages){if(prop.substr(0,pkg.length)==pkg&&(!prop[pkg.length]||prop[pkg.length]=='/')&&pkgMatch.split('/').length<pkg.split('/').length)pkgMatch=pkg;}if(pkgMatch&&loader.packages[pkgMatch].main)prop=prop.substr(0,prop.length-loader.packages[pkgMatch].main.length-1);var pkg=loader.packages[prop]=loader.packages[prop]||{};pkg.map=v;}else {loader.map[p]=v;}}if(objMaps)warn.call(loader,'The map configuration for '+objMaps+' uses object submaps, which is deprecated in global map.\nUpdate this to use package contextual map with configs like SystemJS.config({ packages: { "'+p+'": { map: {...} } } }).');}if(cfg.packageConfigPaths){var packageConfigPaths=[];for(var i=0;i<cfg.packageConfigPaths.length;i++){var path=cfg.packageConfigPaths[i];var packageLength=Math.max(path.lastIndexOf('*')+1,path.lastIndexOf('/'));var defaultJSExtension=loader.defaultJSExtensions&&path.substr(packageLength-3,3)!='.js';var normalized=loader.decanonicalize(path.substr(0,packageLength));if(defaultJSExtension&&normalized.substr(normalized.length-3,3)=='.js')normalized=normalized.substr(0,normalized.length-3);packageConfigPaths[i]=normalized+path.substr(packageLength);}loader.packageConfigPaths=packageConfigPaths;}if(cfg.bundles){for(var p in cfg.bundles){var bundle=[];for(var i=0;i<cfg.bundles[p].length;i++){var defaultJSExtension=loader.defaultJSExtensions&&cfg.bundles[p][i].substr(cfg.bundles[p][i].length-3,3)!='.js';var normalizedBundleDep=loader.decanonicalize(cfg.bundles[p][i]);if(defaultJSExtension&&normalizedBundleDep.substr(normalizedBundleDep.length-3,3)=='.js')normalizedBundleDep=normalizedBundleDep.substr(0,normalizedBundleDep.length-3);bundle.push(normalizedBundleDep);}loader.bundles[p]=bundle;}}if(cfg.packages){for(var p in cfg.packages){if(p.match(/^([^\/]+:)?\/\/$/))throw new TypeError('"'+p+'" is not a valid package name.');var defaultJSExtension=loader.defaultJSExtensions&&p.substr(p.length-3,3)!='.js';var prop=coreResolve.call(loader,p);if(defaultJSExtension&&prop.substr(prop.length-3,3)=='.js')prop=prop.substr(0,prop.length-3); // allow trailing slash in packages
if(prop[prop.length-1]=='/')prop=prop.substr(0,prop.length-1);loader.packages[prop]=loader.packages[prop]||{}; // meta backwards compatibility
if(cfg.packages[p].modules){warn.call(loader,'Package '+p+' is configured with "modules", which is deprecated as it has been renamed to "meta".');cfg.packages[p].meta=cfg.packages[p].modules;delete cfg.packages[p].modules;}for(var q in cfg.packages[p]){if(indexOf.call(packageProperties,q)==-1)warn.call(loader,'"'+q+'" is not a valid package configuration option in package '+p);}extendMeta(loader.packages[prop],cfg.packages[p]);}}for(var c in cfg){var v=cfg[c];if(c=='baseURL'||c=='map'||c=='packages'||c=='bundles'||c=='paths'||c=='warnings'||c=='packageConfigPaths')continue;if((typeof v==='undefined'?'undefined':_typeof(v))!='object'||v instanceof Array){loader[c]=v;}else {loader[c]=loader[c]||{};for(var p in v){ // base-level wildcard meta does not normalize to retain catch-all quality
if(c=='meta'&&p[0]=='*'){loader[c][p]=v[p];}else if(c=='meta'){ // meta can go through global map
loader[c][coreResolve.call(loader,p)]=v[p];}else if(c=='depCache'){var defaultJSExtension=loader.defaultJSExtensions&&p.substr(p.length-3,3)!='.js';var prop=loader.decanonicalize(p);if(defaultJSExtension&&prop.substr(prop.length-3,3)=='.js')prop=prop.substr(0,prop.length-3);loader[c][prop]=v[p];}else {loader[c][p]=v[p];}}}}}; /*
 * Package Configuration Extension
 *
 * Example:
 *
 * SystemJS.packages = {
 *   jquery: {
 *     basePath: 'lib', // optionally only use a subdirectory within the package
 *     main: 'index.js', // when not set, package name is requested directly
 *     format: 'amd',
 *     defaultExtension: 'ts', // defaults to 'js', can be set to false
 *     modules: {
 *       '*.ts': {
 *         loader: 'typescript'
 *       },
 *       'vendor/sizzle.js': {
 *         format: 'global'
 *       }
 *     },
 *     map: {
 *        // map internal require('sizzle') to local require('./vendor/sizzle')
 *        sizzle: './vendor/sizzle.js',
 *        // map any internal or external require of 'jquery/vendor/another' to 'another/index.js'
 *        './vendor/another.js': './another/index.js',
 *        // test.js / test -> lib/test.js
 *        './test.js': './lib/test.js',
 *
 *        // environment-specific map configurations
 *        './index.js': {
 *          '~browser': './index-node.js'
 *        }
 *     },
 *     // allows for setting package-prefixed depCache
 *     // keys are normalized module names relative to the package itself
 *     depCache: {
 *       // import 'package/index.js' loads in parallel package/lib/test.js,package/vendor/sizzle.js
 *       './index.js': ['./test'],
 *       './test.js': ['external-dep'],
 *       'external-dep/path.js': ['./another.js']
 *     }
 *   }
 * };
 *
 * Then:
 *   import 'jquery'                       -> jquery/index.js
 *   import 'jquery/submodule'             -> jquery/submodule.js
 *   import 'jquery/submodule.ts'          -> jquery/submodule.ts loaded as typescript
 *   import 'jquery/vendor/another'        -> another/index.js
 *
 * Detailed Behaviours
 * - main can have a leading "./" can be added optionally
 * - map and defaultExtension are applied to the main
 * - defaultExtension adds the extension only if the exact extension is not present
 * - defaultJSExtensions applies after map when defaultExtension is not set
 * - if a meta value is available for a module, map and defaultExtension are skipped
 * - like global map, package map also applies to subpaths (sizzle/x, ./vendor/another/sub)
 * - condition module map is '@env' module in package or '@system-env' globally
 * - map targets support conditional interpolation ('./x': './x.#{|env}.js')
 * - internal package map targets cannot use boolean conditionals
 *
 * In addition, the following modules properties will be allowed to be package
 * -relative as well in the package module config:
 *
 *   - loader
 *   - alias
 *
 *
 * Package Configuration Loading
 *
 * Not all packages may already have their configuration present in the System config
 * For these cases, a list of packageConfigPaths can be provided, which when matched against
 * a request, will first request a ".json" file by the package name to derive the package
 * configuration from. This allows dynamic loading of non-predetermined code, a key use
 * case in SystemJS.
 *
 * Example:
 *
 *   SystemJS.packageConfigPaths = ['packages/test/package.json', 'packages/*.json'];
 *
 *   // will first request 'packages/new-package/package.json' for the package config
 *   // before completing the package request to 'packages/new-package/path'
 *   SystemJS.import('packages/new-package/path');
 *
 *   // will first request 'packages/test/package.json' before the main
 *   SystemJS.import('packages/test');
 *
 * When a package matches packageConfigPaths, it will always send a config request for
 * the package configuration.
 * The package name itself is taken to be the match up to and including the last wildcard
 * or trailing slash.
 * The most specific package config path will be used.
 * Any existing package configurations for the package will deeply merge with the
 * package config, with the existing package configurations taking preference.
 * To opt-out of the package configuration request for a package that matches
 * packageConfigPaths, use the { configured: true } package config option.
 *
 */(function(){hookConstructor(function(constructor){return function(){constructor.call(this);this.packages={};this.packageConfigPaths=[];};});function getPackage(loader,normalized){ // use most specific package
var curPkg,curPkgLen=0,pkgLen;for(var p in loader.packages){if(normalized.substr(0,p.length)===p&&(normalized.length===p.length||normalized[p.length]==='/')){pkgLen=p.split('/').length;if(pkgLen>curPkgLen){curPkg=p;curPkgLen=pkgLen;}}}return curPkg;}function getBasePath(pkg){ // sanitize basePath
var basePath=pkg.basePath&&pkg.basePath!='.'?pkg.basePath:'';if(basePath){if(basePath.substr(0,2)=='./')basePath=basePath.substr(2);if(basePath[basePath.length-1]!='/')basePath+='/';}return basePath;}function addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions){ // don't apply extensions to folders or if defaultExtension = false
if(!subPath||subPath[subPath.length-1]=='/'||skipExtensions||pkg.defaultExtension===false)return subPath; // NB are you sure about this?
// skip if we have interpolation conditional syntax in subPath?
if(subPath.match(interpolationRegEx))return subPath;var metaMatch=false; // exact meta or meta with any content after the last wildcard skips extension
if(pkg.meta)getMetaMatches(pkg.meta,subPath,function(metaPattern,matchMeta,matchDepth){if(matchDepth==0||metaPattern.lastIndexOf('*')!=metaPattern.length-1)return metaMatch=true;}); // exact global meta or meta with any content after the last wildcard skips extension
if(!metaMatch&&loader.meta)getMetaMatches(loader.meta,pkgName+'/'+basePath+subPath,function(metaPattern,matchMeta,matchDepth){if(matchDepth==0||metaPattern.lastIndexOf('*')!=metaPattern.length-1)return metaMatch=true;});if(metaMatch)return subPath; // work out what the defaultExtension is and add if not there already
// NB reconsider if default should really be ".js"?
var defaultExtension='.'+(pkg.defaultExtension||'js');if(subPath.substr(subPath.length-defaultExtension.length)!=defaultExtension)return subPath+defaultExtension;else return subPath;}function applyPackageConfigSync(loader,pkg,pkgName,subPath,skipExtensions){ // main
if(!subPath){if(pkg.main)subPath=pkg.main.substr(0,2)=='./'?pkg.main.substr(2):pkg.main; // also no submap if name is package itself (import 'pkg' -> 'path/to/pkg.js')
else  // NB can add a default package main convention here when defaultJSExtensions is deprecated
// if it becomes internal to the package then it would no longer be an exit path
return pkgName+(loader.defaultJSExtensions?'.js':'');}var basePath=getBasePath(pkg); // map config checking without then with extensions
if(pkg.map){var mapPath='./'+subPath;var mapMatch=getMapMatch(pkg.map,mapPath); // we then check map with the default extension adding
if(!mapMatch){mapPath='./'+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions);if(mapPath!='./'+subPath)mapMatch=getMapMatch(pkg.map,mapPath);}if(mapMatch)return doMapSync(loader,pkg,pkgName,basePath,mapMatch,mapPath,skipExtensions);} // normal package resolution
return pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions);}function doMapSync(loader,pkg,pkgName,basePath,mapMatch,path,skipExtensions){var mapped=pkg.map[mapMatch]; // ignore conditionals in sync
if(typeof mapped!='string')mapped=mapMatch=path; // package map to main / base-level
if(mapped=='.')mapped=pkgName; // internal package map
else if(mapped.substr(0,2)=='./')return pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,mapped.substr(2)+path.substr(mapMatch.length),skipExtensions); // external map reference
return loader.normalizeSync(mapped+path.substr(mapMatch.length),pkgName+'/');}function applyPackageConfig(loader,pkg,pkgName,subPath,skipExtensions){ // main
if(!subPath){if(pkg.main)subPath=pkg.main.substr(0,2)=='./'?pkg.main.substr(2):pkg.main; // also no submap if name is package itself (import 'pkg' -> 'path/to/pkg.js')
else  // NB can add a default package main convention here when defaultJSExtensions is deprecated
// if it becomes internal to the package then it would no longer be an exit path
return Promise.resolve(pkgName+(loader.defaultJSExtensions?'.js':''));}var basePath=getBasePath(pkg); // map config checking without then with extensions
var mapPath,mapMatch;if(pkg.map){mapPath='./'+subPath;mapMatch=getMapMatch(pkg.map,mapPath); // we then check map with the default extension adding
if(!mapMatch){mapPath='./'+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions);if(mapPath!='./'+subPath)mapMatch=getMapMatch(pkg.map,mapPath);}}return (mapMatch?doMap(loader,pkg,pkgName,basePath,mapMatch,mapPath,skipExtensions):Promise.resolve()).then(function(mapped){if(mapped)return Promise.resolve(mapped); // normal package resolution / fallback resolution for no conditional match
return Promise.resolve(pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions));});}function doStringMap(loader,pkg,pkgName,basePath,mapMatch,mapped,path,skipExtensions){ // NB the interpolation cases should strictly skip subsequent interpolation
// package map to main / base-level
if(mapped=='.')mapped=pkgName; // internal package map
else if(mapped.substr(0,2)=='./')return Promise.resolve(pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,mapped.substr(2)+path.substr(mapMatch.length),skipExtensions)).then(function(name){return interpolateConditional.call(loader,name,pkgName+'/');}); // external map reference
// NB deprecate the use of the second argument here -> should be fully global reference
return loader.normalize(mapped+path.substr(mapMatch.length),pkgName+'/');}function doMap(loader,pkg,pkgName,basePath,mapMatch,path,skipExtensions){var mapped=pkg.map[mapMatch];if(typeof mapped=='string')return doStringMap(loader,pkg,pkgName,basePath,mapMatch,mapped,path,skipExtensions); // we use a special conditional syntax to allow the builder to handle conditional branch points further
if(loader.builder)return Promise.resolve(pkgName+'/#:'+path); // map object -> conditional map
return loader['import'](pkg.map['@env']||'@system-env',pkgName).then(function(env){ // first map condition to match is used
for(var e in mapped){var negate=e[0]=='~';var value=readMemberExpression(negate?e.substr(1):e,env);if(!negate&&value||negate&&!value)return mapped[e];}}).then(function(mapped){if(mapped)return doStringMap(loader,pkg,pkgName,basePath,mapMatch,mapped,path,skipExtensions); // no environment match -> fallback to original subPath by returning undefined
});} // normalizeSync = decanonicalize + package resolution
SystemJSLoader.prototype.normalizeSync=SystemJSLoader.prototype.decanonicalize=SystemJSLoader.prototype.normalize; // decanonicalize must JUST handle package defaultExtension: false case when defaultJSExtensions is set
// to be deprecated!
hook('decanonicalize',function(decanonicalize){return function(name,parentName){if(this.builder)return decanonicalize.call(this,name,parentName,true);var decanonicalized=decanonicalize.call(this,name,parentName);if(!this.defaultJSExtensions)return decanonicalized;var pkgName=getPackage(this,decanonicalized);var pkg=this.packages[pkgName];var defaultExtension=pkg&&pkg.defaultExtension;if(defaultExtension==undefined&&pkg&&pkg.meta)getMetaMatches(pkg.meta,decanonicalized.substr(pkgName),function(metaPattern,matchMeta,matchDepth){if(matchDepth==0||metaPattern.lastIndexOf('*')!=metaPattern.length-1){defaultExtension=false;return true;}});if((defaultExtension===false||defaultExtension&&defaultExtension!='.js')&&name.substr(name.length-3,3)!='.js'&&decanonicalized.substr(decanonicalized.length-3,3)=='.js')decanonicalized=decanonicalized.substr(0,decanonicalized.length-3);return decanonicalized;};});hook('normalizeSync',function(normalizeSync){return function(name,parentName,isPlugin){warn.call(this,'SystemJS.normalizeSync has been deprecated for SystemJS.decanonicalize.');var loader=this;isPlugin=isPlugin===true; // apply contextual package map first
// (we assume the parent package config has already been loaded)
if(parentName)var parentPackageName=getPackage(loader,parentName)||loader.defaultJSExtensions&&parentName.substr(parentName.length-3,3)=='.js'&&getPackage(loader,parentName.substr(0,parentName.length-3));var parentPackage=parentPackageName&&loader.packages[parentPackageName]; // remove any parent basePath from parentName
if(parentPackage){var parentBasePath=getBasePath(parentPackage);if(parentBasePath&&parentName.substr(parentPackageName.length+1,parentBasePath.length)==parentBasePath)parentName=parentPackageName+parentName.substr(parentPackageName.length+parentBasePath.length);} // ignore . since internal maps handled by standard package resolution
if(parentPackage&&name[0]!='.'){var parentMap=parentPackage.map;var parentMapMatch=parentMap&&getMapMatch(parentMap,name);if(parentMapMatch&&typeof parentMap[parentMapMatch]=='string')return doMapSync(loader,parentPackage,parentPackageName,getBasePath(parentPackage),parentMapMatch,name,isPlugin);}var defaultJSExtension=loader.defaultJSExtensions&&name.substr(name.length-3,3)!='.js'; // apply map, core, paths, contextual package map
var normalized=normalizeSync.call(loader,name,parentName); // undo defaultJSExtension
if(defaultJSExtension&&normalized.substr(normalized.length-3,3)!='.js')defaultJSExtension=false;if(defaultJSExtension)normalized=normalized.substr(0,normalized.length-3);var pkgConfigMatch=getPackageConfigMatch(loader,normalized);var pkgName=pkgConfigMatch&&pkgConfigMatch.packageName||getPackage(loader,normalized);if(!pkgName)return normalized+(defaultJSExtension?'.js':'');var subPath=normalized.substr(pkgName.length+1);return applyPackageConfigSync(loader,loader.packages[pkgName]||{},pkgName,subPath,isPlugin);};});hook('normalize',function(normalize){return function(name,parentName,isPlugin){var loader=this;isPlugin=isPlugin===true;return Promise.resolve().then(function(){ // apply contextual package map first
// (we assume the parent package config has already been loaded)
if(parentName)var parentPackageName=getPackage(loader,parentName)||loader.defaultJSExtensions&&parentName.substr(parentName.length-3,3)=='.js'&&getPackage(loader,parentName.substr(0,parentName.length-3));var parentPackage=parentPackageName&&loader.packages[parentPackageName]; // remove any parent basePath from parentName
if(parentPackage){var parentBasePath=getBasePath(parentPackage);if(parentBasePath&&parentName.substr(parentPackageName.length+1,parentBasePath.length)==parentBasePath)parentName=parentPackageName+parentName.substr(parentPackageName.length+parentBasePath.length);} // ignore . since internal maps handled by standard package resolution
if(parentPackage&&name.substr(0,2)!='./'){var parentMap=parentPackage.map;var parentMapMatch=parentMap&&getMapMatch(parentMap,name);if(parentMapMatch)return doMap(loader,parentPackage,parentPackageName,parentBasePath,parentMapMatch,name,isPlugin);}return Promise.resolve();}).then(function(mapped){if(mapped)return mapped;var defaultJSExtension=loader.defaultJSExtensions&&name.substr(name.length-3,3)!='.js'; // apply map, core, paths, contextual package map
var normalized=normalize.call(loader,name,parentName); // undo defaultJSExtension
if(defaultJSExtension&&normalized.substr(normalized.length-3,3)!='.js')defaultJSExtension=false;if(defaultJSExtension)normalized=normalized.substr(0,normalized.length-3);var pkgConfigMatch=getPackageConfigMatch(loader,normalized);var pkgName=pkgConfigMatch&&pkgConfigMatch.packageName||getPackage(loader,normalized);if(!pkgName)return Promise.resolve(normalized+(defaultJSExtension?'.js':''));var pkg=loader.packages[pkgName]; // if package is already configured or not a dynamic config package, use existing package config
var isConfigured=pkg&&(pkg.configured||!pkgConfigMatch);return (isConfigured?Promise.resolve(pkg):loadPackageConfigPath(loader,pkgName,pkgConfigMatch.configPath)).then(function(pkg){var subPath=normalized.substr(pkgName.length+1);return applyPackageConfig(loader,pkg,pkgName,subPath,isPlugin);});});};}); // check if the given normalized name matches a packageConfigPath
// if so, loads the config
var packageConfigPaths={}; // data object for quick checks against package paths
function createPkgConfigPathObj(path){var lastWildcard=path.lastIndexOf('*');var length=Math.max(lastWildcard+1,path.lastIndexOf('/'));return {length:length, // NB handle regex control character escapes or simply create a test function here
regEx:new RegExp('^('+path.substr(0,length).replace(/\*/g,'[^\\/]+')+')(\\/|$)'),wildcard:lastWildcard!=-1};} // most specific match wins
function getPackageConfigMatch(loader,normalized){var pkgName,exactMatch=false,configPath;for(var i=0;i<loader.packageConfigPaths.length;i++){var packageConfigPath=loader.packageConfigPaths[i];var p=packageConfigPaths[packageConfigPath]||(packageConfigPaths[packageConfigPath]=createPkgConfigPathObj(packageConfigPath));if(normalized.length<p.length)continue;var match=normalized.match(p.regEx);if(match&&(!pkgName||!(exactMatch&&p.wildcard)&&pkgName.length<match[1].length)){pkgName=match[1];exactMatch=!p.wildcard;configPath=pkgName+packageConfigPath.substr(p.length);}}if(!pkgName)return;return {packageName:pkgName,configPath:configPath};}function loadPackageConfigPath(loader,pkgName,pkgConfigPath){var configLoader=loader.pluginLoader||loader; // NB remove this when json is default
(configLoader.meta[pkgConfigPath]=configLoader.meta[pkgConfigPath]||{}).format='json';return configLoader.load(pkgConfigPath).then(function(){pkgConfig=configLoader.get(pkgConfigPath);var cfg=pkgConfig['default']; // support "systemjs" prefixing
if(cfg.systemjs)cfg=cfg.systemjs; // modules backwards compatibility
if(cfg.modules){cfg.meta=cfg.modules;warn.call(loader,'Package config file '+pkgConfigPath+' is configured with "modules", which is deprecated as it has been renamed to "meta".');} // remove any non-system properties if generic config file (eg package.json)
for(var p in cfg){if(indexOf.call(packageProperties,p)==-1)delete cfg[p];} // deeply-merge (to first level) config with any existing package config
var pkg=loader.packages[pkgName]=loader.packages[pkgName]||{};extendMeta(pkg,cfg,true); // support external depCache
var basePath=getBasePath(pkg);if(cfg.depCache){for(var d in cfg.depCache){var dNormalized;if(d.substr(0,2)=='./')dNormalized=pkgName+'/'+basePath+d.substr(2);else dNormalized=coreResolve.call(loader,d);loader.depCache[dNormalized]=(loader.depCache[dNormalized]||[]).concat(cfg.depCache[d]);}delete cfg.depCache;}return pkg;});}function getMetaMatches(pkgMeta,subPath,matchFn){ // wildcard meta
var meta={};var wildcardIndex;for(var module in pkgMeta){ // allow meta to start with ./ for flexibility
var dotRel=module.substr(0,2)=='./'?'./':'';if(dotRel)module=module.substr(2);wildcardIndex=module.indexOf('*');if(wildcardIndex===-1)continue;if(module.substr(0,wildcardIndex)==subPath.substr(0,wildcardIndex)&&module.substr(wildcardIndex+1)==subPath.substr(subPath.length-module.length+wildcardIndex+1)){ // alow match function to return true for an exit path
if(matchFn(module,pkgMeta[dotRel+module],module.split('/').length))return;}} // exact meta
var exactMeta=pkgMeta[subPath]||pkgMeta['./'+subPath];if(exactMeta)matchFn(exactMeta,exactMeta,0);}hook('locate',function(locate){return function(load){var loader=this;return Promise.resolve(locate.call(this,load)).then(function(address){var pkgName=getPackage(loader,load.name);if(pkgName){var pkg=loader.packages[pkgName];var basePath=getBasePath(pkg);var subPath=load.name.substr(pkgName.length+basePath.length+1); // format
if(pkg.format)load.metadata.format=load.metadata.format||pkg.format;var meta={};if(pkg.meta){var bestDepth=0; // NB support a main shorthand in meta here?
getMetaMatches(pkg.meta,subPath,function(metaPattern,matchMeta,matchDepth){if(matchDepth>bestDepth)bestDepth=matchDepth;extendMeta(meta,matchMeta,matchDepth&&bestDepth>matchDepth);}); // allow alias and loader to be package-relative
if(meta.alias&&meta.alias.substr(0,2)=='./')meta.alias=pkgName+meta.alias.substr(1);if(meta.loader&&meta.loader.substr(0,2)=='./')meta.loader=pkgName+meta.loader.substr(1);extendMeta(load.metadata,meta);}}return address;});};});})(); /*
 * Script tag fetch
 *
 * When load.metadata.scriptLoad is true, we load via script tag injection.
 */(function(){if(typeof document!='undefined')var head=document.getElementsByTagName('head')[0];var curSystem; // if doing worker executing, this is set to the load record being executed
var workerLoad=null; // interactive mode handling method courtesy RequireJS
var ieEvents=head&&function(){var s=document.createElement('script');var isOpera=typeof opera!=='undefined'&&opera.toString()==='[object Opera]';return s.attachEvent&&!(s.attachEvent.toString&&s.attachEvent.toString().indexOf('[native code')<0)&&!isOpera;}(); // IE interactive-only part
// we store loading scripts array as { script: <script>, load: {...} }
var interactiveLoadingScripts=[];var interactiveScript;function getInteractiveScriptLoad(){if(interactiveScript&&interactiveScript.script.readyState==='interactive')return interactiveScript.load;for(var i=0;i<interactiveLoadingScripts.length;i++){if(interactiveLoadingScripts[i].script.readyState=='interactive'){interactiveScript=interactiveLoadingScripts[i];return interactiveScript.load;}}} // System.register, System.registerDynamic, AMD define pipeline
// this is called by the above methods when they execute
// we then run the reduceRegister_ collection function either immediately
// if we are in IE and know the currently executing script (interactive)
// or later if we need to wait for the synchronous load callback to know the script
var loadingCnt=0;var registerQueue=[];hook('pushRegister_',function(pushRegister){return function(register){ // if using eval-execution then skip
if(pushRegister.call(this,register))return false; // if using worker execution, then we're done
if(workerLoad)this.reduceRegister_(workerLoad,register); // detect if we know the currently executing load (IE)
// if so, immediately call reduceRegister
else if(ieEvents)this.reduceRegister_(getInteractiveScriptLoad(),register); // otherwise, add to our execution queue
// to call reduceRegister on sync script load event
else if(loadingCnt)registerQueue.push(register); // if we're not currently loading anything though
// then do the reduction against a null load
// (out of band named define or named register)
// note even in non-script environments, this catch is used
else this.reduceRegister_(null,register);return true;};});function webWorkerImport(loader,load){return new Promise(function(resolve,reject){if(load.metadata.integrity)reject(new Error('Subresource integrity checking is not supported in web workers.'));workerLoad=load;try{importScripts(load.address);}catch(e){workerLoad=null;reject(e);}workerLoad=null; // if nothing registered, then something went wrong
if(!load.metadata.entry)reject(new Error(load.address+' did not call System.register or AMD define'));resolve('');});} // override fetch to use script injection
hook('fetch',function(fetch){return function(load){var loader=this;if(load.metadata.format=='json'||!load.metadata.scriptLoad||!isBrowser&&!isWorker)return fetch.call(this,load);if(isWorker)return webWorkerImport(loader,load);return new Promise(function(resolve,reject){var s=document.createElement('script');s.async=true;if(load.metadata.integrity)s.setAttribute('integrity',load.metadata.integrity);if(ieEvents){s.attachEvent('onreadystatechange',complete);interactiveLoadingScripts.push({script:s,load:load});}else {s.addEventListener('load',complete,false);s.addEventListener('error',error,false);}loadingCnt++;curSystem=__global.System;s.src=load.address;head.appendChild(s);function complete(evt){if(s.readyState&&s.readyState!='loaded'&&s.readyState!='complete')return;loadingCnt--; // complete call is sync on execution finish
// (in ie already done reductions)
if(!load.metadata.entry&&!registerQueue.length){loader.reduceRegister_(load);}else if(!ieEvents){for(var i=0;i<registerQueue.length;i++){loader.reduceRegister_(load,registerQueue[i]);}registerQueue=[];}cleanup(); // if nothing registered, then something went wrong
if(!load.metadata.entry&&!load.metadata.bundle)reject(new Error(load.name+' did not call System.register or AMD define. If loading a global module configure the global name via the meta exports property for script injection support.'));resolve('');}function error(evt){cleanup();reject(new Error('Unable to load script '+load.address));}function cleanup(){__global.System=curSystem;if(s.detachEvent){s.detachEvent('onreadystatechange',complete);for(var i=0;i<interactiveLoadingScripts.length;i++){if(interactiveLoadingScripts[i].script==s){if(interactiveScript&&interactiveScript.script==s)interactiveScript=null;interactiveLoadingScripts.splice(i,1);}}}else {s.removeEventListener('load',complete,false);s.removeEventListener('error',error,false);}head.removeChild(s);}});};});})(); /*
 * Instantiate registry extension
 *
 * Supports Traceur System.register 'instantiate' output for loading ES6 as ES5.
 *
 * - Creates the loader.register function
 * - Also supports metadata.format = 'register' in instantiate for anonymous register modules
 * - Also supports metadata.deps, metadata.execute and metadata.executingRequire
 *     for handling dynamic modules alongside register-transformed ES6 modules
 *
 *
 * The code here replicates the ES6 linking groups algorithm to ensure that
 * circular ES6 compiled into System.register can work alongside circular AMD 
 * and CommonJS, identically to the actual ES6 loader.
 *
 */ /*
 * Registry side table entries in loader.defined
 * Registry Entry Contains:
 *    - name
 *    - deps 
 *    - declare for declarative modules
 *    - execute for dynamic modules, different to declarative execute on module
 *    - executingRequire indicates require drives execution for circularity of dynamic modules
 *    - declarative optional boolean indicating which of the above
 *
 * Can preload modules directly on SystemJS.defined['my/module'] = { deps, execute, executingRequire }
 *
 * Then the entry gets populated with derived information during processing:
 *    - normalizedDeps derived from deps, created in instantiate
 *    - groupIndex used by group linking algorithm
 *    - evaluated indicating whether evaluation has happend
 *    - module the module record object, containing:
 *      - exports actual module exports
 *
 *    For dynamic we track the es module with:
 *    - esModule actual es module value
 *    - esmExports whether to extend the esModule with named exports
 *      
 *    Then for declarative only we track dynamic bindings with the 'module' records:
 *      - name
 *      - exports
 *      - setters declarative setter functions
 *      - dependencies, module records of dependencies
 *      - importers, module records of dependents
 *
 * After linked and evaluated, entries are removed, declarative module records remain in separate
 * module binding table
 *
 */var leadingCommentAndMetaRegEx=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/;function detectRegisterFormat(source){var leadingCommentAndMeta=source.match(leadingCommentAndMetaRegEx);return leadingCommentAndMeta&&source.substr(leadingCommentAndMeta[0].length,15)=='System.register';}function createEntry(){return {name:null,deps:null,originalIndices:null,declare:null,execute:null,executingRequire:false,declarative:false,normalizedDeps:null,groupIndex:null,evaluated:false,module:null,esModule:null,esmExports:false};}(function(){ /*
   * There are two variations of System.register:
   * 1. System.register for ES6 conversion (2-3 params) - System.register([name, ]deps, declare)
   *    see https://github.com/ModuleLoader/es6-module-loader/wiki/System.register-Explained
   *
   * 2. System.registerDynamic for dynamic modules (3-4 params) - System.registerDynamic([name, ]deps, executingRequire, execute)
   * the true or false statement 
   *
   * this extension implements the linking algorithm for the two variations identical to the spec
   * allowing compiled ES6 circular references to work alongside AMD and CJS circular references.
   *
   */SystemJSLoader.prototype.register=function(name,deps,declare){if(typeof name!='string'){declare=deps;deps=name;name=null;} // dynamic backwards-compatibility
// can be deprecated eventually
if(typeof declare=='boolean')return this.registerDynamic.apply(this,arguments);var entry=createEntry(); // ideally wouldn't apply map config to bundle names but 
// dependencies go through map regardless so we can't restrict
// could reconsider in shift to new spec
entry.name=name&&(this.decanonicalize||this.normalize).call(this,name);entry.declarative=true;entry.deps=deps;entry.declare=declare;this.pushRegister_({amd:false,entry:entry});};SystemJSLoader.prototype.registerDynamic=function(name,deps,declare,execute){if(typeof name!='string'){execute=declare;declare=deps;deps=name;name=null;} // dynamic
var entry=createEntry();entry.name=name&&(this.decanonicalize||this.normalize).call(this,name);entry.deps=deps;entry.execute=execute;entry.executingRequire=declare;this.pushRegister_({amd:false,entry:entry});};hook('reduceRegister_',function(){return function(load,register){if(!register)return;var entry=register.entry;var curMeta=load&&load.metadata; // named register
if(entry.name){if(!(entry.name in this.defined))this.defined[entry.name]=entry;if(curMeta)curMeta.bundle=true;} // anonymous register
if(!entry.name||load&&entry.name==load.name){if(!curMeta)throw new TypeError('Unexpected anonymous System.register call.');if(curMeta.entry){if(curMeta.format=='register')throw new Error('Multiple anonymous System.register calls in module '+load.name+'. If loading a bundle, ensure all the System.register calls are named.');else throw new Error('Module '+load.name+' interpreted as '+curMeta.format+' module format, but called System.register.');}if(!curMeta.format)curMeta.format='register';curMeta.entry=entry;}};});hookConstructor(function(constructor){return function(){constructor.call(this);this.defined={};this._loader.moduleRecords={};};});function buildGroups(entry,loader,groups){groups[entry.groupIndex]=groups[entry.groupIndex]||[];if(indexOf.call(groups[entry.groupIndex],entry)!=-1)return;groups[entry.groupIndex].push(entry);for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i];var depEntry=loader.defined[depName]; // not in the registry means already linked / ES6
if(!depEntry||depEntry.evaluated)continue; // now we know the entry is in our unlinked linkage group
var depGroupIndex=entry.groupIndex+(depEntry.declarative!=entry.declarative); // the group index of an entry is always the maximum
if(depEntry.groupIndex===null||depEntry.groupIndex<depGroupIndex){ // if already in a group, remove from the old group
if(depEntry.groupIndex!==null){groups[depEntry.groupIndex].splice(indexOf.call(groups[depEntry.groupIndex],depEntry),1); // if the old group is empty, then we have a mixed depndency cycle
if(groups[depEntry.groupIndex].length==0)throw new Error("Mixed dependency cycle detected");}depEntry.groupIndex=depGroupIndex;}buildGroups(depEntry,loader,groups);}}function link(name,loader){var startEntry=loader.defined[name]; // skip if already linked
if(startEntry.module)return;startEntry.groupIndex=0;var groups=[];buildGroups(startEntry,loader,groups);var curGroupDeclarative=!!startEntry.declarative==groups.length%2;for(var i=groups.length-1;i>=0;i--){var group=groups[i];for(var j=0;j<group.length;j++){var entry=group[j]; // link each group
if(curGroupDeclarative)linkDeclarativeModule(entry,loader);else linkDynamicModule(entry,loader);}curGroupDeclarative=!curGroupDeclarative;}} // module binding records
function Module(){}defineProperty(Module,'toString',{value:function value(){return 'Module';}});function getOrCreateModuleRecord(name,moduleRecords){return moduleRecords[name]||(moduleRecords[name]={name:name,dependencies:[],exports:new Module(), // start from an empty module and extend
importers:[]});}function linkDeclarativeModule(entry,loader){ // only link if already not already started linking (stops at circular)
if(entry.module)return;var moduleRecords=loader._loader.moduleRecords;var module=entry.module=getOrCreateModuleRecord(entry.name,moduleRecords);var exports=entry.module.exports;var declaration=entry.declare.call(__global,function(name,value){module.locked=true;if((typeof name==='undefined'?'undefined':_typeof(name))=='object'){for(var p in name){exports[p]=name[p];}}else {exports[name]=value;}for(var i=0,l=module.importers.length;i<l;i++){var importerModule=module.importers[i];if(!importerModule.locked){var importerIndex=indexOf.call(importerModule.dependencies,module);importerModule.setters[importerIndex](exports);}}module.locked=false;return value;},{id:entry.name});module.setters=declaration.setters;module.execute=declaration.execute;if(!module.setters||!module.execute){throw new TypeError('Invalid System.register form for '+entry.name);} // now link all the module dependencies
for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i];var depEntry=loader.defined[depName];var depModule=moduleRecords[depName]; // work out how to set depExports based on scenarios...
var depExports;if(depModule){depExports=depModule.exports;} // dynamic, already linked in our registry
else if(depEntry&&!depEntry.declarative){depExports=depEntry.esModule;} // in the loader registry
else if(!depEntry){depExports=loader.get(depName);} // we have an entry -> link
else {linkDeclarativeModule(depEntry,loader);depModule=depEntry.module;depExports=depModule.exports;} // only declarative modules have dynamic bindings
if(depModule&&depModule.importers){depModule.importers.push(module);module.dependencies.push(depModule);}else {module.dependencies.push(null);} // run setters for all entries with the matching dependency name
var originalIndices=entry.originalIndices[i];for(var j=0,len=originalIndices.length;j<len;++j){var index=originalIndices[j];if(module.setters[index]){module.setters[index](depExports);}}}} // An analog to loader.get covering execution of all three layers (real declarative, simulated declarative, simulated dynamic)
function getModule(name,loader){var exports;var entry=loader.defined[name];if(!entry){exports=loader.get(name);if(!exports)throw new Error('Unable to load dependency '+name+'.');}else {if(entry.declarative)ensureEvaluated(name,[],loader);else if(!entry.evaluated)linkDynamicModule(entry,loader);exports=entry.module.exports;}if((!entry||entry.declarative)&&exports&&exports.__useDefault)return exports['default'];return exports;}function linkDynamicModule(entry,loader){if(entry.module)return;var exports={};var module=entry.module={exports:exports,id:entry.name}; // AMD requires execute the tree first
if(!entry.executingRequire){for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i]; // we know we only need to link dynamic due to linking algorithm
var depEntry=loader.defined[depName];if(depEntry)linkDynamicModule(depEntry,loader);}} // now execute
entry.evaluated=true;var output=entry.execute.call(__global,function(name){for(var i=0,l=entry.deps.length;i<l;i++){if(entry.deps[i]!=name)continue;return getModule(entry.normalizedDeps[i],loader);} // try and normalize the dependency to see if we have another form
var nameNormalized=loader.normalizeSync(name,entry.name);if(indexOf.call(entry.normalizedDeps,nameNormalized)!=-1)return getModule(nameNormalized,loader);throw new Error('Module '+name+' not declared as a dependency of '+entry.name);},exports,module);if(output)module.exports=output; // create the esModule object, which allows ES6 named imports of dynamics
exports=module.exports; // __esModule flag treats as already-named
if(exports&&exports.__esModule)entry.esModule=exports; // set module as 'default' export, then fake named exports by iterating properties
else if(entry.esmExports&&exports!==__global)entry.esModule=getESModule(exports); // just use the 'default' export
else entry.esModule={'default':exports};} /*
   * Given a module, and the list of modules for this current branch,
   *  ensure that each of the dependencies of this module is evaluated
   *  (unless one is a circular dependency already in the list of seen
   *  modules, in which case we execute it)
   *
   * Then we evaluate the module itself depth-first left to right 
   * execution to match ES6 modules
   */function ensureEvaluated(moduleName,seen,loader){var entry=loader.defined[moduleName]; // if already seen, that means it's an already-evaluated non circular dependency
if(!entry||entry.evaluated||!entry.declarative)return; // this only applies to declarative modules which late-execute
seen.push(moduleName);for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i];if(indexOf.call(seen,depName)==-1){if(!loader.defined[depName])loader.get(depName);else ensureEvaluated(depName,seen,loader);}}if(entry.evaluated)return;entry.evaluated=true;entry.module.execute.call(__global);} // override the delete method to also clear the register caches
hook('delete',function(del){return function(name){delete this._loader.moduleRecords[name];delete this.defined[name];return del.call(this,name);};});hook('fetch',function(fetch){return function(load){if(this.defined[load.name]){load.metadata.format='defined';return '';}load.metadata.deps=load.metadata.deps||[];return fetch.call(this,load);};});hook('translate',function(translate){ // we run the meta detection here (register is after meta)
return function(load){load.metadata.deps=load.metadata.deps||[];return Promise.resolve(translate.call(this,load)).then(function(source){ // run detection for register format
if(load.metadata.format=='register'||!load.metadata.format&&detectRegisterFormat(load.source))load.metadata.format='register';return source;});};});hook('instantiate',function(instantiate){return function(load){if(load.metadata.format=='detect')load.metadata.format=undefined; // assumes previous instantiate is sync
// (core json support)
instantiate.call(this,load);var loader=this;var entry; // first we check if this module has already been defined in the registry
if(loader.defined[load.name]){entry=loader.defined[load.name]; // don't support deps for ES modules
if(!entry.declarative)entry.deps=entry.deps.concat(load.metadata.deps);} // picked up already by an anonymous System.register script injection
// or via the dynamic formats
else if(load.metadata.entry){entry=load.metadata.entry;entry.deps=entry.deps.concat(load.metadata.deps);} // Contains System.register calls
// (dont run bundles in the builder)
else if(!(loader.builder&&load.metadata.bundle)&&(load.metadata.format=='register'||load.metadata.format=='esm'||load.metadata.format=='es6')){if(typeof __exec!='undefined')__exec.call(loader,load);if(!load.metadata.entry&&!load.metadata.bundle)throw new Error(load.name+' detected as '+load.metadata.format+' but didn\'t execute.');entry=load.metadata.entry; // support metadata deps for System.register
if(entry&&load.metadata.deps)entry.deps=entry.deps.concat(load.metadata.deps);} // named bundles are just an empty module
if(!entry){entry=createEntry();entry.deps=load.metadata.deps;entry.execute=function(){};} // place this module onto defined for circular references
loader.defined[load.name]=entry;var grouped=group(entry.deps);entry.deps=grouped.names;entry.originalIndices=grouped.indices;entry.name=load.name;entry.esmExports=load.metadata.esmExports!==false; // first, normalize all dependencies
var normalizePromises=[];for(var i=0,l=entry.deps.length;i<l;i++){normalizePromises.push(Promise.resolve(loader.normalize(entry.deps[i],load.name)));}return Promise.all(normalizePromises).then(function(normalizedDeps){entry.normalizedDeps=normalizedDeps;return {deps:entry.deps,execute:function execute(){ // recursively ensure that the module and all its 
// dependencies are linked (with dependency group handling)
link(load.name,loader); // now handle dependency execution in correct order
ensureEvaluated(load.name,[],loader); // remove from the registry
loader.defined[load.name]=undefined; // return the defined module object
return loader.newModule(entry.declarative?entry.module.exports:entry.esModule);}};});};});})();hook('reduceRegister_',function(reduceRegister){return function(load,register){if(register||!load.metadata.exports)return reduceRegister.call(this,load,register);load.metadata.format='global';var entry=load.metadata.entry=createEntry();entry.deps=load.metadata.deps;var globalValue=readMemberExpression(load.metadata.exports,__global);entry.execute=function(){return globalValue;};};});hookConstructor(function(constructor){return function(){var loader=this;constructor.call(loader);var hasOwnProperty=Object.prototype.hasOwnProperty; // bare minimum ignores for IE8
var ignoredGlobalProps=['_g','sessionStorage','localStorage','clipboardData','frames','frameElement','external','mozAnimationStartTime','webkitStorageInfo','webkitIndexedDB','mozInnerScreenY','mozInnerScreenX'];var globalSnapshot;function forEachGlobal(callback){if(Object.keys)Object.keys(__global).forEach(callback);else for(var g in __global){if(!hasOwnProperty.call(__global,g))continue;callback(g);}}function forEachGlobalValue(callback){forEachGlobal(function(globalName){if(indexOf.call(ignoredGlobalProps,globalName)!=-1)return;try{var value=__global[globalName];}catch(e){ignoredGlobalProps.push(globalName);}callback(globalName,value);});}loader.set('@@global-helpers',loader.newModule({prepareGlobal:function prepareGlobal(moduleName,exportName,globals){ // disable module detection
var curDefine=__global.define;__global.define=undefined; // set globals
var oldGlobals;if(globals){oldGlobals={};for(var g in globals){oldGlobals[g]=__global[g];__global[g]=globals[g];}} // store a complete copy of the global object in order to detect changes
if(!exportName){globalSnapshot={};forEachGlobalValue(function(name,value){globalSnapshot[name]=value;});} // return function to retrieve global
return function(){var globalValue;if(exportName){globalValue=readMemberExpression(exportName,__global);}else {var singleGlobal;var multipleExports;var exports={};forEachGlobalValue(function(name,value){if(globalSnapshot[name]===value)return;if(typeof value=='undefined')return;exports[name]=value;if(typeof singleGlobal!='undefined'){if(!multipleExports&&singleGlobal!==value)multipleExports=true;}else {singleGlobal=value;}});globalValue=multipleExports?exports:singleGlobal;} // revert globals
if(oldGlobals){for(var g in oldGlobals){__global[g]=oldGlobals[g];}}__global.define=curDefine;return globalValue;};}}));};});hookConstructor(function(constructor){return function(){var loader=this;constructor.call(loader);if(typeof window!='undefined'&&typeof document!='undefined'&&window.location)var windowOrigin=location.protocol+'//'+location.hostname+(location.port?':'+location.port:'');loader.set('@@cjs-helpers',loader.newModule({getPathVars:function getPathVars(moduleId){ // remove any plugin syntax
var pluginIndex=moduleId.lastIndexOf('!');var filename;if(pluginIndex!=-1)filename=moduleId.substr(0,pluginIndex);else filename=moduleId;var dirname=filename.split('/');dirname.pop();dirname=dirname.join('/');if(filename.substr(0,8)=='file:///'){filename=filename.substr(7);dirname=dirname.substr(7); // on windows remove leading '/'
if(isWindows){filename=filename.substr(1);dirname=dirname.substr(1);}}else if(windowOrigin&&filename.substr(0,windowOrigin.length)===windowOrigin){filename=filename.substr(windowOrigin.length);dirname=dirname.substr(windowOrigin.length);}return {filename:filename,dirname:dirname};}}));};}); /*
 * AMD Helper function module
 * Separated into its own file as this is the part needed for full AMD support in SFX builds
 * NB since implementations have now diverged this can be merged back with amd.js
 */hook('fetch',function(fetch){return function(load){ // script load implies define global leak
if(load.metadata.scriptLoad&&isBrowser)__global.define=this.amdDefine;return fetch.call(this,load);};});hookConstructor(function(constructor){return function(){var loader=this;constructor.call(this);var commentRegEx=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg;var cjsRequirePre='(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])';var cjsRequirePost="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)";var fnBracketRegEx=/\(([^\)]*)\)/;var wsRegEx=/^\s+|\s+$/g;var requireRegExs={};function getCJSDeps(source,requireIndex){ // remove comments
source=source.replace(commentRegEx,''); // determine the require alias
var params=source.match(fnBracketRegEx);var requireAlias=(params[1].split(',')[requireIndex]||'require').replace(wsRegEx,''); // find or generate the regex for this requireAlias
var requireRegEx=requireRegExs[requireAlias]||(requireRegExs[requireAlias]=new RegExp(cjsRequirePre+requireAlias+cjsRequirePost,'g'));requireRegEx.lastIndex=0;var deps=[];var match;while(match=requireRegEx.exec(source)){deps.push(match[2]||match[3]);}return deps;} /*
      AMD-compatible require
      To copy RequireJS, set window.require = window.requirejs = loader.amdRequire
    */function require(names,callback,errback,referer){ // in amd, first arg can be a config object... we just ignore
if((typeof names==='undefined'?'undefined':_typeof(names))=='object'&&!(names instanceof Array))return require.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1)); // amd require
if(typeof names=='string'&&typeof callback=='function')names=[names];if(names instanceof Array){var dynamicRequires=[];for(var i=0;i<names.length;i++){dynamicRequires.push(loader['import'](names[i],referer));}Promise.all(dynamicRequires).then(function(modules){if(callback)callback.apply(null,modules);},errback);} // commonjs require
else if(typeof names=='string'){var defaultJSExtension=loader.defaultJSExtensions&&names.substr(names.length-3,3)!='.js';var normalized=loader.decanonicalize(names,referer);if(defaultJSExtension&&normalized.substr(normalized.length-3,3)=='.js')normalized=normalized.substr(0,normalized.length-3);var module=loader.get(normalized);if(!module)throw new Error('Module not already loaded loading "'+names+'" from "'+referer+'".');return module.__useDefault?module['default']:module;}else throw new TypeError('Invalid require');}function define(name,deps,factory){if(typeof name!='string'){factory=deps;deps=name;name=null;}if(!(deps instanceof Array)){factory=deps;deps=['require','exports','module'].splice(0,factory.length);}if(typeof factory!='function')factory=function(factory){return function(){return factory;};}(factory); // in IE8, a trailing comma becomes a trailing undefined entry
if(deps[deps.length-1]===undefined)deps.pop(); // remove system dependencies
var requireIndex,exportsIndex,moduleIndex;if((requireIndex=indexOf.call(deps,'require'))!=-1){deps.splice(requireIndex,1); // only trace cjs requires for non-named
// named defines assume the trace has already been done
if(!name)deps=deps.concat(getCJSDeps(factory.toString(),requireIndex));}if((exportsIndex=indexOf.call(deps,'exports'))!=-1)deps.splice(exportsIndex,1);if((moduleIndex=indexOf.call(deps,'module'))!=-1)deps.splice(moduleIndex,1);function execute(req,exports,module){var depValues=[];for(var i=0;i<deps.length;i++){depValues.push(req(deps[i]));}module.uri=module.id;module.config=function(){}; // add back in system dependencies
if(moduleIndex!=-1)depValues.splice(moduleIndex,0,module);if(exportsIndex!=-1)depValues.splice(exportsIndex,0,exports);if(requireIndex!=-1){var contextualRequire=function contextualRequire(names,callback,errback){if(typeof names=='string'&&typeof callback!='function')return req(names);return require.call(loader,names,callback,errback,module.id);};contextualRequire.toUrl=function(name){ // normalize without defaultJSExtensions
var defaultJSExtension=loader.defaultJSExtensions&&name.substr(name.length-3,3)!='.js';var url=loader.decanonicalize(name,module.id);if(defaultJSExtension&&url.substr(url.length-3,3)=='.js')url=url.substr(0,url.length-3);return url;};depValues.splice(requireIndex,0,contextualRequire);} // set global require to AMD require
var curRequire=__global.require;__global.require=require;var output=factory.apply(exportsIndex==-1?__global:exports,depValues);__global.require=curRequire;if(typeof output=='undefined'&&module)output=module.exports;if(typeof output!='undefined')return output;}var entry=createEntry();entry.name=name&&(loader.decanonicalize||loader.normalize).call(loader,name);entry.deps=deps;entry.execute=execute;loader.pushRegister_({amd:true,entry:entry});}define.amd={}; // reduction function to attach defines to a load record
hook('reduceRegister_',function(reduceRegister){return function(load,register){ // only handle AMD registers here
if(!register||!register.amd)return reduceRegister.call(this,load,register);var curMeta=load&&load.metadata;var entry=register.entry;if(curMeta)curMeta.format='amd'; // anonymous define
if(!entry.name){if(!curMeta)throw new TypeError('Unexpected anonymous AMD define.');if(curMeta.entry&&!curMeta.entry.name)throw new Error('Multiple anonymous defines in module '+load.name);curMeta.entry=entry;} // named define
else { // if we don't have any other defines, 
// then let this be an anonymous define
// this is just to support single modules of the form:
// define('jquery')
// still loading anonymously
// because it is done widely enough to be useful
// as soon as there is more than one define, this gets removed though
if(curMeta){if(!curMeta.entry&&!curMeta.bundle)curMeta.entry=entry;else if(curMeta.entry&&curMeta.entry.name)curMeta.entry=undefined; // note this is now a bundle
curMeta.bundle=true;} // define the module through the register registry
if(!(entry.name in this.defined))this.defined[entry.name]=entry;}};});loader.amdDefine=define;loader.amdRequire=require;};}); /*
  SystemJS Loader Plugin Support

  Supports plugin loader syntax with "!", or via metadata.loader

  The plugin name is loaded as a module itself, and can override standard loader hooks
  for the plugin resource. See the plugin section of the systemjs readme.
*/(function(){function getParentName(loader,parentName){ // if parent is a plugin, normalize against the parent plugin argument only
if(parentName){var parentPluginIndex;if(loader.pluginFirst){if((parentPluginIndex=parentName.lastIndexOf('!'))!=-1)return parentName.substr(parentPluginIndex+1);}else {if((parentPluginIndex=parentName.indexOf('!'))!=-1)return parentName.substr(0,parentPluginIndex);}return parentName;}}function parsePlugin(loader,name){var argumentName;var pluginName;var pluginIndex=name.lastIndexOf('!');if(pluginIndex==-1)return;if(loader.pluginFirst){argumentName=name.substr(pluginIndex+1);pluginName=name.substr(0,pluginIndex);}else {argumentName=name.substr(0,pluginIndex);pluginName=name.substr(pluginIndex+1)||argumentName.substr(argumentName.lastIndexOf('.')+1);}return {argument:argumentName,plugin:pluginName};} // put name back together after parts have been normalized
function combinePluginParts(loader,argumentName,pluginName,defaultExtension){if(defaultExtension&&argumentName.substr(argumentName.length-3,3)=='.js')argumentName=argumentName.substr(0,argumentName.length-3);if(loader.pluginFirst){return pluginName+'!'+argumentName;}else {return argumentName+'!'+pluginName;}} // note if normalize will add a default js extension
// if so, remove for backwards compat
// this is strange and sucks, but will be deprecated
function checkDefaultExtension(loader,arg){return loader.defaultJSExtensions&&arg.substr(arg.length-3,3)!='.js';}function createNormalizeSync(normalizeSync){return function(name,parentName,isPlugin){var loader=this;parentName=getParentName(this,parentName);var parsed=parsePlugin(loader,name);if(!parsed)return normalizeSync.call(this,name,parentName,isPlugin); // if this is a plugin, normalize the plugin name and the argument
var argumentName=loader.normalizeSync(parsed.argument,parentName,true);var pluginName=loader.normalizeSync(parsed.plugin,parentName,true);return combinePluginParts(loader,argumentName,pluginName,checkDefaultExtension(loader,parsed.argument));};}hook('decanonicalize',createNormalizeSync);hook('normalizeSync',createNormalizeSync);hook('normalize',function(normalize){return function(name,parentName,isPlugin){var loader=this;parentName=getParentName(this,parentName);var parsed=parsePlugin(loader,name);if(!parsed)return normalize.call(loader,name,parentName,isPlugin);return Promise.all([loader.normalize(parsed.argument,parentName,true),loader.normalize(parsed.plugin,parentName)]).then(function(normalized){return combinePluginParts(loader,normalized[0],normalized[1],checkDefaultExtension(loader,parsed.argument));});};});hook('locate',function(locate){return function(load){var loader=this;var name=load.name; // plugin syntax
var pluginSyntaxIndex;if(loader.pluginFirst){if((pluginSyntaxIndex=name.indexOf('!'))!=-1){load.metadata.loader=name.substr(0,pluginSyntaxIndex);load.name=name.substr(pluginSyntaxIndex+1);}}else {if((pluginSyntaxIndex=name.lastIndexOf('!'))!=-1){load.metadata.loader=name.substr(pluginSyntaxIndex+1);load.name=name.substr(0,pluginSyntaxIndex);}}return locate.call(loader,load).then(function(address){var plugin=load.metadata.loader;if(!plugin)return address; // only fetch the plugin itself if this name isn't defined
if(loader.defined&&loader.defined[name])return address;var pluginLoader=loader.pluginLoader||loader; // load the plugin module and run standard locate
return pluginLoader['import'](plugin).then(function(loaderModule){ // store the plugin module itself on the metadata
load.metadata.loaderModule=loaderModule;load.address=address;if(loaderModule.locate)return loaderModule.locate.call(loader,load);return address;});});};});hook('fetch',function(fetch){return function(load){var loader=this;if(load.metadata.loaderModule&&load.metadata.loaderModule.fetch&&load.metadata.format!='defined'){load.metadata.scriptLoad=false;return load.metadata.loaderModule.fetch.call(loader,load,function(load){return fetch.call(loader,load);});}else {return fetch.call(loader,load);}};});hook('translate',function(translate){return function(load){var loader=this;if(load.metadata.loaderModule&&load.metadata.loaderModule.translate&&load.metadata.format!='defined'){return Promise.resolve(load.metadata.loaderModule.translate.call(loader,load)).then(function(result){var sourceMap=load.metadata.sourceMap; // sanitize sourceMap if an object not a JSON string
if(sourceMap){if((typeof sourceMap==='undefined'?'undefined':_typeof(sourceMap))!='object')throw new Error('load.metadata.sourceMap must be set to an object.');var originalName=load.name.split('!')[0]; // force set the filename of the original file
sourceMap.file=originalName+'!transpiled'; // force set the sources list if only one source
if(!sourceMap.sources||sourceMap.sources.length<=1)sourceMap.sources=[originalName];} // if running on file:/// URLs, sourcesContent is necessary
// load.metadata.sourceMap.sourcesContent = [load.source];
if(typeof result=='string')load.source=result;else warn.call(this,'Plugin '+load.metadata.loader+' should return the source in translate, instead of setting load.source directly. This support will be deprecated.');return translate.call(loader,load);});}else {return translate.call(loader,load);}};});hook('instantiate',function(instantiate){return function(load){var loader=this;if(load.metadata.loaderModule&&load.metadata.loaderModule.instantiate&&!loader.builder&&load.metadata.format!='defined')return Promise.resolve(load.metadata.loaderModule.instantiate.call(loader,load)).then(function(result){load.metadata.entry=createEntry();load.metadata.entry.execute=function(){return result;};load.metadata.entry.deps=load.metadata.deps;load.metadata.format='defined';return instantiate.call(loader,load);});else return instantiate.call(loader,load);};});})(); /*
 * Conditions Extension
 *
 *   Allows a condition module to alter the resolution of an import via syntax:
 *
 *     import $ from 'jquery/#{browser}';
 *
 *   Will first load the module 'browser' via `SystemJS.import('browser')` and 
 *   take the default export of that module.
 *   If the default export is not a string, an error is thrown.
 * 
 *   We then substitute the string into the require to get the conditional resolution
 *   enabling environment-specific variations like:
 * 
 *     import $ from 'jquery/ie'
 *     import $ from 'jquery/firefox'
 *     import $ from 'jquery/chrome'
 *     import $ from 'jquery/safari'
 *
 *   It can be useful for a condition module to define multiple conditions.
 *   This can be done via the `|` modifier to specify an export member expression:
 *
 *     import 'jquery/#{./browser.js|grade.version}'
 *
 *   Where the `grade` export `version` member in the `browser.js` module  is substituted.
 *
 *
 * Boolean Conditionals
 *
 *   For polyfill modules, that are used as imports but have no module value,
 *   a binary conditional allows a module not to be loaded at all if not needed:
 *
 *     import 'es5-shim#?./conditions.js|needs-es5shim'
 *
 *   These conditions can also be negated via:
 *     
 *     import 'es5-shim#?~./conditions.js|es6'
 *
 */function parseCondition(condition){var conditionExport,conditionModule,negation;var negation=condition[0]=='~';var conditionExportIndex=condition.lastIndexOf('|');if(conditionExportIndex!=-1){conditionExport=condition.substr(conditionExportIndex+1);conditionModule=condition.substr(negation,conditionExportIndex-negation)||'@system-env';}else {conditionExport=null;conditionModule=condition.substr(negation);}return {module:conditionModule,prop:conditionExport,negate:negation};}function serializeCondition(conditionObj){return (conditionObj.negate?'~':'')+conditionObj.module+(conditionObj.prop?'|'+conditionObj.prop:'');}function resolveCondition(conditionObj,parentName,bool){return this['import'](conditionObj.module,parentName).then(function(m){if(conditionObj.prop)m=readMemberExpression(conditionObj.prop,m);else if((typeof m==='undefined'?'undefined':_typeof(m))=='object'&&m+''=='Module')m=m['default'];if(bool&&typeof m!='boolean')throw new TypeError('Condition '+serializeCondition(conditionObj)+' did not resolve to a boolean.');return conditionObj.negate?!m:m;});}var interpolationRegEx=/#\{[^\}]+\}/;function interpolateConditional(name,parentName){ // first we normalize the conditional
var conditionalMatch=name.match(interpolationRegEx);if(!conditionalMatch)return Promise.resolve(name);var conditionObj=parseCondition(conditionalMatch[0].substr(2,conditionalMatch[0].length-3)); // in builds, return normalized conditional
if(this.builder)return this['normalize'](conditionObj.module,parentName).then(function(conditionModule){conditionObj.module=conditionModule;return name.replace(interpolationRegEx,'#{'+serializeCondition(conditionObj)+'}');});return resolveCondition.call(this,conditionObj,parentName,false).then(function(conditionValue){if(typeof conditionValue!=='string')throw new TypeError('The condition value for '+name+' doesn\'t resolve to a string.');if(conditionValue.indexOf('/')!=-1)throw new TypeError('Unabled to interpolate conditional '+name+(parentName?' in '+parentName:'')+'\n\tThe condition value '+conditionValue+' cannot contain a "/" separator.');return name.replace(interpolationRegEx,conditionValue);});}function booleanConditional(name,parentName){ // first we normalize the conditional
var booleanIndex=name.lastIndexOf('#?');if(booleanIndex==-1)return Promise.resolve(name);var conditionObj=parseCondition(name.substr(booleanIndex+2)); // in builds, return normalized conditional
if(this.builder)return this['normalize'](conditionObj.module,parentName).then(function(conditionModule){conditionObj.module=conditionModule;return name.substr(0,booleanIndex)+'#?'+serializeCondition(conditionObj);});return resolveCondition.call(this,conditionObj,parentName,true).then(function(conditionValue){return conditionValue?name.substr(0,booleanIndex):'@empty';});} // normalizeSync does not parse conditionals at all although it could
hook('normalize',function(normalize){return function(name,parentName,parentAddress){var loader=this;return booleanConditional.call(loader,name,parentName).then(function(name){return normalize.call(loader,name,parentName,parentAddress);}).then(function(normalized){return interpolateConditional.call(loader,normalized,parentName);});};}); /*
 * Alias Extension
 *
 * Allows a module to be a plain copy of another module by module name
 *
 * SystemJS.meta['mybootstrapalias'] = { alias: 'bootstrap' };
 *
 */(function(){ // aliases
hook('fetch',function(fetch){return function(load){var alias=load.metadata.alias;var aliasDeps=load.metadata.deps||[];if(alias){load.metadata.format='defined';var entry=createEntry();this.defined[load.name]=entry;entry.declarative=true;entry.deps=aliasDeps.concat([alias]);entry.declare=function(_export){return {setters:[function(module){for(var p in module){_export(p,module[p]);}if(module.__useDefault)entry.module.exports.__useDefault=true;}],execute:function execute(){}};};return '';}return fetch.call(this,load);};});})(); /*
 * Meta Extension
 *
 * Sets default metadata on a load record (load.metadata) from
 * loader.metadata via SystemJS.meta function.
 *
 *
 * Also provides an inline meta syntax for module meta in source.
 *
 * Eg:
 *
 * loader.meta({
 *   'my/module': { deps: ['jquery'] }
 *   'my/*': { format: 'amd' }
 * });
 *
 * Which in turn populates loader.metadata.
 *
 * load.metadata.deps and load.metadata.format will then be set
 * for 'my/module'
 *
 * The same meta could be set with a my/module.js file containing:
 *
 * my/module.js
 *   "format amd";
 *   "deps[] jquery";
 *   "globals.some value"
 *   console.log('this is my/module');
 *
 * Configuration meta always takes preference to inline meta.
 *
 * Multiple matches in wildcards are supported and ammend the meta.
 *
 *
 * The benefits of the function form is that paths are URL-normalized
 * supporting say
 *
 * loader.meta({ './app': { format: 'cjs' } });
 *
 * Instead of needing to set against the absolute URL (https://site.com/app.js)
 *
 */(function(){hookConstructor(function(constructor){return function(){this.meta={};constructor.call(this);};});hook('locate',function(locate){return function(load){var meta=this.meta;var name=load.name; // NB for perf, maybe introduce a fast-path wildcard lookup cache here
// which is checked first
// apply wildcard metas
var bestDepth=0;var wildcardIndex;for(var module in meta){wildcardIndex=module.indexOf('*');if(wildcardIndex===-1)continue;if(module.substr(0,wildcardIndex)===name.substr(0,wildcardIndex)&&module.substr(wildcardIndex+1)===name.substr(name.length-module.length+wildcardIndex+1)){var depth=module.split('/').length;if(depth>bestDepth)bestDepth=depth;extendMeta(load.metadata,meta[module],bestDepth!=depth);}} // apply exact meta
if(meta[name])extendMeta(load.metadata,meta[name]);return locate.call(this,load);};}); // detect any meta header syntax
// only set if not already set
var metaRegEx=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/;var metaPartRegEx=/\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;function setMetaProperty(target,p,value){var pParts=p.split('.');var curPart;while(pParts.length>1){curPart=pParts.shift();target=target[curPart]=target[curPart]||{};}curPart=pParts.shift();if(!(curPart in target))target[curPart]=value;}hook('translate',function(translate){return function(load){ // NB meta will be post-translate pending transpiler conversion to plugins
var meta=load.source.match(metaRegEx);if(meta){var metaParts=meta[0].match(metaPartRegEx);for(var i=0;i<metaParts.length;i++){var curPart=metaParts[i];var len=curPart.length;var firstChar=curPart.substr(0,1);if(curPart.substr(len-1,1)==';')len--;if(firstChar!='"'&&firstChar!="'")continue;var metaString=curPart.substr(1,curPart.length-3);var metaName=metaString.substr(0,metaString.indexOf(' '));if(metaName){var metaValue=metaString.substr(metaName.length+1,metaString.length-metaName.length-1);if(metaName.substr(metaName.length-2,2)=='[]'){metaName=metaName.substr(0,metaName.length-2);load.metadata[metaName]=load.metadata[metaName]||[];load.metadata[metaName].push(metaValue);}else if(load.metadata[metaName] instanceof Array){ // temporary backwards compat for previous "deps" syntax
warn.call(this,'Module '+load.name+' contains deprecated "deps '+metaValue+'" meta syntax.\nThis should be updated to "deps[] '+metaValue+'" for pushing to array meta.');load.metadata[metaName].push(metaValue);}else {setMetaProperty(load.metadata,metaName,metaValue);}}else {load.metadata[metaString]=true;}}}return translate.call(this,load);};});})(); /*
  System bundles

  Allows a bundle module to be specified which will be dynamically 
  loaded before trying to load a given module.

  For example:
  SystemJS.bundles['mybundle'] = ['jquery', 'bootstrap/js/bootstrap']

  Will result in a load to "mybundle" whenever a load to "jquery"
  or "bootstrap/js/bootstrap" is made.

  In this way, the bundle becomes the request that provides the module
*/(function(){ // bundles support (just like RequireJS)
// bundle name is module name of bundle itself
// bundle is array of modules defined by the bundle
// when a module in the bundle is requested, the bundle is loaded instead
// of the form SystemJS.bundles['mybundle'] = ['jquery', 'bootstrap/js/bootstrap']
hookConstructor(function(constructor){return function(){constructor.call(this);this.bundles={};this._loader.loadedBundles={};};}); // assign bundle metadata for bundle loads
hook('locate',function(locate){return function(load){var loader=this;var matched=false;if(!(load.name in loader.defined))for(var b in loader.bundles){for(var i=0;i<loader.bundles[b].length;i++){var curModule=loader.bundles[b][i];if(curModule==load.name){matched=true;break;} // wildcard in bundles does not include / boundaries
if(curModule.indexOf('*')!=-1){var parts=curModule.split('*');if(parts.length!=2){loader.bundles[b].splice(i--,1);continue;}if(load.name.substring(0,parts[0].length)==parts[0]&&load.name.substr(load.name.length-parts[1].length,parts[1].length)==parts[1]&&load.name.substr(parts[0].length,load.name.length-parts[1].length-parts[0].length).indexOf('/')==-1){matched=true;break;}}}if(matched)return loader['import'](b).then(function(){return locate.call(loader,load);});}return locate.call(loader,load);};});})(); /*
 * Dependency Tree Cache
 * 
 * Allows a build to pre-populate a dependency trace tree on the loader of 
 * the expected dependency tree, to be loaded upfront when requesting the
 * module, avoinding the n round trips latency of module loading, where 
 * n is the dependency tree depth.
 *
 * eg:
 * SystemJS.depCache = {
 *  'app': ['normalized', 'deps'],
 *  'normalized': ['another'],
 *  'deps': ['tree']
 * };
 * 
 * SystemJS.import('app') 
 * // simultaneously starts loading all of:
 * // 'normalized', 'deps', 'another', 'tree'
 * // before "app" source is even loaded
 *
 */(function(){hookConstructor(function(constructor){return function(){constructor.call(this);this.depCache={};};});hook('locate',function(locate){return function(load){var loader=this; // load direct deps, in turn will pick up their trace trees
var deps=loader.depCache[load.name];if(deps)for(var i=0;i<deps.length;i++){loader['import'](deps[i],load.name);}return locate.call(loader,load);};});})(); /*
 * Script-only addition used for production loader
 *
 */hookConstructor(function(constructor){return function(){constructor.apply(this,arguments);};});hook('fetch',function(fetch){return function(load){load.metadata.scriptLoad=true;return fetch.call(this,load);};});System=new SystemJSLoader();__global.SystemJS=System;System.version='0.19.23 CSP'; // -- exporting --
if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object')module.exports=Loader;__global.Reflect=__global.Reflect||{};__global.Reflect.Loader=__global.Reflect.Loader||Loader;__global.Reflect.global=__global.Reflect.global||__global;__global.LoaderPolyfill=Loader;if(!System){System=new SystemLoader();System.constructor=SystemLoader;}if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object')module.exports=System;__global.System=System;})(typeof self!='undefined'?self:global);} // auto-load Promise and URL polyfills if needed in the browser
try{var hasURL=typeof URLPolyfill!='undefined'||new URL('test:///').protocol=='test:';}catch(e){}if(typeof Promise==='undefined'||!hasURL){ // document.write
if(typeof document!=='undefined'){var scripts=document.getElementsByTagName('script');$__curScript=scripts[scripts.length-1];var curPath=$__curScript.src;var basePath=curPath.substr(0,curPath.lastIndexOf('/')+1);window.systemJSBootstrap=bootstrap;document.write('<'+'script type="text/javascript" src="'+basePath+'system-polyfills.js">'+'<'+'/script>');} // importScripts
else if(typeof importScripts!=='undefined'){var basePath='';try{throw new Error('_');}catch(e){e.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/,function(m,url){basePath=url.replace(/\/[^\/]*$/,'/');});}importScripts(basePath+'system-polyfills.js');bootstrap();}else {bootstrap();}}else {bootstrap();}})();}};});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN5c3RlbS1jc3AtcHJvZHVjdGlvbi5zcmMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7R0FHQSxDQUFDLFVBQVcsQ0FDWixTQUFTLFNBQVQsRUFBcUIsQ0FBQyxDQUFDLFNBQVMsUUFBVCxDQUFtQixDQUV4QyxJQUFJLFNBQVcsT0FBTyxNQUFQLEVBQWlCLFdBQWpCLEVBQWdDLE9BQU8sSUFBUCxFQUFlLFdBQWYsRUFBOEIsT0FBTyxhQUFQLEVBQXdCLFdBQXhCLENBRnJDLElBR3BDLFVBQVksT0FBTyxNQUFQLEVBQWlCLFdBQWpCLEVBQWdDLE9BQU8sUUFBUCxFQUFtQixXQUFuQixDQUhSLElBSXBDLFVBQVksT0FBTyxPQUFQLEVBQWtCLFdBQWxCLEVBQWlDLE9BQU8sUUFBUSxRQUFSLEVBQW9CLFdBQTNCLEVBQTBDLENBQUMsQ0FBQyxRQUFRLFFBQVIsQ0FBaUIsS0FBakIsQ0FBdUIsTUFBdkIsQ0FBRCxDQUpwRCxHQU1wQyxDQUFDLFNBQVMsT0FBVCxDQUNILFNBQVMsT0FBVCxDQUFtQixDQUFFLE9BQVEsaUJBQVcsRUFBWCxDQUE3QixDQURGO0FBTndDLElBVXBDLFFBQVUsTUFBTSxTQUFOLENBQWdCLE9BQWhCLEVBQTJCLFNBQVMsSUFBVCxDQUFlLENBQ3RELElBQUssSUFBSSxFQUFJLENBQUosQ0FBTyxRQUFVLEtBQUssTUFBTCxDQUFhLEVBQUksT0FBSixDQUFhLEdBQXBELENBQXlELENBQ3ZELEdBQUksS0FBSyxDQUFMLElBQVksSUFBWixDQUFrQixDQUNwQixPQUFPLENBQVAsQ0FEb0IsQ0FBdEIsQ0FERixPQUtPLENBQUMsQ0FBRCxDQU4rQyxDQUFmLENBVkQsSUFtQnBDLGNBQUosQ0FuQndDLENBb0J2QyxVQUFZLENBQ1gsR0FBSSxDQUNGLEdBQUksQ0FBQyxDQUFDLE9BQU8sY0FBUCxDQUFzQixFQUF0QixDQUEwQixHQUExQixDQUErQixFQUEvQixDQUFELENBQ0gsZUFBaUIsT0FBTyxjQUFQLENBRG5CLENBREYsTUFJTyxDQUFQ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LEtBQVQsQ0FDRSxJQUFNLHFDQUFOLENBQThDLFFBQTlDLENBQXlELHVCQUF6RCxDQUFtRixHQUFuRixDQUF5RixVQUF6RixDQURGLENBTm1DO0FBQXJDLEtBV0ssR0FBSSxPQUFPLGFBQVAsR0FBeUIsV0FBekIsQ0FBc0MsQ0FDN0MsSUFBSSxTQUFXLEVBQVgsQ0FEeUMsR0FFekMsQ0FDRixNQUFNLElBQUksS0FBSixDQUFVLEdBQVYsQ0FBTixDQURFLENBQUosTUFFUyxDQUFQLENBQVUsQ0FDVixFQUFFLEtBQUYsQ0FBUSxPQUFSLENBQWdCLGdDQUFoQixDQUFrRCxTQUFTLENBQVQsQ0FBWSxHQUFaLENBQWlCLENBQ2pFLFNBQVcsSUFBSSxPQUFKLENBQVksV0FBWixDQUF5QixHQUF6QixDQUFYLENBRGlFLENBQWpCLENBQWxELENBRFUsQ0FBVixhQUtGLENBQWMsU0FBVyxxQkFBWCxDQUFkLENBVDZDLFNBVTdDLEdBVjZDLENBQTFDLEtBWUEsQ0FDSCxZQURHLENBWkEsQ0FiUCxLQTZCSyxDQUNILFlBREcsQ0E3QkwsQ0FqcUlDLENBQUQiLCJmaWxlIjoic3lzdGVtLWNzcC1wcm9kdWN0aW9uLnNyYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTeXN0ZW1KUyB2MC4xOS4yM1xuICovXG4oZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiBib290c3RyYXAoKSB7KGZ1bmN0aW9uKF9fZ2xvYmFsKSB7XG5cbiAgdmFyIGlzV29ya2VyID0gdHlwZW9mIHdpbmRvdyA9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPSAndW5kZWZpbmVkJztcbiAgdmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnO1xuICB2YXIgaXNXaW5kb3dzID0gdHlwZW9mIHByb2Nlc3MgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MucGxhdGZvcm0gIT0gJ3VuZGVmaW5lZCcgJiYgISFwcm9jZXNzLnBsYXRmb3JtLm1hdGNoKC9ed2luLyk7XG5cbiAgaWYgKCFfX2dsb2JhbC5jb25zb2xlKVxuICAgIF9fZ2xvYmFsLmNvbnNvbGUgPSB7IGFzc2VydDogZnVuY3Rpb24oKSB7fSB9O1xuXG4gIC8vIElFOCBzdXBwb3J0XG4gIHZhciBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCB0aGlzTGVuID0gdGhpcy5sZW5ndGg7IGkgPCB0aGlzTGVuOyBpKyspIHtcbiAgICAgIGlmICh0aGlzW2ldID09PSBpdGVtKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG4gIFxuICB2YXIgZGVmaW5lUHJvcGVydHk7XG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghIU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7fSkpXG4gICAgICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbihvYmosIHByb3AsIG9wdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG9ialtwcm9wXSA9IG9wdC52YWx1ZSB8fCBvcHQuZ2V0LmNhbGwob2JqKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKSB7fVxuICAgICAgfVxuICAgIH1cbiAgfSkoKTtcblxuICBmdW5jdGlvbiBhZGRUb0Vycm9yKGVyciwgbXNnKSB7XG4gICAgdmFyIG5ld0VyciA9IG5ldyBFcnJvcigoZXJyLm1lc3NhZ2UgfHwgZXJyKSArICdcXG5cXHQnICsgbXNnLCBlcnIuZmlsZU5hbWUsIGVyci5saW5lTnVtYmVyKTtcbiAgICBcbiAgICAvLyBOb2RlIG5lZWRzIHN0YWNrIGFkanVzdG1lbnQgZm9yIHRocm93IHRvIHNob3cgbWVzc2FnZVxuICAgIGlmICghaXNCcm93c2VyKVxuICAgICAgbmV3RXJyLnN0YWNrID0gKGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSB8fCBlcnIpICsgJ1xcblxcdCcgKyBtc2c7XG4gICAgXG4gICAgLy8gdHJhY2sgdGhlIG9yaWdpbmFsIGVycm9yXG4gICAgbmV3RXJyLm9yaWdpbmFsRXJyID0gZXJyLm9yaWdpbmFsRXJyIHx8IGVycjtcblxuICAgIHJldHVybiBuZXdFcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfX2V2YWwoc291cmNlLCBkZWJ1Z05hbWUsIGNvbnRleHQpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IEZ1bmN0aW9uKHNvdXJjZSkuY2FsbChjb250ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgdGhyb3cgYWRkVG9FcnJvcihlLCAnRXZhbHVhdGluZyAnICsgZGVidWdOYW1lKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZVVSSTtcbiAgLy8gZW52aXJvbmVudCBiYXNlVVJJIGRldGVjdGlvblxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XG4gICAgYmFzZVVSSSA9IGRvY3VtZW50LmJhc2VVUkk7XG5cbiAgICBpZiAoIWJhc2VVUkkpIHtcbiAgICAgIHZhciBiYXNlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdiYXNlJyk7XG4gICAgICBiYXNlVVJJID0gYmFzZXNbMF0gJiYgYmFzZXNbMF0uaHJlZiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICB9XG5cbiAgICAvLyBzYW5pdGl6ZSBvdXQgdGhlIGhhc2ggYW5kIHF1ZXJ5c3RyaW5nXG4gICAgYmFzZVVSSSA9IGJhc2VVUkkuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdO1xuICAgIGJhc2VVUkkgPSBiYXNlVVJJLnN1YnN0cigwLCBiYXNlVVJJLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmN3ZCkge1xuICAgIGJhc2VVUkkgPSAnZmlsZTovLycgKyAoaXNXaW5kb3dzID8gJy8nIDogJycpICsgcHJvY2Vzcy5jd2QoKSArICcvJztcbiAgICBpZiAoaXNXaW5kb3dzKVxuICAgICAgYmFzZVVSSSA9IGJhc2VVUkkucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPSAndW5kZWZpbmVkJykge1xuICAgIGJhc2VVUkkgPSBfX2dsb2JhbC5sb2NhdGlvbi5ocmVmO1xuICB9XG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIGVudmlyb25tZW50IGJhc2VVUkknKTtcbiAgfVxuXG4gIHZhciBVUkwgPSBfX2dsb2JhbC5VUkxQb2x5ZmlsbCB8fCBfX2dsb2JhbC5VUkw7XG4vKlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgRHluYW1pYyBNb2R1bGUgTG9hZGVyIFBvbHlmaWxsXG5cbiAgICAtIEltcGxlbWVudGVkIGV4YWN0bHkgdG8gdGhlIGZvcm1lciAyMDE0LTA4LTI0IEVTNiBTcGVjaWZpY2F0aW9uIERyYWZ0IFJldiAyNywgU2VjdGlvbiAxNVxuICAgICAgaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTpzcGVjaWZpY2F0aW9uX2RyYWZ0cyNhdWd1c3RfMjRfMjAxNF9kcmFmdF9yZXZfMjdcblxuICAgIC0gRnVuY3Rpb25zIGFyZSBjb21tZW50ZWQgd2l0aCB0aGVpciBzcGVjIG51bWJlcnMsIHdpdGggc3BlYyBkaWZmZXJlbmNlcyBjb21tZW50ZWQuXG5cbiAgICAtIFNwZWMgYnVncyBhcmUgY29tbWVudGVkIGluIHRoaXMgY29kZSB3aXRoIGxpbmtzLlxuXG4gICAgLSBBYnN0cmFjdCBmdW5jdGlvbnMgaGF2ZSBiZWVuIGNvbWJpbmVkIHdoZXJlIHBvc3NpYmxlLCBhbmQgdGhlaXIgYXNzb2NpYXRlZCBmdW5jdGlvbnNcbiAgICAgIGNvbW1lbnRlZC5cblxuICAgIC0gUmVhbG0gaW1wbGVtZW50YXRpb24gaXMgZW50aXJlbHkgb21pdHRlZC5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4qL1xuXG5mdW5jdGlvbiBNb2R1bGUoKSB7fVxuLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLUBAdG9zdHJpbmd0YWdcbmRlZmluZVByb3BlcnR5KE1vZHVsZS5wcm90b3R5cGUsICd0b1N0cmluZycsIHtcbiAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnTW9kdWxlJztcbiAgfVxufSk7XG5mdW5jdGlvbiBMb2FkZXIob3B0aW9ucykge1xuICB0aGlzLl9sb2FkZXIgPSB7XG4gICAgbG9hZGVyT2JqOiB0aGlzLFxuICAgIGxvYWRzOiBbXSxcbiAgICBtb2R1bGVzOiB7fSxcbiAgICBpbXBvcnRQcm9taXNlczoge30sXG4gICAgbW9kdWxlUmVjb3Jkczoge31cbiAgfTtcblxuICAvLyAyNi4zLjMuNlxuICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnZ2xvYmFsJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX19nbG9iYWw7XG4gICAgfVxuICB9KTtcblxuICAvLyAyNi4zLjMuMTMgcmVhbG0gbm90IGltcGxlbWVudGVkXG59XG5cbihmdW5jdGlvbigpIHtcblxuLy8gU29tZSBIZWxwZXJzXG5cbi8vIGxvZ3MgYSBsaW5rc2V0IHNuYXBzaG90IGZvciBkZWJ1Z2dpbmdcbi8qIGZ1bmN0aW9uIHNuYXBzaG90KGxvYWRlcikge1xuICBjb25zb2xlLmxvZygnLS0tU25hcHNob3QtLS0nKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkZXIubG9hZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbG9hZCA9IGxvYWRlci5sb2Fkc1tpXTtcbiAgICB2YXIgbGlua1NldExvZyA9ICcgICcgKyBsb2FkLm5hbWUgKyAnICgnICsgbG9hZC5zdGF0dXMgKyAnKTogJztcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbG9hZC5saW5rU2V0cy5sZW5ndGg7IGorKykge1xuICAgICAgbGlua1NldExvZyArPSAneycgKyBsb2dsb2Fkcyhsb2FkLmxpbmtTZXRzW2pdLmxvYWRzKSArICd9ICc7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGxpbmtTZXRMb2cpO1xuICB9XG4gIGNvbnNvbGUubG9nKCcnKTtcbn1cbmZ1bmN0aW9uIGxvZ2xvYWRzKGxvYWRzKSB7XG4gIHZhciBsb2cgPSAnJztcbiAgZm9yICh2YXIgayA9IDA7IGsgPCBsb2Fkcy5sZW5ndGg7IGsrKylcbiAgICBsb2cgKz0gbG9hZHNba10ubmFtZSArIChrICE9IGxvYWRzLmxlbmd0aCAtIDEgPyAnICcgOiAnJyk7XG4gIHJldHVybiBsb2c7XG59ICovXG5cblxuLyogZnVuY3Rpb24gY2hlY2tJbnZhcmlhbnRzKCkge1xuICAvLyBzZWUgaHR0cHM6Ly9idWdzLmVjbWFzY3JpcHQub3JnL3Nob3dfYnVnLmNnaT9pZD0yNjAzI2MxXG5cbiAgdmFyIGxvYWRzID0gU3lzdGVtLl9sb2FkZXIubG9hZHM7XG4gIHZhciBsaW5rU2V0cyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbG9hZCA9IGxvYWRzW2ldO1xuICAgIGNvbnNvbGUuYXNzZXJ0KGxvYWQuc3RhdHVzID09ICdsb2FkaW5nJyB8fCBsb2FkLnN0YXR1cyA9PSAnbG9hZGVkJywgJ0VhY2ggbG9hZCBpcyBsb2FkaW5nIG9yIGxvYWRlZCcpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsb2FkLmxpbmtTZXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgbGlua1NldCA9IGxvYWQubGlua1NldHNbal07XG5cbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGlua1NldC5sb2Fkcy5sZW5ndGg7IGsrKylcbiAgICAgICAgY29uc29sZS5hc3NlcnQobG9hZHMuaW5kZXhPZihsaW5rU2V0LmxvYWRzW2tdKSAhPSAtMSwgJ2xpbmtTZXQgbG9hZHMgYXJlIGEgc3Vic2V0IG9mIGxvYWRlciBsb2FkcycpO1xuXG4gICAgICBpZiAobGlua1NldHMuaW5kZXhPZihsaW5rU2V0KSA9PSAtMSlcbiAgICAgICAgbGlua1NldHMucHVzaChsaW5rU2V0KTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxvYWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxvYWQgPSBsb2Fkc1tpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmtTZXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgbGlua1NldCA9IGxpbmtTZXRzW2pdO1xuXG4gICAgICBpZiAobGlua1NldC5sb2Fkcy5pbmRleE9mKGxvYWQpICE9IC0xKVxuICAgICAgICBjb25zb2xlLmFzc2VydChsb2FkLmxpbmtTZXRzLmluZGV4T2YobGlua1NldCkgIT0gLTEsICdsaW5rU2V0IGNvbnRhaW5zIGxvYWQgLT4gbG9hZCBjb250YWlucyBsaW5rU2V0Jyk7XG5cbiAgICAgIGlmIChsb2FkLmxpbmtTZXRzLmluZGV4T2YobGlua1NldCkgIT0gLTEpXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGxpbmtTZXQubG9hZHMuaW5kZXhPZihsb2FkKSAhPSAtMSwgJ2xvYWQgY29udGFpbnMgbGlua1NldCAtPiBsaW5rU2V0IGNvbnRhaW5zIGxvYWQnKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtTZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxpbmtTZXQgPSBsaW5rU2V0c1tpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmtTZXQubG9hZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBsb2FkID0gbGlua1NldC5sb2Fkc1tqXTtcblxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsb2FkLmRlcGVuZGVuY2llcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgZGVwTmFtZSA9IGxvYWQuZGVwZW5kZW5jaWVzW2tdLnZhbHVlO1xuICAgICAgICB2YXIgZGVwTG9hZDtcbiAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBsb2Fkcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgIGlmIChsb2Fkc1tsXS5uYW1lICE9IGRlcE5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBkZXBMb2FkID0gbG9hZHNbbF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsb2FkaW5nIHJlY29yZHMgYXJlIGFsbG93ZWQgbm90IHRvIGhhdmUgdGhlaXIgZGVwZW5kZW5jaWVzIHlldFxuICAgICAgICAvLyBpZiAobG9hZC5zdGF0dXMgIT0gJ2xvYWRpbmcnKVxuICAgICAgICAvLyAgY29uc29sZS5hc3NlcnQoZGVwTG9hZCwgJ2RlcExvYWQgZm91bmQnKTtcblxuICAgICAgICAvLyBjb25zb2xlLmFzc2VydChsaW5rU2V0LmxvYWRzLmluZGV4T2YoZGVwTG9hZCkgIT0gLTEsICdsaW5rc2V0IGNvbnRhaW5zIGFsbCBkZXBlbmRlbmNpZXMnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0gKi9cblxuICAvLyAxNS4yLjMgLSBSdW50aW1lIFNlbWFudGljczogTG9hZGVyIFN0YXRlXG5cbiAgLy8gMTUuMi4zLjExXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvYWRlckxvYWQob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIG1vZHVsZXMgaXMgYW4gb2JqZWN0IGZvciBFUzUgaW1wbGVtZW50YXRpb25cbiAgICAgIG1vZHVsZXM6IHt9LFxuICAgICAgbG9hZHM6IFtdLFxuICAgICAgbG9hZGVyT2JqOiBvYmplY3RcbiAgICB9O1xuICB9XG5cbiAgLy8gMTUuMi4zLjIgTG9hZCBSZWNvcmRzIGFuZCBMb2FkUmVxdWVzdCBPYmplY3RzXG5cbiAgLy8gMTUuMi4zLjIuMVxuICBmdW5jdGlvbiBjcmVhdGVMb2FkKG5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnbG9hZGluZycsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgbGlua1NldHM6IFtdLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgIG1ldGFkYXRhOiB7fVxuICAgIH07XG4gIH1cblxuICAvLyAxNS4yLjMuMi4yIGNyZWF0ZUxvYWRSZXF1ZXN0T2JqZWN0LCBhYnNvcmJlZCBpbnRvIGNhbGxpbmcgZnVuY3Rpb25zXG5cbiAgLy8gMTUuMi40XG5cbiAgLy8gMTUuMi40LjFcbiAgZnVuY3Rpb24gbG9hZE1vZHVsZShsb2FkZXIsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmNTdGFydExvYWRQYXJ0d2F5VGhyb3VnaCh7XG4gICAgICBzdGVwOiBvcHRpb25zLmFkZHJlc3MgPyAnZmV0Y2gnIDogJ2xvY2F0ZScsXG4gICAgICBsb2FkZXI6IGxvYWRlcixcbiAgICAgIG1vZHVsZU5hbWU6IG5hbWUsXG4gICAgICAvLyBhbGxvdyBtZXRhZGF0YSBmb3IgaW1wb3J0IGh0dHBzOi8vYnVncy5lY21hc2NyaXB0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MzA5MVxuICAgICAgbW9kdWxlTWV0YWRhdGE6IG9wdGlvbnMgJiYgb3B0aW9ucy5tZXRhZGF0YSB8fCB7fSxcbiAgICAgIG1vZHVsZVNvdXJjZTogb3B0aW9ucy5zb3VyY2UsXG4gICAgICBtb2R1bGVBZGRyZXNzOiBvcHRpb25zLmFkZHJlc3NcbiAgICB9KSk7XG4gIH1cblxuICAvLyAxNS4yLjQuMlxuICBmdW5jdGlvbiByZXF1ZXN0TG9hZChsb2FkZXIsIHJlcXVlc3QsIHJlZmVyZXJOYW1lLCByZWZlcmVyQWRkcmVzcykge1xuICAgIC8vIDE1LjIuNC4yLjEgQ2FsbE5vcm1hbGl6ZVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlc29sdmUobG9hZGVyLmxvYWRlck9iai5ub3JtYWxpemUocmVxdWVzdCwgcmVmZXJlck5hbWUsIHJlZmVyZXJBZGRyZXNzKSk7XG4gICAgfSlcbiAgICAvLyAxNS4yLjQuMi4yIEdldE9yQ3JlYXRlTG9hZFxuICAgIC50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBsb2FkO1xuICAgICAgaWYgKGxvYWRlci5tb2R1bGVzW25hbWVdKSB7XG4gICAgICAgIGxvYWQgPSBjcmVhdGVMb2FkKG5hbWUpO1xuICAgICAgICBsb2FkLnN0YXR1cyA9ICdsaW5rZWQnO1xuICAgICAgICAvLyBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI3OTVcbiAgICAgICAgbG9hZC5tb2R1bGUgPSBsb2FkZXIubW9kdWxlc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIGxvYWQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbG9hZGVyLmxvYWRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsb2FkID0gbG9hZGVyLmxvYWRzW2ldO1xuICAgICAgICBpZiAobG9hZC5uYW1lICE9IG5hbWUpXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGxvYWQuc3RhdHVzID09ICdsb2FkaW5nJyB8fCBsb2FkLnN0YXR1cyA9PSAnbG9hZGVkJywgJ2xvYWRpbmcgb3IgbG9hZGVkJyk7XG4gICAgICAgIHJldHVybiBsb2FkO1xuICAgICAgfVxuXG4gICAgICBsb2FkID0gY3JlYXRlTG9hZChuYW1lKTtcbiAgICAgIGxvYWRlci5sb2Fkcy5wdXNoKGxvYWQpO1xuXG4gICAgICBwcm9jZWVkVG9Mb2NhdGUobG9hZGVyLCBsb2FkKTtcblxuICAgICAgcmV0dXJuIGxvYWQ7XG4gICAgfSk7XG4gIH1cblxuICAvLyAxNS4yLjQuM1xuICBmdW5jdGlvbiBwcm9jZWVkVG9Mb2NhdGUobG9hZGVyLCBsb2FkKSB7XG4gICAgcHJvY2VlZFRvRmV0Y2gobG9hZGVyLCBsb2FkLFxuICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC8vIDE1LjIuNC4zLjEgQ2FsbExvY2F0ZVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBsb2FkZXIubG9hZGVyT2JqLmxvY2F0ZSh7IG5hbWU6IGxvYWQubmFtZSwgbWV0YWRhdGE6IGxvYWQubWV0YWRhdGEgfSk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvLyAxNS4yLjQuNFxuICBmdW5jdGlvbiBwcm9jZWVkVG9GZXRjaChsb2FkZXIsIGxvYWQsIHApIHtcbiAgICBwcm9jZWVkVG9UcmFuc2xhdGUobG9hZGVyLCBsb2FkLFxuICAgICAgcFxuICAgICAgLy8gMTUuMi40LjQuMSBDYWxsRmV0Y2hcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGFkZHJlc3MpIHtcbiAgICAgICAgLy8gYWRqdXN0ZWQsIHNlZSBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI2MDJcbiAgICAgICAgaWYgKGxvYWQuc3RhdHVzICE9ICdsb2FkaW5nJylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxvYWQuYWRkcmVzcyA9IGFkZHJlc3M7XG5cbiAgICAgICAgcmV0dXJuIGxvYWRlci5sb2FkZXJPYmouZmV0Y2goeyBuYW1lOiBsb2FkLm5hbWUsIG1ldGFkYXRhOiBsb2FkLm1ldGFkYXRhLCBhZGRyZXNzOiBhZGRyZXNzIH0pO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgdmFyIGFub25DbnQgPSAwO1xuXG4gIC8vIDE1LjIuNC41XG4gIGZ1bmN0aW9uIHByb2NlZWRUb1RyYW5zbGF0ZShsb2FkZXIsIGxvYWQsIHApIHtcbiAgICBwXG4gICAgLy8gMTUuMi40LjUuMSBDYWxsVHJhbnNsYXRlXG4gICAgLnRoZW4oZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICBpZiAobG9hZC5zdGF0dXMgIT0gJ2xvYWRpbmcnKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobG9hZGVyLmxvYWRlck9iai50cmFuc2xhdGUoeyBuYW1lOiBsb2FkLm5hbWUsIG1ldGFkYXRhOiBsb2FkLm1ldGFkYXRhLCBhZGRyZXNzOiBsb2FkLmFkZHJlc3MsIHNvdXJjZTogc291cmNlIH0pKVxuXG4gICAgICAvLyAxNS4yLjQuNS4yIENhbGxJbnN0YW50aWF0ZVxuICAgICAgLnRoZW4oZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIGxvYWQuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gbG9hZGVyLmxvYWRlck9iai5pbnN0YW50aWF0ZSh7IG5hbWU6IGxvYWQubmFtZSwgbWV0YWRhdGE6IGxvYWQubWV0YWRhdGEsIGFkZHJlc3M6IGxvYWQuYWRkcmVzcywgc291cmNlOiBzb3VyY2UgfSk7XG4gICAgICB9KVxuXG4gICAgICAvLyAxNS4yLjQuNS4zIEluc3RhbnRpYXRlU3VjY2VlZGVkXG4gICAgICAudGhlbihmdW5jdGlvbihpbnN0YW50aWF0ZVJlc3VsdCkge1xuICAgICAgICBpZiAoaW5zdGFudGlhdGVSZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxvYWQuYWRkcmVzcyA9IGxvYWQuYWRkcmVzcyB8fCAnPEFub255bW91cyBNb2R1bGUgJyArICsrYW5vbkNudCArICc+JztcblxuICAgICAgICAgIC8vIGluc3RlYWQgb2YgbG9hZC5raW5kLCB1c2UgbG9hZC5pc0RlY2xhcmF0aXZlXG4gICAgICAgICAgbG9hZC5pc0RlY2xhcmF0aXZlID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gdHJhbnNwaWxlLmNhbGwobG9hZGVyLmxvYWRlck9iaiwgbG9hZClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbih0cmFuc3BpbGVkKSB7XG4gICAgICAgICAgICAvLyBIaWphY2sgU3lzdGVtLnJlZ2lzdGVyIHRvIHNldCBkZWNsYXJlIGZ1bmN0aW9uXG4gICAgICAgICAgICB2YXIgY3VyU3lzdGVtID0gX19nbG9iYWwuU3lzdGVtO1xuICAgICAgICAgICAgdmFyIGN1clJlZ2lzdGVyID0gY3VyU3lzdGVtLnJlZ2lzdGVyO1xuICAgICAgICAgICAgY3VyU3lzdGVtLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgZGVwcywgZGVjbGFyZSkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkZWNsYXJlID0gZGVwcztcbiAgICAgICAgICAgICAgICBkZXBzID0gbmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBzdG9yZSB0aGUgcmVnaXN0ZXJlZCBkZWNsYXJhdGlvbiBhcyBsb2FkLmRlY2xhcmVcbiAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGRlcHMgYXMgbG9hZC5kZXBzXG4gICAgICAgICAgICAgIGxvYWQuZGVjbGFyZSA9IGRlY2xhcmU7XG4gICAgICAgICAgICAgIGxvYWQuZGVwc0xpc3QgPSBkZXBzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1wdHkge30gY29udGV4dCBpcyBjbG9zZXN0IHRvIHVuZGVmaW5lZCAndGhpcycgd2UgY2FuIGdldFxuICAgICAgICAgICAgX19ldmFsKHRyYW5zcGlsZWQsIGxvYWQuYWRkcmVzcywge30pO1xuICAgICAgICAgICAgY3VyU3lzdGVtLnJlZ2lzdGVyID0gY3VyUmVnaXN0ZXI7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGluc3RhbnRpYXRlUmVzdWx0ID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbG9hZC5kZXBzTGlzdCA9IGluc3RhbnRpYXRlUmVzdWx0LmRlcHMgfHwgW107XG4gICAgICAgICAgbG9hZC5leGVjdXRlID0gaW5zdGFudGlhdGVSZXN1bHQuZXhlY3V0ZTtcbiAgICAgICAgICBsb2FkLmlzRGVjbGFyYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIGluc3RhbnRpYXRlIHJldHVybiB2YWx1ZScpO1xuICAgICAgfSlcbiAgICAgIC8vIDE1LjIuNC42IFByb2Nlc3NMb2FkRGVwZW5kZW5jaWVzXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgbG9hZC5kZXBlbmRlbmNpZXMgPSBbXTtcbiAgICAgICAgdmFyIGRlcHNMaXN0ID0gbG9hZC5kZXBzTGlzdDtcblxuICAgICAgICB2YXIgbG9hZFByb21pc2VzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVwc0xpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSAoZnVuY3Rpb24ocmVxdWVzdCwgaW5kZXgpIHtcbiAgICAgICAgICBsb2FkUHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgIHJlcXVlc3RMb2FkKGxvYWRlciwgcmVxdWVzdCwgbG9hZC5uYW1lLCBsb2FkLmFkZHJlc3MpXG5cbiAgICAgICAgICAgIC8vIDE1LjIuNC42LjEgQWRkRGVwZW5kZW5jeUxvYWQgKGxvYWQgaXMgcGFyZW50TG9hZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRlcExvYWQpIHtcblxuICAgICAgICAgICAgICAvLyBhZGp1c3RlZCBmcm9tIHNwZWMgdG8gbWFpbnRhaW4gZGVwZW5kZW5jeSBvcmRlclxuICAgICAgICAgICAgICAvLyB0aGlzIGlzIGR1ZSB0byB0aGUgU3lzdGVtLnJlZ2lzdGVyIGludGVybmFsIGltcGxlbWVudGF0aW9uIG5lZWRzXG4gICAgICAgICAgICAgIGxvYWQuZGVwZW5kZW5jaWVzW2luZGV4XSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHJlcXVlc3QsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlcExvYWQubmFtZVxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGlmIChkZXBMb2FkLnN0YXR1cyAhPSAnbGlua2VkJykge1xuICAgICAgICAgICAgICAgIHZhciBsaW5rU2V0cyA9IGxvYWQubGlua1NldHMuY29uY2F0KFtdKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgICAgICAgICAgIGFkZExvYWRUb0xpbmtTZXQobGlua1NldHNbaV0sIGRlcExvYWQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0FkZERlcGVuZGVuY3lMb2FkICcgKyBkZXBMb2FkLm5hbWUgKyAnIGZvciAnICsgbG9hZC5uYW1lKTtcbiAgICAgICAgICAgICAgLy8gc25hcHNob3QobG9hZGVyKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkoZGVwc0xpc3RbaV0sIGkpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChsb2FkUHJvbWlzZXMpO1xuICAgICAgfSlcblxuICAgICAgLy8gMTUuMi40LjYuMiBMb2FkU3VjY2VlZGVkXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0xvYWRTdWNjZWVkZWQgJyArIGxvYWQubmFtZSk7XG4gICAgICAgIC8vIHNuYXBzaG90KGxvYWRlcik7XG5cbiAgICAgICAgY29uc29sZS5hc3NlcnQobG9hZC5zdGF0dXMgPT0gJ2xvYWRpbmcnLCAnaXMgbG9hZGluZycpO1xuXG4gICAgICAgIGxvYWQuc3RhdHVzID0gJ2xvYWRlZCc7XG5cbiAgICAgICAgdmFyIGxpbmtTZXRzID0gbG9hZC5saW5rU2V0cy5jb25jYXQoW10pO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgICB1cGRhdGVMaW5rU2V0T25Mb2FkKGxpbmtTZXRzW2ldLCBsb2FkKTtcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLy8gMTUuMi40LjUuNCBMb2FkRmFpbGVkXG4gICAgWydjYXRjaCddKGZ1bmN0aW9uKGV4Yykge1xuICAgICAgbG9hZC5zdGF0dXMgPSAnZmFpbGVkJztcbiAgICAgIGxvYWQuZXhjZXB0aW9uID0gZXhjO1xuXG4gICAgICB2YXIgbGlua1NldHMgPSBsb2FkLmxpbmtTZXRzLmNvbmNhdChbXSk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsaW5rU2V0RmFpbGVkKGxpbmtTZXRzW2ldLCBsb2FkLCBleGMpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmFzc2VydChsb2FkLmxpbmtTZXRzLmxlbmd0aCA9PSAwLCAnbGlua1NldHMgbm90IHJlbW92ZWQnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIDE1LjIuNC43IFByb21pc2VPZlN0YXJ0TG9hZFBhcnR3YXlUaHJvdWdoIGFic29yYmVkIGludG8gY2FsbGluZyBmdW5jdGlvbnNcblxuICAvLyAxNS4yLjQuNy4xXG4gIGZ1bmN0aW9uIGFzeW5jU3RhcnRMb2FkUGFydHdheVRocm91Z2goc3RlcFN0YXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGxvYWRlciA9IHN0ZXBTdGF0ZS5sb2FkZXI7XG4gICAgICB2YXIgbmFtZSA9IHN0ZXBTdGF0ZS5tb2R1bGVOYW1lO1xuICAgICAgdmFyIHN0ZXAgPSBzdGVwU3RhdGUuc3RlcDtcblxuICAgICAgaWYgKGxvYWRlci5tb2R1bGVzW25hbWVdKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIicgKyBuYW1lICsgJ1wiIGFscmVhZHkgZXhpc3RzIGluIHRoZSBtb2R1bGUgdGFibGUnKTtcblxuICAgICAgLy8gYWRqdXN0ZWQgdG8gcGljayB1cCBleGlzdGluZyBsb2Fkc1xuICAgICAgdmFyIGV4aXN0aW5nTG9hZDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbG9hZGVyLmxvYWRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAobG9hZGVyLmxvYWRzW2ldLm5hbWUgPT0gbmFtZSkge1xuICAgICAgICAgIGV4aXN0aW5nTG9hZCA9IGxvYWRlci5sb2Fkc1tpXTtcblxuICAgICAgICAgIGlmIChzdGVwID09ICd0cmFuc2xhdGUnICYmICFleGlzdGluZ0xvYWQuc291cmNlKSB7XG4gICAgICAgICAgICBleGlzdGluZ0xvYWQuYWRkcmVzcyA9IHN0ZXBTdGF0ZS5tb2R1bGVBZGRyZXNzO1xuICAgICAgICAgICAgcHJvY2VlZFRvVHJhbnNsYXRlKGxvYWRlciwgZXhpc3RpbmdMb2FkLCBQcm9taXNlLnJlc29sdmUoc3RlcFN0YXRlLm1vZHVsZVNvdXJjZSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGEgcHJpbWFyeSBsb2FkIC0+IHVzZSB0aGF0IGV4aXN0aW5nIGxpbmtzZXQgaWYgaXQgaXMgZm9yIHRoZSBkaXJlY3QgbG9hZCBoZXJlXG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBsaW5rc2V0IHVuaXRcbiAgICAgICAgICBpZiAoZXhpc3RpbmdMb2FkLmxpbmtTZXRzLmxlbmd0aCAmJiBleGlzdGluZ0xvYWQubGlua1NldHNbMF0ubG9hZHNbMF0ubmFtZSA9PSBleGlzdGluZ0xvYWQubmFtZSlcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0xvYWQubGlua1NldHNbMF0uZG9uZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXNvbHZlKGV4aXN0aW5nTG9hZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbG9hZCA9IGV4aXN0aW5nTG9hZCB8fCBjcmVhdGVMb2FkKG5hbWUpO1xuXG4gICAgICBsb2FkLm1ldGFkYXRhID0gc3RlcFN0YXRlLm1vZHVsZU1ldGFkYXRhO1xuXG4gICAgICB2YXIgbGlua1NldCA9IGNyZWF0ZUxpbmtTZXQobG9hZGVyLCBsb2FkKTtcblxuICAgICAgbG9hZGVyLmxvYWRzLnB1c2gobG9hZCk7XG5cbiAgICAgIHJlc29sdmUobGlua1NldC5kb25lKTtcblxuICAgICAgaWYgKHN0ZXAgPT0gJ2xvY2F0ZScpXG4gICAgICAgIHByb2NlZWRUb0xvY2F0ZShsb2FkZXIsIGxvYWQpO1xuXG4gICAgICBlbHNlIGlmIChzdGVwID09ICdmZXRjaCcpXG4gICAgICAgIHByb2NlZWRUb0ZldGNoKGxvYWRlciwgbG9hZCwgUHJvbWlzZS5yZXNvbHZlKHN0ZXBTdGF0ZS5tb2R1bGVBZGRyZXNzKSk7XG5cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmFzc2VydChzdGVwID09ICd0cmFuc2xhdGUnLCAndHJhbnNsYXRlIHN0ZXAnKTtcbiAgICAgICAgbG9hZC5hZGRyZXNzID0gc3RlcFN0YXRlLm1vZHVsZUFkZHJlc3M7XG4gICAgICAgIHByb2NlZWRUb1RyYW5zbGF0ZShsb2FkZXIsIGxvYWQsIFByb21pc2UucmVzb2x2ZShzdGVwU3RhdGUubW9kdWxlU291cmNlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRGVjbGFyYXRpdmUgbGlua2luZyBmdW5jdGlvbnMgcnVuIHRocm91Z2ggYWx0ZXJuYXRpdmUgaW1wbGVtZW50YXRpb246XG4gIC8vIDE1LjIuNS4xLjEgQ3JlYXRlTW9kdWxlTGlua2FnZVJlY29yZCBub3QgaW1wbGVtZW50ZWRcbiAgLy8gMTUuMi41LjEuMiBMb29rdXBFeHBvcnQgbm90IGltcGxlbWVudGVkXG4gIC8vIDE1LjIuNS4xLjMgTG9va3VwTW9kdWxlRGVwZW5kZW5jeSBub3QgaW1wbGVtZW50ZWRcblxuICAvLyAxNS4yLjUuMi4xXG4gIGZ1bmN0aW9uIGNyZWF0ZUxpbmtTZXQobG9hZGVyLCBzdGFydGluZ0xvYWQpIHtcbiAgICB2YXIgbGlua1NldCA9IHtcbiAgICAgIGxvYWRlcjogbG9hZGVyLFxuICAgICAgbG9hZHM6IFtdLFxuICAgICAgc3RhcnRpbmdMb2FkOiBzdGFydGluZ0xvYWQsIC8vIGFkZGVkIHNlZSBzcGVjIGJ1ZyBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5OTVcbiAgICAgIGxvYWRpbmdDb3VudDogMFxuICAgIH07XG4gICAgbGlua1NldC5kb25lID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsaW5rU2V0LnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgbGlua1NldC5yZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgYWRkTG9hZFRvTGlua1NldChsaW5rU2V0LCBzdGFydGluZ0xvYWQpO1xuICAgIHJldHVybiBsaW5rU2V0O1xuICB9XG4gIC8vIDE1LjIuNS4yLjJcbiAgZnVuY3Rpb24gYWRkTG9hZFRvTGlua1NldChsaW5rU2V0LCBsb2FkKSB7XG4gICAgaWYgKGxvYWQuc3RhdHVzID09ICdmYWlsZWQnKVxuICAgICAgcmV0dXJuO1xuXG4gICAgY29uc29sZS5hc3NlcnQobG9hZC5zdGF0dXMgPT0gJ2xvYWRpbmcnIHx8IGxvYWQuc3RhdHVzID09ICdsb2FkZWQnLCAnbG9hZGluZyBvciBsb2FkZWQgb24gbGluayBzZXQnKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlua1NldC5sb2Fkcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICBpZiAobGlua1NldC5sb2Fkc1tpXSA9PSBsb2FkKVxuICAgICAgICByZXR1cm47XG5cbiAgICBsaW5rU2V0LmxvYWRzLnB1c2gobG9hZCk7XG4gICAgbG9hZC5saW5rU2V0cy5wdXNoKGxpbmtTZXQpO1xuXG4gICAgLy8gYWRqdXN0bWVudCwgc2VlIGh0dHBzOi8vYnVncy5lY21hc2NyaXB0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjYwM1xuICAgIGlmIChsb2FkLnN0YXR1cyAhPSAnbG9hZGVkJykge1xuICAgICAgbGlua1NldC5sb2FkaW5nQ291bnQrKztcbiAgICB9XG5cbiAgICB2YXIgbG9hZGVyID0gbGlua1NldC5sb2FkZXI7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxvYWQuZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKCFsb2FkLmRlcGVuZGVuY2llc1tpXSlcbiAgICAgICAgY29udGludWU7XG5cbiAgICAgIHZhciBuYW1lID0gbG9hZC5kZXBlbmRlbmNpZXNbaV0udmFsdWU7XG5cbiAgICAgIGlmIChsb2FkZXIubW9kdWxlc1tuYW1lXSlcbiAgICAgICAgY29udGludWU7XG5cbiAgICAgIGZvciAodmFyIGogPSAwLCBkID0gbG9hZGVyLmxvYWRzLmxlbmd0aDsgaiA8IGQ7IGorKykge1xuICAgICAgICBpZiAobG9hZGVyLmxvYWRzW2pdLm5hbWUgIT0gbmFtZSlcbiAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBhZGRMb2FkVG9MaW5rU2V0KGxpbmtTZXQsIGxvYWRlci5sb2Fkc1tqXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygnYWRkIHRvIGxpbmtzZXQgJyArIGxvYWQubmFtZSk7XG4gICAgLy8gc25hcHNob3QobGlua1NldC5sb2FkZXIpO1xuICB9XG5cbiAgLy8gbGlua2luZyBlcnJvcnMgY2FuIGJlIGdlbmVyaWMgb3IgbG9hZC1zcGVjaWZpY1xuICAvLyB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgZGVidWdnaW5nIGluZm9cbiAgZnVuY3Rpb24gZG9MaW5rKGxpbmtTZXQpIHtcbiAgICB2YXIgZXJyb3IgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgbGluayhsaW5rU2V0LCBmdW5jdGlvbihsb2FkLCBleGMpIHtcbiAgICAgICAgbGlua1NldEZhaWxlZChsaW5rU2V0LCBsb2FkLCBleGMpO1xuICAgICAgICBlcnJvciA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgbGlua1NldEZhaWxlZChsaW5rU2V0LCBudWxsLCBlKTtcbiAgICAgIGVycm9yID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgLy8gMTUuMi41LjIuM1xuICBmdW5jdGlvbiB1cGRhdGVMaW5rU2V0T25Mb2FkKGxpbmtTZXQsIGxvYWQpIHtcbiAgICAvLyBjb25zb2xlLmxvZygndXBkYXRlIGxpbmtzZXQgb24gbG9hZCAnICsgbG9hZC5uYW1lKTtcbiAgICAvLyBzbmFwc2hvdChsaW5rU2V0LmxvYWRlcik7XG5cbiAgICBjb25zb2xlLmFzc2VydChsb2FkLnN0YXR1cyA9PSAnbG9hZGVkJyB8fCBsb2FkLnN0YXR1cyA9PSAnbGlua2VkJywgJ2xvYWRlZCBvciBsaW5rZWQnKTtcblxuICAgIGxpbmtTZXQubG9hZGluZ0NvdW50LS07XG5cbiAgICBpZiAobGlua1NldC5sb2FkaW5nQ291bnQgPiAwKVxuICAgICAgcmV0dXJuO1xuXG4gICAgLy8gYWRqdXN0ZWQgZm9yIHNwZWMgYnVnIGh0dHBzOi8vYnVncy5lY21hc2NyaXB0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Mjk5NVxuICAgIHZhciBzdGFydGluZ0xvYWQgPSBsaW5rU2V0LnN0YXJ0aW5nTG9hZDtcblxuICAgIC8vIG5vbi1leGVjdXRpbmcgbGluayB2YXJpYXRpb24gZm9yIGxvYWRlciB0cmFjaW5nXG4gICAgLy8gb24gdGhlIHNlcnZlci4gTm90IGluIHNwZWMuXG4gICAgLyoqKi9cbiAgICBpZiAobGlua1NldC5sb2FkZXIubG9hZGVyT2JqLmV4ZWN1dGUgPT09IGZhbHNlKSB7XG4gICAgICB2YXIgbG9hZHMgPSBbXS5jb25jYXQobGlua1NldC5sb2Fkcyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxvYWRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgbG9hZCA9IGxvYWRzW2ldO1xuICAgICAgICBsb2FkLm1vZHVsZSA9ICFsb2FkLmlzRGVjbGFyYXRpdmUgPyB7XG4gICAgICAgICAgbW9kdWxlOiBfbmV3TW9kdWxlKHt9KVxuICAgICAgICB9IDoge1xuICAgICAgICAgIG5hbWU6IGxvYWQubmFtZSxcbiAgICAgICAgICBtb2R1bGU6IF9uZXdNb2R1bGUoe30pLFxuICAgICAgICAgIGV2YWx1YXRlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBsb2FkLnN0YXR1cyA9ICdsaW5rZWQnO1xuICAgICAgICBmaW5pc2hMb2FkKGxpbmtTZXQubG9hZGVyLCBsb2FkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaW5rU2V0LnJlc29sdmUoc3RhcnRpbmdMb2FkKTtcbiAgICB9XG4gICAgLyoqKi9cblxuICAgIHZhciBhYnJ1cHQgPSBkb0xpbmsobGlua1NldCk7XG5cbiAgICBpZiAoYWJydXB0KVxuICAgICAgcmV0dXJuO1xuXG4gICAgY29uc29sZS5hc3NlcnQobGlua1NldC5sb2Fkcy5sZW5ndGggPT0gMCwgJ2xvYWRzIGNsZWFyZWQnKTtcblxuICAgIGxpbmtTZXQucmVzb2x2ZShzdGFydGluZ0xvYWQpO1xuICB9XG5cbiAgLy8gMTUuMi41LjIuNFxuICBmdW5jdGlvbiBsaW5rU2V0RmFpbGVkKGxpbmtTZXQsIGxvYWQsIGV4Yykge1xuICAgIHZhciBsb2FkZXIgPSBsaW5rU2V0LmxvYWRlcjtcbiAgICB2YXIgcmVxdWVzdHM7XG5cbiAgICBjaGVja0Vycm9yOiBcbiAgICBpZiAobG9hZCkge1xuICAgICAgaWYgKGxpbmtTZXQubG9hZHNbMF0ubmFtZSA9PSBsb2FkLm5hbWUpIHtcbiAgICAgICAgZXhjID0gYWRkVG9FcnJvcihleGMsICdFcnJvciBsb2FkaW5nICcgKyBsb2FkLm5hbWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlua1NldC5sb2Fkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBwTG9hZCA9IGxpbmtTZXQubG9hZHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwTG9hZC5kZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBkZXAgPSBwTG9hZC5kZXBlbmRlbmNpZXNbal07XG4gICAgICAgICAgICBpZiAoZGVwLnZhbHVlID09IGxvYWQubmFtZSkge1xuICAgICAgICAgICAgICBleGMgPSBhZGRUb0Vycm9yKGV4YywgJ0Vycm9yIGxvYWRpbmcgJyArIGxvYWQubmFtZSArICcgYXMgXCInICsgZGVwLmtleSArICdcIiBmcm9tICcgKyBwTG9hZC5uYW1lKTtcbiAgICAgICAgICAgICAgYnJlYWsgY2hlY2tFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhjID0gYWRkVG9FcnJvcihleGMsICdFcnJvciBsb2FkaW5nICcgKyBsb2FkLm5hbWUgKyAnIGZyb20gJyArIGxpbmtTZXQubG9hZHNbMF0ubmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZXhjID0gYWRkVG9FcnJvcihleGMsICdFcnJvciBsaW5raW5nICcgKyBsaW5rU2V0LmxvYWRzWzBdLm5hbWUpO1xuICAgIH1cblxuXG4gICAgdmFyIGxvYWRzID0gbGlua1NldC5sb2Fkcy5jb25jYXQoW10pO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbG9hZHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbG9hZCA9IGxvYWRzW2ldO1xuXG4gICAgICAvLyBzdG9yZSBhbGwgZmFpbGVkIGxvYWQgcmVjb3Jkc1xuICAgICAgbG9hZGVyLmxvYWRlck9iai5mYWlsZWQgPSBsb2FkZXIubG9hZGVyT2JqLmZhaWxlZCB8fCBbXTtcbiAgICAgIGlmIChpbmRleE9mLmNhbGwobG9hZGVyLmxvYWRlck9iai5mYWlsZWQsIGxvYWQpID09IC0xKVxuICAgICAgICBsb2FkZXIubG9hZGVyT2JqLmZhaWxlZC5wdXNoKGxvYWQpO1xuXG4gICAgICB2YXIgbGlua0luZGV4ID0gaW5kZXhPZi5jYWxsKGxvYWQubGlua1NldHMsIGxpbmtTZXQpO1xuICAgICAgY29uc29sZS5hc3NlcnQobGlua0luZGV4ICE9IC0xLCAnbGluayBub3QgcHJlc2VudCcpO1xuICAgICAgbG9hZC5saW5rU2V0cy5zcGxpY2UobGlua0luZGV4LCAxKTtcbiAgICAgIGlmIChsb2FkLmxpbmtTZXRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHZhciBnbG9iYWxMb2Fkc0luZGV4ID0gaW5kZXhPZi5jYWxsKGxpbmtTZXQubG9hZGVyLmxvYWRzLCBsb2FkKTtcbiAgICAgICAgaWYgKGdsb2JhbExvYWRzSW5kZXggIT0gLTEpXG4gICAgICAgICAgbGlua1NldC5sb2FkZXIubG9hZHMuc3BsaWNlKGdsb2JhbExvYWRzSW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsaW5rU2V0LnJlamVjdChleGMpO1xuICB9XG5cbiAgLy8gMTUuMi41LjIuNVxuICBmdW5jdGlvbiBmaW5pc2hMb2FkKGxvYWRlciwgbG9hZCkge1xuICAgIC8vIGFkZCB0byBnbG9iYWwgdHJhY2UgaWYgdHJhY2luZ1xuICAgIGlmIChsb2FkZXIubG9hZGVyT2JqLnRyYWNlKSB7XG4gICAgICBpZiAoIWxvYWRlci5sb2FkZXJPYmoubG9hZHMpXG4gICAgICAgIGxvYWRlci5sb2FkZXJPYmoubG9hZHMgPSB7fTtcbiAgICAgIHZhciBkZXBNYXAgPSB7fTtcbiAgICAgIGxvYWQuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24oZGVwKSB7XG4gICAgICAgIGRlcE1hcFtkZXAua2V5XSA9IGRlcC52YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgbG9hZGVyLmxvYWRlck9iai5sb2Fkc1tsb2FkLm5hbWVdID0ge1xuICAgICAgICBuYW1lOiBsb2FkLm5hbWUsXG4gICAgICAgIGRlcHM6IGxvYWQuZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbihkZXApeyByZXR1cm4gZGVwLmtleSB9KSxcbiAgICAgICAgZGVwTWFwOiBkZXBNYXAsXG4gICAgICAgIGFkZHJlc3M6IGxvYWQuYWRkcmVzcyxcbiAgICAgICAgbWV0YWRhdGE6IGxvYWQubWV0YWRhdGEsXG4gICAgICAgIHNvdXJjZTogbG9hZC5zb3VyY2UsXG4gICAgICAgIGtpbmQ6IGxvYWQuaXNEZWNsYXJhdGl2ZSA/ICdkZWNsYXJhdGl2ZScgOiAnZHluYW1pYydcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIGlmIG5vdCBhbm9ueW1vdXMsIGFkZCB0byB0aGUgbW9kdWxlIHRhYmxlXG4gICAgaWYgKGxvYWQubmFtZSkge1xuICAgICAgY29uc29sZS5hc3NlcnQoIWxvYWRlci5tb2R1bGVzW2xvYWQubmFtZV0sICdsb2FkIG5vdCBpbiBtb2R1bGUgdGFibGUnKTtcbiAgICAgIGxvYWRlci5tb2R1bGVzW2xvYWQubmFtZV0gPSBsb2FkLm1vZHVsZTtcbiAgICB9XG4gICAgdmFyIGxvYWRJbmRleCA9IGluZGV4T2YuY2FsbChsb2FkZXIubG9hZHMsIGxvYWQpO1xuICAgIGlmIChsb2FkSW5kZXggIT0gLTEpXG4gICAgICBsb2FkZXIubG9hZHMuc3BsaWNlKGxvYWRJbmRleCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBsb2FkLmxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgbG9hZEluZGV4ID0gaW5kZXhPZi5jYWxsKGxvYWQubGlua1NldHNbaV0ubG9hZHMsIGxvYWQpO1xuICAgICAgaWYgKGxvYWRJbmRleCAhPSAtMSlcbiAgICAgICAgbG9hZC5saW5rU2V0c1tpXS5sb2Fkcy5zcGxpY2UobG9hZEluZGV4LCAxKTtcbiAgICB9XG4gICAgbG9hZC5saW5rU2V0cy5zcGxpY2UoMCwgbG9hZC5saW5rU2V0cy5sZW5ndGgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9EeW5hbWljRXhlY3V0ZShsaW5rU2V0LCBsb2FkLCBsaW5rRXJyb3IpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG1vZHVsZSA9IGxvYWQuZXhlY3V0ZSgpO1xuICAgIH1cbiAgICBjYXRjaChlKSB7XG4gICAgICBsaW5rRXJyb3IobG9hZCwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbW9kdWxlIHx8ICEobW9kdWxlIGluc3RhbmNlb2YgTW9kdWxlKSlcbiAgICAgIGxpbmtFcnJvcihsb2FkLCBuZXcgVHlwZUVycm9yKCdFeGVjdXRpb24gbXVzdCBkZWZpbmUgYSBNb2R1bGUgaW5zdGFuY2UnKSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG1vZHVsZTtcbiAgfVxuXG4gIC8vIDI2LjMgTG9hZGVyXG5cbiAgLy8gMjYuMy4xLjFcbiAgLy8gZGVmaW5lZCBhdCB0b3BcblxuICAvLyBpbXBvcnRQcm9taXNlcyBhZGRzIGFiaWxpdHkgdG8gaW1wb3J0IGEgbW9kdWxlIHR3aWNlIHdpdGhvdXQgZXJyb3IgLSBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI2MDFcbiAgZnVuY3Rpb24gY3JlYXRlSW1wb3J0UHJvbWlzZShsb2FkZXIsIG5hbWUsIHByb21pc2UpIHtcbiAgICB2YXIgaW1wb3J0UHJvbWlzZXMgPSBsb2FkZXIuX2xvYWRlci5pbXBvcnRQcm9taXNlcztcbiAgICByZXR1cm4gaW1wb3J0UHJvbWlzZXNbbmFtZV0gPSBwcm9taXNlLnRoZW4oZnVuY3Rpb24obSkge1xuICAgICAgaW1wb3J0UHJvbWlzZXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gbTtcbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBpbXBvcnRQcm9taXNlc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gIH1cblxuICBMb2FkZXIucHJvdG90eXBlID0ge1xuICAgIC8vIDI2LjMuMy4xXG4gICAgY29uc3RydWN0b3I6IExvYWRlcixcbiAgICAvLyAyNi4zLjMuMlxuICAgIGRlZmluZTogZnVuY3Rpb24obmFtZSwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAvLyBjaGVjayBpZiBhbHJlYWR5IGRlZmluZWRcbiAgICAgIGlmICh0aGlzLl9sb2FkZXIuaW1wb3J0UHJvbWlzZXNbbmFtZV0pXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01vZHVsZSBpcyBhbHJlYWR5IGxvYWRpbmcuJyk7XG4gICAgICByZXR1cm4gY3JlYXRlSW1wb3J0UHJvbWlzZSh0aGlzLCBuYW1lLCBuZXcgUHJvbWlzZShhc3luY1N0YXJ0TG9hZFBhcnR3YXlUaHJvdWdoKHtcbiAgICAgICAgc3RlcDogJ3RyYW5zbGF0ZScsXG4gICAgICAgIGxvYWRlcjogdGhpcy5fbG9hZGVyLFxuICAgICAgICBtb2R1bGVOYW1lOiBuYW1lLFxuICAgICAgICBtb2R1bGVNZXRhZGF0YTogb3B0aW9ucyAmJiBvcHRpb25zLm1ldGFkYXRhIHx8IHt9LFxuICAgICAgICBtb2R1bGVTb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgbW9kdWxlQWRkcmVzczogb3B0aW9ucyAmJiBvcHRpb25zLmFkZHJlc3NcbiAgICAgIH0pKSk7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuM1xuICAgICdkZWxldGUnOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5fbG9hZGVyO1xuICAgICAgZGVsZXRlIGxvYWRlci5pbXBvcnRQcm9taXNlc1tuYW1lXTtcbiAgICAgIGRlbGV0ZSBsb2FkZXIubW9kdWxlUmVjb3Jkc1tuYW1lXTtcbiAgICAgIHJldHVybiBsb2FkZXIubW9kdWxlc1tuYW1lXSA/IGRlbGV0ZSBsb2FkZXIubW9kdWxlc1tuYW1lXSA6IGZhbHNlO1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjQgZW50cmllcyBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuNVxuICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoIXRoaXMuX2xvYWRlci5tb2R1bGVzW2tleV0pXG4gICAgICAgIHJldHVybjtcbiAgICAgIGRvRW5zdXJlRXZhbHVhdGVkKHRoaXMuX2xvYWRlci5tb2R1bGVzW2tleV0sIFtdLCB0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkZXIubW9kdWxlc1trZXldLm1vZHVsZTtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy43XG4gICAgaGFzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gISF0aGlzLl9sb2FkZXIubW9kdWxlc1tuYW1lXTtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy44XG4gICAgJ2ltcG9ydCc6IGZ1bmN0aW9uKG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyZW50TmFtZSA9PSAnb2JqZWN0JylcbiAgICAgICAgcGFyZW50TmFtZSA9IHBhcmVudE5hbWUubmFtZTtcblxuICAgICAgLy8gcnVuIG5vcm1hbGl6ZSBmaXJzdFxuICAgICAgdmFyIGxvYWRlck9iaiA9IHRoaXM7XG5cbiAgICAgIC8vIGFkZGVkLCBzZWUgaHR0cHM6Ly9idWdzLmVjbWFzY3JpcHQub3JnL3Nob3dfYnVnLmNnaT9pZD0yNjU5XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvYWRlck9iai5ub3JtYWxpemUobmFtZSwgcGFyZW50TmFtZSkpXG4gICAgICAudGhlbihmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHZhciBsb2FkZXIgPSBsb2FkZXJPYmouX2xvYWRlcjtcblxuICAgICAgICBpZiAobG9hZGVyLm1vZHVsZXNbbmFtZV0pIHtcbiAgICAgICAgICBkb0Vuc3VyZUV2YWx1YXRlZChsb2FkZXIubW9kdWxlc1tuYW1lXSwgW10sIGxvYWRlci5fbG9hZGVyKTtcbiAgICAgICAgICByZXR1cm4gbG9hZGVyLm1vZHVsZXNbbmFtZV0ubW9kdWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxvYWRlci5pbXBvcnRQcm9taXNlc1tuYW1lXSB8fCBjcmVhdGVJbXBvcnRQcm9taXNlKGxvYWRlck9iaiwgbmFtZSxcbiAgICAgICAgICBsb2FkTW9kdWxlKGxvYWRlciwgbmFtZSwge30pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24obG9hZCkge1xuICAgICAgICAgICAgZGVsZXRlIGxvYWRlci5pbXBvcnRQcm9taXNlc1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0ZUxvYWRlZE1vZHVsZShsb2FkZXIsIGxvYWQpO1xuICAgICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjkga2V5cyBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuMTBcbiAgICBsb2FkOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5fbG9hZGVyO1xuICAgICAgaWYgKGxvYWRlci5tb2R1bGVzW25hbWVdKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICByZXR1cm4gbG9hZGVyLmltcG9ydFByb21pc2VzW25hbWVdIHx8IGNyZWF0ZUltcG9ydFByb21pc2UodGhpcywgbmFtZSwgbmV3IFByb21pc2UoYXN5bmNTdGFydExvYWRQYXJ0d2F5VGhyb3VnaCh7XG4gICAgICAgIHN0ZXA6ICdsb2NhdGUnLFxuICAgICAgICBsb2FkZXI6IGxvYWRlcixcbiAgICAgICAgbW9kdWxlTmFtZTogbmFtZSxcbiAgICAgICAgbW9kdWxlTWV0YWRhdGE6IHt9LFxuICAgICAgICBtb2R1bGVTb3VyY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgbW9kdWxlQWRkcmVzczogdW5kZWZpbmVkXG4gICAgICB9KSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBkZWxldGUgbG9hZGVyLmltcG9ydFByb21pc2VzW25hbWVdO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjExXG4gICAgbW9kdWxlOiBmdW5jdGlvbihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsb2FkID0gY3JlYXRlTG9hZCgpO1xuICAgICAgbG9hZC5hZGRyZXNzID0gb3B0aW9ucyAmJiBvcHRpb25zLmFkZHJlc3M7XG4gICAgICB2YXIgbGlua1NldCA9IGNyZWF0ZUxpbmtTZXQodGhpcy5fbG9hZGVyLCBsb2FkKTtcbiAgICAgIHZhciBzb3VyY2VQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHNvdXJjZSk7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5fbG9hZGVyO1xuICAgICAgdmFyIHAgPSBsaW5rU2V0LmRvbmUudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGV2YWx1YXRlTG9hZGVkTW9kdWxlKGxvYWRlciwgbG9hZCk7XG4gICAgICB9KTtcbiAgICAgIHByb2NlZWRUb1RyYW5zbGF0ZShsb2FkZXIsIGxvYWQsIHNvdXJjZVByb21pc2UpO1xuICAgICAgcmV0dXJuIHA7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTJcbiAgICBuZXdNb2R1bGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqICE9ICdvYmplY3QnKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBvYmplY3QnKTtcblxuICAgICAgdmFyIG0gPSBuZXcgTW9kdWxlKCk7XG5cbiAgICAgIHZhciBwTmFtZXMgPSBbXTtcbiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyAmJiBvYmogIT0gbnVsbClcbiAgICAgICAgcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iailcbiAgICAgICAgICBwTmFtZXMucHVzaChrZXkpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBOYW1lcy5sZW5ndGg7IGkrKykgKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShtLCBrZXksIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgZXhwb3J0cyBjYW5ub3QgYmUgY2hhbmdlZCBleHRlcm5hbGx5LicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KShwTmFtZXNbaV0pO1xuXG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSlcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShtKTtcblxuICAgICAgcmV0dXJuIG07XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTRcbiAgICBzZXQ6IGZ1bmN0aW9uKG5hbWUsIG1vZHVsZSkge1xuICAgICAgaWYgKCEobW9kdWxlIGluc3RhbmNlb2YgTW9kdWxlKSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTG9hZGVyLnNldCgnICsgbmFtZSArICcsIG1vZHVsZSkgbXVzdCBiZSBhIG1vZHVsZScpO1xuICAgICAgdGhpcy5fbG9hZGVyLm1vZHVsZXNbbmFtZV0gPSB7XG4gICAgICAgIG1vZHVsZTogbW9kdWxlXG4gICAgICB9O1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjE1IHZhbHVlcyBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuMTYgQEBpdGVyYXRvciBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuMTcgQEB0b1N0cmluZ1RhZyBub3QgaW1wbGVtZW50ZWRcblxuICAgIC8vIDI2LjMuMy4xOC4xXG4gICAgbm9ybWFsaXplOiBmdW5jdGlvbihuYW1lLCByZWZlcnJlck5hbWUsIHJlZmVycmVyQWRkcmVzcykge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTguMlxuICAgIGxvY2F0ZTogZnVuY3Rpb24obG9hZCkge1xuICAgICAgcmV0dXJuIGxvYWQubmFtZTtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy4xOC4zXG4gICAgZmV0Y2g6IGZ1bmN0aW9uKGxvYWQpIHtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy4xOC40XG4gICAgdHJhbnNsYXRlOiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICByZXR1cm4gbG9hZC5zb3VyY2U7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTguNVxuICAgIGluc3RhbnRpYXRlOiBmdW5jdGlvbihsb2FkKSB7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfbmV3TW9kdWxlID0gTG9hZGVyLnByb3RvdHlwZS5uZXdNb2R1bGU7XG4vKlxuICogRVM2IE1vZHVsZSBEZWNsYXJhdGl2ZSBMaW5raW5nIENvZGUgLSBEZXYgQnVpbGQgT25seVxuICovXG4gIGZ1bmN0aW9uIGxpbmsobGlua1NldCwgbGlua0Vycm9yKSB7XG5cbiAgICB2YXIgbG9hZGVyID0gbGlua1NldC5sb2FkZXI7XG5cbiAgICBpZiAoIWxpbmtTZXQubG9hZHMubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGxvYWRzID0gbGlua1NldC5sb2Fkcy5jb25jYXQoW10pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2Fkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxvYWQgPSBsb2Fkc1tpXTtcblxuICAgICAgdmFyIG1vZHVsZSA9IGRvRHluYW1pY0V4ZWN1dGUobGlua1NldCwgbG9hZCwgbGlua0Vycm9yKTtcbiAgICAgIGlmICghbW9kdWxlKVxuICAgICAgICByZXR1cm47XG4gICAgICBsb2FkLm1vZHVsZSA9IHtcbiAgICAgICAgbmFtZTogbG9hZC5uYW1lLFxuICAgICAgICBtb2R1bGU6IG1vZHVsZVxuICAgICAgfTtcbiAgICAgIGxvYWQuc3RhdHVzID0gJ2xpbmtlZCc7XG5cbiAgICAgIGZpbmlzaExvYWQobG9hZGVyLCBsb2FkKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBldmFsdWF0ZUxvYWRlZE1vZHVsZShsb2FkZXIsIGxvYWQpIHtcbiAgICBjb25zb2xlLmFzc2VydChsb2FkLnN0YXR1cyA9PSAnbGlua2VkJywgJ2lzIGxpbmtlZCAnICsgbG9hZC5uYW1lKTtcbiAgICByZXR1cm4gbG9hZC5tb2R1bGUubW9kdWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9FbnN1cmVFdmFsdWF0ZWQoKSB7fVxuXG4gIGZ1bmN0aW9uIHRyYW5zcGlsZSgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFUzYgdHJhbnNwaWxhdGlvbiBpcyBvbmx5IHByb3ZpZGVkIGluIHRoZSBkZXYgbW9kdWxlIGxvYWRlciBidWlsZC4nKTtcbiAgfVxufSkoKTsvKlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgU3lzdGVtIExvYWRlciBJbXBsZW1lbnRhdGlvblxuXG4gICAgLSBJbXBsZW1lbnRlZCB0byBodHRwczovL2dpdGh1Yi5jb20vam9yZW5kb3JmZi9qcy1sb2FkZXJzL2Jsb2IvbWFzdGVyL2Jyb3dzZXItbG9hZGVyLmpzXG5cbiAgICAtIDxzY3JpcHQgdHlwZT1cIm1vZHVsZVwiPiBzdXBwb3J0ZWRcblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4qL1xuXG52YXIgU3lzdGVtO1xuXG5mdW5jdGlvbiBTeXN0ZW1Mb2FkZXIoKSB7XG4gIExvYWRlci5jYWxsKHRoaXMpO1xuICB0aGlzLnBhdGhzID0ge307XG59XG5cbi8vIE5CIG5vIHNwZWNpZmljYXRpb24gcHJvdmlkZWQgZm9yIFN5c3RlbS5wYXRocywgdXNlZCBpZGVhcyBkaXNjdXNzZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL2pvcmVuZG9yZmYvanMtbG9hZGVycy9pc3N1ZXMvMjVcbmZ1bmN0aW9uIGFwcGx5UGF0aHMocGF0aHMsIG5hbWUpIHtcbiAgLy8gbW9zdCBzcGVjaWZpYyAobW9zdCBudW1iZXIgb2Ygc2xhc2hlcyBpbiBwYXRoKSBtYXRjaCB3aW5zXG4gIHZhciBwYXRoTWF0Y2ggPSAnJywgd2lsZGNhcmQsIG1heFdpbGRjYXJkUHJlZml4TGVuID0gMDtcblxuICAvLyBjaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHBhdGhzIGVudHJ5XG4gIGZvciAodmFyIHAgaW4gcGF0aHMpIHtcbiAgICB2YXIgcGF0aFBhcnRzID0gcC5zcGxpdCgnKicpO1xuICAgIGlmIChwYXRoUGFydHMubGVuZ3RoID4gMilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09ubHkgb25lIHdpbGRjYXJkIGluIGEgcGF0aCBpcyBwZXJtaXR0ZWQnKTtcblxuICAgIC8vIGV4YWN0IHBhdGggbWF0Y2hcbiAgICBpZiAocGF0aFBhcnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICBpZiAobmFtZSA9PSBwKVxuICAgICAgICByZXR1cm4gcGF0aHNbcF07XG4gICAgICBcbiAgICAgIC8vIHN1cHBvcnQgdHJhaWxpbmcgLyBpbiBwYXRocyBydWxlc1xuICAgICAgZWxzZSBpZiAobmFtZS5zdWJzdHIoMCwgcC5sZW5ndGggLSAxKSA9PSBwLnN1YnN0cigwLCBwLmxlbmd0aCAtIDEpICYmIChuYW1lLmxlbmd0aCA8IHAubGVuZ3RoIHx8IG5hbWVbcC5sZW5ndGggLSAxXSA9PSBwW3AubGVuZ3RoIC0gMV0pICYmIHBhdGhzW3BdW3BhdGhzW3BdLmxlbmd0aCAtIDFdID09ICcvJylcbiAgICAgICAgcmV0dXJuIHBhdGhzW3BdLnN1YnN0cigwLCBwYXRoc1twXS5sZW5ndGggLSAxKSArIChuYW1lLmxlbmd0aCA+IHAubGVuZ3RoID8gJy8nICsgbmFtZS5zdWJzdHIocC5sZW5ndGgpIDogJycpO1xuICAgIH1cbiAgICAvLyB3aWxkY2FyZCBwYXRoIG1hdGNoXG4gICAgZWxzZSB7XG4gICAgICB2YXIgd2lsZGNhcmRQcmVmaXhMZW4gPSBwYXRoUGFydHNbMF0ubGVuZ3RoO1xuICAgICAgaWYgKHdpbGRjYXJkUHJlZml4TGVuID49IG1heFdpbGRjYXJkUHJlZml4TGVuICYmXG4gICAgICAgICAgbmFtZS5zdWJzdHIoMCwgcGF0aFBhcnRzWzBdLmxlbmd0aCkgPT0gcGF0aFBhcnRzWzBdICYmXG4gICAgICAgICAgbmFtZS5zdWJzdHIobmFtZS5sZW5ndGggLSBwYXRoUGFydHNbMV0ubGVuZ3RoKSA9PSBwYXRoUGFydHNbMV0pIHtcbiAgICAgICAgICAgIG1heFdpbGRjYXJkUHJlZml4TGVuID0gd2lsZGNhcmRQcmVmaXhMZW47XG4gICAgICAgICAgICBwYXRoTWF0Y2ggPSBwO1xuICAgICAgICAgICAgd2lsZGNhcmQgPSBuYW1lLnN1YnN0cihwYXRoUGFydHNbMF0ubGVuZ3RoLCBuYW1lLmxlbmd0aCAtIHBhdGhQYXJ0c1sxXS5sZW5ndGggLSBwYXRoUGFydHNbMF0ubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dFBhdGggPSBwYXRoc1twYXRoTWF0Y2hdO1xuICBpZiAodHlwZW9mIHdpbGRjYXJkID09ICdzdHJpbmcnKVxuICAgIG91dFBhdGggPSBvdXRQYXRoLnJlcGxhY2UoJyonLCB3aWxkY2FyZCk7XG5cbiAgcmV0dXJuIG91dFBhdGg7XG59XG5cbi8vIGlubGluZSBPYmplY3QuY3JlYXRlLXN0eWxlIGNsYXNzIGV4dGVuc2lvblxuZnVuY3Rpb24gTG9hZGVyUHJvdG8oKSB7fVxuTG9hZGVyUHJvdG8ucHJvdG90eXBlID0gTG9hZGVyLnByb3RvdHlwZTtcblN5c3RlbUxvYWRlci5wcm90b3R5cGUgPSBuZXcgTG9hZGVyUHJvdG8oKTtcbiAgdmFyIGZldGNoVGV4dEZyb21VUkw7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBmZXRjaFRleHRGcm9tVVJMID0gZnVuY3Rpb24odXJsLCBhdXRob3JpemF0aW9uLCBmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHZhciBzYW1lRG9tYWluID0gdHJ1ZTtcbiAgICAgIHZhciBkb1RpbWVvdXQgPSBmYWxzZTtcbiAgICAgIGlmICghKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgc2FtZSBkb21haW5cbiAgICAgICAgdmFyIGRvbWFpbkNoZWNrID0gL14oXFx3KzopP1xcL1xcLyhbXlxcL10rKS8uZXhlYyh1cmwpO1xuICAgICAgICBpZiAoZG9tYWluQ2hlY2spIHtcbiAgICAgICAgICBzYW1lRG9tYWluID0gZG9tYWluQ2hlY2tbMl0gPT09IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICAgIGlmIChkb21haW5DaGVja1sxXSlcbiAgICAgICAgICAgIHNhbWVEb21haW4gJj0gZG9tYWluQ2hlY2tbMV0gPT09IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzYW1lRG9tYWluICYmIHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICB4aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ubG9hZCA9IGxvYWQ7XG4gICAgICAgIHhoci5vbmVycm9yID0gZXJyb3I7XG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSBlcnJvcjtcbiAgICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICB4aHIudGltZW91dCA9IDA7XG4gICAgICAgIGRvVGltZW91dCA9IHRydWU7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICBmdWxmaWxsKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1hIUiBlcnJvcicgKyAoeGhyLnN0YXR1cyA/ICcgKCcgKyB4aHIuc3RhdHVzICsgKHhoci5zdGF0dXNUZXh0ID8gJyAnICsgeGhyLnN0YXR1c1RleHQgIDogJycpICsgJyknIDogJycpICsgJyBsb2FkaW5nICcgKyB1cmwpKTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgLy8gaW4gQ2hyb21lIG9uIGZpbGU6Ly8vIFVSTHMsIHN0YXR1cyBpcyAwXG4gICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gMCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVRleHQpIHtcbiAgICAgICAgICAgICAgbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHdoZW4gcmVzcG9uc2VUZXh0IGlzIGVtcHR5LCB3YWl0IGZvciBsb2FkIG9yIGVycm9yIGV2ZW50XG4gICAgICAgICAgICAgIC8vIHRvIGluZm9ybSBpZiBpdCBpcyBhIDQwNCBvciBlbXB0eSBmaWxlXG4gICAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBsb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuXG4gICAgICBpZiAoeGhyLnNldFJlcXVlc3RIZWFkZXIpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi94LWVzLW1vZHVsZSwgKi8qJyk7XG4gICAgICAgIC8vIGNhbiBzZXQgXCJhdXRob3JpemF0aW9uOiB0cnVlXCIgdG8gZW5hYmxlIHdpdGhDcmVkZW50aWFscyBvbmx5XG4gICAgICAgIGlmIChhdXRob3JpemF0aW9uKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBhdXRob3JpemF0aW9uID09ICdzdHJpbmcnKVxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0F1dGhvcml6YXRpb24nLCBhdXRob3JpemF0aW9uKTtcbiAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZG9UaW1lb3V0KSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiByZXF1aXJlICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIGZzO1xuICAgIGZldGNoVGV4dEZyb21VUkwgPSBmdW5jdGlvbih1cmwsIGF1dGhvcml6YXRpb24sIGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgaWYgKHVybC5zdWJzdHIoMCwgOCkgIT0gJ2ZpbGU6Ly8vJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmV0Y2ggXCInICsgdXJsICsgJ1wiLiBPbmx5IGZpbGUgVVJMcyBvZiB0aGUgZm9ybSBmaWxlOi8vLyBhbGxvd2VkIHJ1bm5pbmcgaW4gTm9kZS4nKTtcbiAgICAgIGZzID0gZnMgfHwgcmVxdWlyZSgnZnMnKTtcbiAgICAgIGlmIChpc1dpbmRvd3MpXG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXC8vZywgJ1xcXFwnKS5zdWJzdHIoOCk7XG4gICAgICBlbHNlXG4gICAgICAgIHVybCA9IHVybC5zdWJzdHIoNyk7XG4gICAgICByZXR1cm4gZnMucmVhZEZpbGUodXJsLCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBTdHJpcCBCeXRlIE9yZGVyIE1hcmsgb3V0IGlmIGl0J3MgdGhlIGxlYWRpbmcgY2hhclxuICAgICAgICAgIHZhciBkYXRhU3RyaW5nID0gZGF0YSArICcnO1xuICAgICAgICAgIGlmIChkYXRhU3RyaW5nWzBdID09PSAnXFx1ZmVmZicpXG4gICAgICAgICAgICBkYXRhU3RyaW5nID0gZGF0YVN0cmluZy5zdWJzdHIoMSk7XG5cbiAgICAgICAgICBmdWxmaWxsKGRhdGFTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzZWxmLmZldGNoICE9ICd1bmRlZmluZWQnKSB7XG4gICAgZmV0Y2hUZXh0RnJvbVVSTCA9IGZ1bmN0aW9uKHVybCwgYXV0aG9yaXphdGlvbiwgZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgaGVhZGVyczogeydBY2NlcHQnOiAnYXBwbGljYXRpb24veC1lcy1tb2R1bGUsICovKid9XG4gICAgICB9O1xuXG4gICAgICBpZiAoYXV0aG9yaXphdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGF1dGhvcml6YXRpb24gPT0gJ3N0cmluZycpXG4gICAgICAgICAgb3B0cy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBhdXRob3JpemF0aW9uO1xuICAgICAgICBvcHRzLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuICAgICAgfVxuXG4gICAgICBmZXRjaCh1cmwsIG9wdHMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgaWYgKHIub2spIHtcbiAgICAgICAgICAgIHJldHVybiByLnRleHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGZXRjaCBlcnJvcjogJyArIHIuc3RhdHVzICsgJyAnICsgci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bGZpbGwsIHJlamVjdCk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIGVudmlyb25tZW50IGZldGNoIEFQSSBhdmFpbGFibGUuJyk7XG4gIH1cblxuICBTeXN0ZW1Mb2FkZXIucHJvdG90eXBlLmZldGNoID0gZnVuY3Rpb24obG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZldGNoVGV4dEZyb21VUkwobG9hZC5hZGRyZXNzLCB1bmRlZmluZWQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG4vLyBTeXN0ZW1KUyBMb2FkZXIgQ2xhc3MgYW5kIEV4dGVuc2lvbiBoZWxwZXJzXG5cbmZ1bmN0aW9uIFN5c3RlbUpTTG9hZGVyKCkge1xuICBTeXN0ZW1Mb2FkZXIuY2FsbCh0aGlzKTtcblxuICBzeXN0ZW1KU0NvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG59XG5cbi8vIGlubGluZSBPYmplY3QuY3JlYXRlLXN0eWxlIGNsYXNzIGV4dGVuc2lvblxuZnVuY3Rpb24gU3lzdGVtUHJvdG8oKSB7fTtcblN5c3RlbVByb3RvLnByb3RvdHlwZSA9IFN5c3RlbUxvYWRlci5wcm90b3R5cGU7XG5TeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUgPSBuZXcgU3lzdGVtUHJvdG8oKTtcblN5c3RlbUpTTG9hZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN5c3RlbUpTTG9hZGVyO1xuXG4vLyByZW1vdmUgRVNNTCBpbnN0YW50aWF0ZVxuU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlLmluc3RhbnRpYXRlID0gZnVuY3Rpb24oKSB7fTtcblxudmFyIHN5c3RlbUpTQ29uc3RydWN0b3I7XG5cbmZ1bmN0aW9uIGhvb2sobmFtZSwgaG9vaykge1xuICBTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGVbbmFtZV0gPSBob29rKFN5c3RlbUpTTG9hZGVyLnByb3RvdHlwZVtuYW1lXSB8fCBmdW5jdGlvbigpIHt9KTtcbn1cbmZ1bmN0aW9uIGhvb2tDb25zdHJ1Y3Rvcihob29rKSB7XG4gIHN5c3RlbUpTQ29uc3RydWN0b3IgPSBob29rKHN5c3RlbUpTQ29uc3RydWN0b3IgfHwgZnVuY3Rpb24oKSB7fSk7XG59XG5cbmZ1bmN0aW9uIGRlZHVwZShkZXBzKSB7XG4gIHZhciBuZXdEZXBzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gZGVwcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgaWYgKGluZGV4T2YuY2FsbChuZXdEZXBzLCBkZXBzW2ldKSA9PSAtMSlcbiAgICAgIG5ld0RlcHMucHVzaChkZXBzW2ldKVxuICByZXR1cm4gbmV3RGVwcztcbn1cblxuZnVuY3Rpb24gZ3JvdXAoZGVwcykge1xuICB2YXIgbmFtZXMgPSBbXTtcbiAgdmFyIGluZGljZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBkZXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHZhciBpbmRleCA9IGluZGV4T2YuY2FsbChuYW1lcywgZGVwc1tpXSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgbmFtZXMucHVzaChkZXBzW2ldKTtcbiAgICAgIGluZGljZXMucHVzaChbaV0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGluZGljZXNbaW5kZXhdLnB1c2goaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IG5hbWVzOiBuYW1lcywgaW5kaWNlczogaW5kaWNlcyB9O1xufVxuXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gdHJ1ZTtcbnRyeSB7XG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoeyBhOiAwIH0sICdhJyk7XG59XG5jYXRjaChlKSB7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZhbHNlO1xufVxuXG4vLyBjb252ZXJ0cyBhbnkgbW9kdWxlLmV4cG9ydHMgb2JqZWN0IGludG8gYW4gb2JqZWN0IHJlYWR5IGZvciBTeXN0ZW1KUy5uZXdNb2R1bGVcbmZ1bmN0aW9uIGdldEVTTW9kdWxlKGV4cG9ydHMpIHtcbiAgdmFyIGVzTW9kdWxlID0ge307XG4gIC8vIGRvbid0IHRyaWdnZXIgZ2V0dGVycy9zZXR0ZXJzIGluIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgdGhlbVxuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgfHwgdHlwZW9mIGV4cG9ydHMgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICAgIHZhciBkO1xuICAgICAgZm9yICh2YXIgcCBpbiBleHBvcnRzKVxuICAgICAgICBpZiAoZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZXhwb3J0cywgcCkpXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkoZXNNb2R1bGUsIHAsIGQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IGV4cG9ydHMgJiYgZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgIGZvciAodmFyIHAgaW4gZXhwb3J0cykge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5IHx8IGV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpXG4gICAgICAgICAgZXNNb2R1bGVbcF0gPSBleHBvcnRzW3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlc01vZHVsZVsnZGVmYXVsdCddID0gZXhwb3J0cztcbiAgZGVmaW5lUHJvcGVydHkoZXNNb2R1bGUsICdfX3VzZURlZmF1bHQnLCB7XG4gICAgdmFsdWU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBlc01vZHVsZTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHByZXBlbmQpIHtcbiAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgaWYgKCFwcmVwZW5kIHx8ICEocCBpbiBhKSlcbiAgICAgIGFbcF0gPSBiW3BdO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG4vLyBwYWNrYWdlIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xudmFyIHBhY2thZ2VQcm9wZXJ0aWVzID0gWydtYWluJywgJ2Zvcm1hdCcsICdkZWZhdWx0RXh0ZW5zaW9uJywgJ21ldGEnLCAnbWFwJywgJ2Jhc2VQYXRoJywgJ2RlcENhY2hlJ107XG5cbi8vIG1ldGEgZmlyc3QtbGV2ZWwgZXh0ZW5kcyB3aGVyZTpcbi8vIGFycmF5ICsgYXJyYXkgYXBwZW5kc1xuLy8gb2JqZWN0ICsgb2JqZWN0IGV4dGVuZHNcbi8vIG90aGVyIHByb3BlcnRpZXMgcmVwbGFjZVxuZnVuY3Rpb24gZXh0ZW5kTWV0YShhLCBiLCBwcmVwZW5kKSB7XG4gIGZvciAodmFyIHAgaW4gYikge1xuICAgIHZhciB2YWwgPSBiW3BdO1xuICAgIGlmICghKHAgaW4gYSkpXG4gICAgICBhW3BdID0gdmFsO1xuICAgIGVsc2UgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5ICYmIGFbcF0gaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgIGFbcF0gPSBbXS5jb25jYXQocHJlcGVuZCA/IHZhbCA6IGFbcF0pLmNvbmNhdChwcmVwZW5kID8gYVtwXSA6IHZhbCk7XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIGFbcF0gPT0gJ29iamVjdCcpXG4gICAgICBhW3BdID0gZXh0ZW5kKGV4dGVuZCh7fSwgYVtwXSksIHZhbCwgcHJlcGVuZCk7XG4gICAgZWxzZSBpZiAoIXByZXBlbmQpXG4gICAgICBhW3BdID0gdmFsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gIGlmICh0aGlzLndhcm5pbmdzICYmIHR5cGVvZiBjb25zb2xlICE9ICd1bmRlZmluZWQnICYmIGNvbnNvbGUud2FybilcbiAgICBjb25zb2xlLndhcm4obXNnKTtcbn12YXIgYWJzVVJMUmVnRXggPSAvXlteXFwvXSs6XFwvXFwvLztcblxuZnVuY3Rpb24gcmVhZE1lbWJlckV4cHJlc3Npb24ocCwgdmFsdWUpIHtcbiAgdmFyIHBQYXJ0cyA9IHAuc3BsaXQoJy4nKTtcbiAgd2hpbGUgKHBQYXJ0cy5sZW5ndGgpXG4gICAgdmFsdWUgPSB2YWx1ZVtwUGFydHMuc2hpZnQoKV07XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIGJhc2VVUkxDYWNoZSA9IHt9O1xuZnVuY3Rpb24gZ2V0QmFzZVVSTE9iaigpIHtcbiAgaWYgKGJhc2VVUkxDYWNoZVt0aGlzLmJhc2VVUkxdKVxuICAgIHJldHVybiBiYXNlVVJMQ2FjaGVbdGhpcy5iYXNlVVJMXTtcblxuICAvLyBub3JtYWxpemUgYmFzZVVSTCBpZiBub3QgYWxyZWFkeVxuICBpZiAodGhpcy5iYXNlVVJMW3RoaXMuYmFzZVVSTC5sZW5ndGggLSAxXSAhPSAnLycpXG4gICAgdGhpcy5iYXNlVVJMICs9ICcvJztcblxuICB2YXIgYmFzZVVSTCA9IG5ldyBVUkwodGhpcy5iYXNlVVJMLCBiYXNlVVJJKTtcblxuICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMLmhyZWY7XG5cbiAgcmV0dXJuIChiYXNlVVJMQ2FjaGVbdGhpcy5iYXNlVVJMXSA9IGJhc2VVUkwpO1xufVxuXG5mdW5jdGlvbiBnZXRNYXBNYXRjaChtYXAsIG5hbWUpIHtcbiAgdmFyIGJlc3RNYXRjaCwgYmVzdE1hdGNoTGVuZ3RoID0gMDtcblxuICBmb3IgKHZhciBwIGluIG1hcCkge1xuICAgIGlmIChuYW1lLnN1YnN0cigwLCBwLmxlbmd0aCkgPT0gcCAmJiAobmFtZS5sZW5ndGggPT0gcC5sZW5ndGggfHwgbmFtZVtwLmxlbmd0aF0gPT0gJy8nKSkge1xuICAgICAgdmFyIGN1ck1hdGNoTGVuZ3RoID0gcC5zcGxpdCgnLycpLmxlbmd0aDtcbiAgICAgIGlmIChjdXJNYXRjaExlbmd0aCA8PSBiZXN0TWF0Y2hMZW5ndGgpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgYmVzdE1hdGNoID0gcDtcbiAgICAgIGJlc3RNYXRjaExlbmd0aCA9IGN1ck1hdGNoTGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBiZXN0TWF0Y2g7XG59XG5cbmZ1bmN0aW9uIHNldFByb2R1Y3Rpb24oaXNQcm9kdWN0aW9uKSB7XG4gIHRoaXMuc2V0KCdAc3lzdGVtLWVudicsIHRoaXMubmV3TW9kdWxlKHtcbiAgICBicm93c2VyOiBpc0Jyb3dzZXIsXG4gICAgbm9kZTogISF0aGlzLl9ub2RlUmVxdWlyZSxcbiAgICBwcm9kdWN0aW9uOiBpc1Byb2R1Y3Rpb25cbiAgfSkpO1xufVxuXG52YXIgYmFzZVVSSU9iaiA9IG5ldyBVUkwoYmFzZVVSSSk7XG5cbmhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcblxuICAgIC8vIHN1cHBvcnQgYmFzZVVSTFxuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkkuc3Vic3RyKDAsIGJhc2VVUkkubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuXG4gICAgLy8gc3VwcG9ydCBtYXAgYW5kIHBhdGhzXG4gICAgdGhpcy5tYXAgPSB7fTtcbiAgICB0aGlzLnBhdGhzID0ge307XG5cbiAgICAvLyBnbG9iYWwgYmVoYXZpb3VyIGZsYWdzXG4gICAgdGhpcy53YXJuaW5ncyA9IGZhbHNlO1xuICAgIHRoaXMuZGVmYXVsdEpTRXh0ZW5zaW9ucyA9IGZhbHNlO1xuICAgIHRoaXMucGx1Z2luRmlyc3QgPSBmYWxzZTtcblxuICAgIC8vIGJ5IGRlZmF1bHQgbG9hZCBcIi5qc29uXCIgZmlsZXMgYXMganNvblxuICAgIC8vIGxlYWRpbmcgKiBtZXRhIGRvZXNuJ3QgbmVlZCBub3JtYWxpemF0aW9uXG4gICAgLy8gTkIgYWRkIHRoaXMgaW4gbmV4dCBicmVha2luZyByZWxlYXNlXG4gICAgLy8gdGhpcy5tZXRhWycqLmpzb24nXSA9IHsgZm9ybWF0OiAnanNvbicgfTtcblxuICAgIC8vIHN1cHBvcnQgdGhlIGVtcHR5IG1vZHVsZSwgYXMgYSBjb25jZXB0XG4gICAgdGhpcy5zZXQoJ0BlbXB0eScsIHRoaXMubmV3TW9kdWxlKHt9KSk7XG5cbiAgICBzZXRQcm9kdWN0aW9uLmNhbGwodGhpcywgZmFsc2UpO1xuICB9O1xufSk7XG5cbi8vIGluY2x1ZGUgdGhlIG5vZGUgcmVxdWlyZSBzaW5jZSB3ZSdyZSBvdmVycmlkaW5nIGl0XG5pZiAodHlwZW9mIHJlcXVpcmUgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3NlcilcbiAgU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlLl9ub2RlUmVxdWlyZSA9IHJlcXVpcmU7XG5cbnZhciBub2RlQ29yZU1vZHVsZXMgPSBbJ2Fzc2VydCcsICdidWZmZXInLCAnY2hpbGRfcHJvY2VzcycsICdjbHVzdGVyJywgJ2NvbnNvbGUnLCAnY29uc3RhbnRzJywgXG4gICAgJ2NyeXB0bycsICdkZ3JhbScsICdkbnMnLCAnZG9tYWluJywgJ2V2ZW50cycsICdmcycsICdodHRwJywgJ2h0dHBzJywgJ21vZHVsZScsICduZXQnLCAnb3MnLCAncGF0aCcsIFxuICAgICdwcm9jZXNzJywgJ3B1bnljb2RlJywgJ3F1ZXJ5c3RyaW5nJywgJ3JlYWRsaW5lJywgJ3JlcGwnLCAnc3RyZWFtJywgJ3N0cmluZ19kZWNvZGVyJywgJ3N5cycsICd0aW1lcnMnLCBcbiAgICAndGxzJywgJ3R0eScsICd1cmwnLCAndXRpbCcsICd2bScsICd6bGliJ107XG5cbi8qXG4gIENvcmUgU3lzdGVtSlMgTm9ybWFsaXphdGlvblxuXG4gIElmIGEgbmFtZSBpcyByZWxhdGl2ZSwgd2UgYXBwbHkgVVJMIG5vcm1hbGl6YXRpb24gdG8gdGhlIHBhZ2VcbiAgSWYgYSBuYW1lIGlzIGFuIGFic29sdXRlIFVSTCwgd2UgbGVhdmUgaXQgYXMtaXNcblxuICBQbGFpbiBuYW1lcyAobmVpdGhlciBvZiB0aGUgYWJvdmUpIHJ1biB0aHJvdWdoIHRoZSBtYXAgYW5kIHBhdGhzXG4gIG5vcm1hbGl6YXRpb24gcGhhc2VzLlxuXG4gIFRoZSBwYXRocyBub3JtYWxpemF0aW9uIHBoYXNlIGFwcGxpZXMgbGFzdCAocGF0aHMgZXh0ZW5zaW9uKSwgd2hpY2hcbiAgZGVmaW5lcyB0aGUgYGRlY2Fub25pY2FsaXplYCBmdW5jdGlvbiBhbmQgbm9ybWFsaXplcyBldmVyeXRoaW5nIGludG9cbiAgYSBVUkwuXG4gKi9cblxuZnVuY3Rpb24gaXNQbGFpbihuYW1lKSB7XG4gcmV0dXJuIG5hbWVbMF0gIT0gJy4nICYmIG5hbWVbMF0gIT0gJy8nICYmICFuYW1lLm1hdGNoKGFic1VSTFJlZ0V4KTtcbn1cblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShuYW1lLCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudClcbiAgICBwYXJlbnQgPSBwYXJlbnQucmVwbGFjZSgvIy9nLCAnJTA1Jyk7XG4gIHJldHVybiBuZXcgVVJMKG5hbWUsIHBhcmVudCB8fCBiYXNlVVJJT2JqKS5ocmVmLnJlcGxhY2UoLyUwNS9nLCAnIycpO1xufVxuXG4vLyBvbmx5IGFwcGxpZXMgdG8gcGxhaW4gbmFtZXNcbmZ1bmN0aW9uIGJhc2VVUkxSZXNvbHZlKGxvYWRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFVSTChuYW1lLCBnZXRCYXNlVVJMT2JqLmNhbGwobG9hZGVyKSkuaHJlZjtcbn1cblxuZnVuY3Rpb24gY29yZVJlc29sdmUobmFtZSwgcGFyZW50TmFtZSkge1xuICAvLyBzdGFuZGFyZCBVUkwgcmVzb2x1dGlvblxuICBpZiAoIWlzUGxhaW4obmFtZSkpXG4gICAgcmV0dXJuIHVybFJlc29sdmUobmFtZSwgcGFyZW50TmFtZSk7XG5cbiAgLy8gcGxhaW4gbmFtZXMgbm90IHN0YXJ0aW5nIHdpdGggJy4vJywgJzovLycgYW5kICcvJyBnbyB0aHJvdWdoIGN1c3RvbSByZXNvbHV0aW9uXG4gIHZhciBtYXBNYXRjaCA9IGdldE1hcE1hdGNoKHRoaXMubWFwLCBuYW1lKTtcblxuICBpZiAobWFwTWF0Y2gpIHtcbiAgICBuYW1lID0gdGhpcy5tYXBbbWFwTWF0Y2hdICsgbmFtZS5zdWJzdHIobWFwTWF0Y2gubGVuZ3RoKTtcblxuICAgIGlmICghaXNQbGFpbihuYW1lKSlcbiAgICAgIHJldHVybiB1cmxSZXNvbHZlKG5hbWUpO1xuICB9XG5cbiAgaWYgKHRoaXMuaGFzKG5hbWUpKVxuICAgIHJldHVybiBuYW1lO1xuICAvLyBkeW5hbWljYWxseSBsb2FkIG5vZGUtY29yZSBtb2R1bGVzIHdoZW4gcmVxdWlyaW5nIGBAbm9kZS9mc2AgZm9yIGV4YW1wbGVcbiAgaWYgKG5hbWUuc3Vic3RyKDAsIDYpID09ICdAbm9kZS8nICYmIG5vZGVDb3JlTW9kdWxlcy5pbmRleE9mKG5hbWUuc3Vic3RyKDYpKSAhPSAtMSkge1xuICAgIGlmICghdGhpcy5fbm9kZVJlcXVpcmUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFcnJvciBsb2FkaW5nICcgKyBuYW1lICsgJy4gQ2FuIG9ubHkgbG9hZCBub2RlIGNvcmUgbW9kdWxlcyBpbiBOb2RlLicpO1xuICAgIHRoaXMuc2V0KG5hbWUsIHRoaXMubmV3TW9kdWxlKGdldEVTTW9kdWxlKHRoaXMuX25vZGVSZXF1aXJlKG5hbWUuc3Vic3RyKDYpKSkpKTtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIHZhciBwYXRoZWQgPSBhcHBseVBhdGhzKHRoaXMucGF0aHMsIG5hbWUpO1xuXG4gIGlmIChwYXRoZWQgJiYgIWlzUGxhaW4ocGF0aGVkKSlcbiAgICByZXR1cm4gdXJsUmVzb2x2ZShwYXRoZWQpO1xuXG4gIHJldHVybiBiYXNlVVJMUmVzb2x2ZSh0aGlzLCBwYXRoZWQgfHwgbmFtZSk7XG59XG5cbmhvb2soJ25vcm1hbGl6ZScsIGZ1bmN0aW9uKG5vcm1hbGl6ZSkge1xuICByZXR1cm4gZnVuY3Rpb24obmFtZSwgcGFyZW50TmFtZSwgc2tpcEV4dCkge1xuICAgIHZhciByZXNvbHZlZCA9IGNvcmVSZXNvbHZlLmNhbGwodGhpcywgbmFtZSwgcGFyZW50TmFtZSk7XG4gICAgaWYgKCFza2lwRXh0ICYmIHRoaXMuZGVmYXVsdEpTRXh0ZW5zaW9ucyAmJiByZXNvbHZlZC5zdWJzdHIocmVzb2x2ZWQubGVuZ3RoIC0gMywgMykgIT0gJy5qcycgJiYgIWlzUGxhaW4ocmVzb2x2ZWQpKVxuICAgICAgcmVzb2x2ZWQgKz0gJy5qcyc7XG4gICAgcmV0dXJuIHJlc29sdmVkO1xuICB9O1xufSk7XG5cbi8vIHBlcmNlbnQgZW5jb2RlIGp1c3QgJyMnIGluIHVybHMgaWYgdXNpbmcgSFRUUCByZXF1ZXN0c1xudmFyIGh0dHBSZXF1ZXN0ID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9ICd1bmRlZmluZWQnO1xuaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsb2NhdGUuY2FsbCh0aGlzLCBsb2FkKSlcbiAgICAudGhlbihmdW5jdGlvbihhZGRyZXNzKSB7XG4gICAgICBpZiAoaHR0cFJlcXVlc3QpXG4gICAgICAgIHJldHVybiBhZGRyZXNzLnJlcGxhY2UoLyMvZywgJyUyMycpO1xuICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfSk7XG4gIH07XG59KTtcblxuLypcbiAqIEZldGNoIHdpdGggYXV0aG9yaXphdGlvblxuICovXG5ob29rKCdmZXRjaCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZldGNoVGV4dEZyb21VUkwobG9hZC5hZGRyZXNzLCBsb2FkLm1ldGFkYXRhLmF1dGhvcml6YXRpb24sIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG59KTtcblxuLypcbiAgX191c2VEZWZhdWx0XG4gIFxuICBXaGVuIGEgbW9kdWxlIG9iamVjdCBsb29rcyBsaWtlOlxuICBuZXdNb2R1bGUoXG4gICAgX191c2VEZWZhdWx0OiB0cnVlLFxuICAgIGRlZmF1bHQ6ICdzb21lLW1vZHVsZSdcbiAgfSlcblxuICBUaGVuIGltcG9ydGluZyB0aGF0IG1vZHVsZSBwcm92aWRlcyB0aGUgJ3NvbWUtbW9kdWxlJ1xuICByZXN1bHQgZGlyZWN0bHkgaW5zdGVhZCBvZiB0aGUgZnVsbCBtb2R1bGUuXG5cbiAgVXNlZnVsIGZvciBlZyBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge31cbiovXG5ob29rKCdpbXBvcnQnLCBmdW5jdGlvbihzeXN0ZW1JbXBvcnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpIHtcbiAgICBpZiAocGFyZW50TmFtZSAmJiBwYXJlbnROYW1lLm5hbWUpXG4gICAgICB3YXJuLmNhbGwodGhpcywgJ1N5c3RlbUpTLmltcG9ydChuYW1lLCB7IG5hbWU6IHBhcmVudE5hbWUgfSkgaXMgZGVwcmVjYXRlZCBmb3IgU3lzdGVtSlMuaW1wb3J0KG5hbWUsIHBhcmVudE5hbWUpLCB3aGlsZSBpbXBvcnRpbmcgJyArIG5hbWUgKyAnIGZyb20gJyArIHBhcmVudE5hbWUubmFtZSk7XG4gICAgcmV0dXJuIHN5c3RlbUltcG9ydC5jYWxsKHRoaXMsIG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpLnRoZW4oZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLl9fdXNlRGVmYXVsdCA/IG1vZHVsZVsnZGVmYXVsdCddIDogbW9kdWxlO1xuICAgIH0pO1xuICB9O1xufSk7XG5cbi8qXG4gKiBBbGxvdyBmb3JtYXQ6ICdkZXRlY3QnIG1ldGEgdG8gZW5hYmxlIGZvcm1hdCBkZXRlY3Rpb25cbiAqL1xuaG9vaygndHJhbnNsYXRlJywgZnVuY3Rpb24oc3lzdGVtVHJhbnNsYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdkZXRlY3QnKVxuICAgICAgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN5c3RlbVRyYW5zbGF0ZS5jYWxsKHRoaXMsIGxvYWQpO1xuICB9O1xufSk7XG5cblxuLypcbiAqIEpTT04gZm9ybWF0IHN1cHBvcnRcbiAqXG4gKiBTdXBwb3J0cyBsb2FkaW5nIEpTT04gZmlsZXMgYXMgYSBtb2R1bGUgZm9ybWF0IGl0c2VsZlxuICpcbiAqIFVzYWdlOlxuICpcbiAqIFN5c3RlbUpTLmNvbmZpZyh7XG4gKiAgIG1ldGE6IHtcbiAqICAgICAnKi5qc29uJzogeyBmb3JtYXQ6ICdqc29uJyB9XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIE1vZHVsZSBpcyByZXR1cm5lZCBhcyBpZiB3cml0dGVuOlxuICpcbiAqIGV4cG9ydCBkZWZhdWx0IHtKU09OfVxuICpcbiAqIE5vIG5hbWVkIGV4cG9ydHMgYXJlIHByb3ZpZGVkXG4gKlxuICogRmlsZXMgZW5kaW5nIGluIFwiLmpzb25cIiBhcmUgdHJlYXRlZCBhcyBqc29uIGF1dG9tYXRpY2FsbHkgYnkgU3lzdGVtSlNcbiAqL1xuaG9vaygnaW5zdGFudGlhdGUnLCBmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgIGlmIChsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAnanNvbicgJiYgIXRoaXMuYnVpbGRlcikge1xuICAgICAgdmFyIGVudHJ5ID0gbG9hZC5tZXRhZGF0YS5lbnRyeSA9IGNyZWF0ZUVudHJ5KCk7XG4gICAgICBlbnRyeS5kZXBzID0gW107XG4gICAgICBlbnRyeS5leGVjdXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9hZC5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEpTT04gZmlsZSBcIiArIGxvYWQubmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufSlcblxuLypcbiBFeHRlbmQgY29uZmlnIG1lcmdpbmcgb25lIGRlZXAgb25seVxuXG4gIGxvYWRlci5jb25maWcoe1xuICAgIHNvbWU6ICdyYW5kb20nLFxuICAgIGNvbmZpZzogJ2hlcmUnLFxuICAgIGRlZXA6IHtcbiAgICAgIGNvbmZpZzogeyB0b286ICd0b28nIH1cbiAgICB9XG4gIH0pO1xuXG4gIDw9PlxuXG4gIGxvYWRlci5zb21lID0gJ3JhbmRvbSc7XG4gIGxvYWRlci5jb25maWcgPSAnaGVyZSdcbiAgbG9hZGVyLmRlZXAgPSBsb2FkZXIuZGVlcCB8fCB7fTtcbiAgbG9hZGVyLmRlZXAuY29uZmlnID0geyB0b286ICd0b28nIH07XG5cblxuICBOb3JtYWxpemVzIG1ldGEgYW5kIHBhY2thZ2UgY29uZmlncyBhbGxvd2luZyBmb3I6XG5cbiAgU3lzdGVtSlMuY29uZmlnKHtcbiAgICBtZXRhOiB7XG4gICAgICAnLi9pbmRleC5qcyc6IHt9XG4gICAgfVxuICB9KTtcblxuICBUbyBiZWNvbWVcblxuICBTeXN0ZW1KUy5tZXRhWydodHRwczovL3RoaXNzaXRlLmNvbS9pbmRleC5qcyddID0ge307XG5cbiAgRm9yIGVhc3kgbm9ybWFsaXphdGlvbiBjYW5vbmljYWxpemF0aW9uIHdpdGggbGF0ZXN0IFVSTCBzdXBwb3J0LlxuXG4qL1xuU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlLmVudiA9ICdkZXZlbG9wbWVudCc7XG5cblN5c3RlbUpTTG9hZGVyLnByb3RvdHlwZS5jb25maWcgPSBmdW5jdGlvbihjZmcpIHtcbiAgdmFyIGxvYWRlciA9IHRoaXM7XG5cbiAgaWYgKCd3YXJuaW5ncycgaW4gY2ZnKVxuICAgIGxvYWRlci53YXJuaW5ncyA9IGNmZy53YXJuaW5ncztcblxuICAvLyB0cmFuc3BpbGVyIGRlcHJlY2F0aW9uIHBhdGhcbiAgaWYgKGNmZy50cmFuc3BpbGVyUnVudGltZSA9PT0gZmFsc2UpXG4gICAgbG9hZGVyLl9sb2FkZXIubG9hZGVkVHJhbnNwaWxlclJ1bnRpbWUgPSB0cnVlO1xuXG4gIC8vIGFsd2F5cyBjb25maWd1cmUgYmFzZVVSTCBmaXJzdFxuICBpZiAoY2ZnLmJhc2VVUkwpIHtcbiAgICB2YXIgaGFzQ29uZmlnID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gY2hlY2tIYXNDb25maWcob2JqKSB7XG4gICAgICBmb3IgKHZhciBwIGluIG9iailcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwKSlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrSGFzQ29uZmlnKGxvYWRlci5wYWNrYWdlcykgfHwgY2hlY2tIYXNDb25maWcobG9hZGVyLm1ldGEpIHx8IGNoZWNrSGFzQ29uZmlnKGxvYWRlci5kZXBDYWNoZSkgfHwgY2hlY2tIYXNDb25maWcobG9hZGVyLmJ1bmRsZXMpIHx8IGNoZWNrSGFzQ29uZmlnKGxvYWRlci5wYWNrYWdlQ29uZmlnUGF0aHMpKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5jb3JyZWN0IGNvbmZpZ3VyYXRpb24gb3JkZXIuIFRoZSBiYXNlVVJMIG11c3QgYmUgY29uZmlndXJlZCB3aXRoIHRoZSBmaXJzdCBTeXN0ZW1KUy5jb25maWcgY2FsbC4nKTtcblxuICAgIGxvYWRlci5iYXNlVVJMID0gY2ZnLmJhc2VVUkw7XG5cbiAgICAvLyBzYW5pdGl6ZSBiYXNlVVJMXG4gICAgZ2V0QmFzZVVSTE9iai5jYWxsKGxvYWRlcik7XG4gIH1cblxuICBpZiAoY2ZnLmRlZmF1bHRKU0V4dGVuc2lvbnMpIHtcbiAgICBsb2FkZXIuZGVmYXVsdEpTRXh0ZW5zaW9ucyA9IGNmZy5kZWZhdWx0SlNFeHRlbnNpb25zO1xuICAgIHdhcm4uY2FsbChsb2FkZXIsICdUaGUgZGVmYXVsdEpTRXh0ZW5zaW9ucyBjb25maWd1cmF0aW9uIG9wdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgcGFja2FnZXMgY29uZmlndXJhdGlvbiBpbnN0ZWFkLicpO1xuICB9XG5cbiAgaWYgKGNmZy5wbHVnaW5GaXJzdClcbiAgICBsb2FkZXIucGx1Z2luRmlyc3QgPSBjZmcucGx1Z2luRmlyc3Q7XG5cbiAgaWYgKGNmZy5wcm9kdWN0aW9uKVxuICAgIHNldFByb2R1Y3Rpb24uY2FsbChsb2FkZXIsIHRydWUpO1xuXG4gIGlmIChjZmcucGF0aHMpIHtcbiAgICBmb3IgKHZhciBwIGluIGNmZy5wYXRocylcbiAgICAgIGxvYWRlci5wYXRoc1twXSA9IGNmZy5wYXRoc1twXTtcbiAgfVxuXG4gIGlmIChjZmcubWFwKSB7XG4gICAgdmFyIG9iak1hcHMgPSAnJztcbiAgICBmb3IgKHZhciBwIGluIGNmZy5tYXApIHtcbiAgICAgIHZhciB2ID0gY2ZnLm1hcFtwXTtcblxuICAgICAgLy8gb2JqZWN0IG1hcCBiYWNrd2FyZHMtY29tcGF0IGludG8gcGFja2FnZXMgY29uZmlndXJhdGlvblxuICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBvYmpNYXBzICs9IChvYmpNYXBzLmxlbmd0aCA/ICcsICcgOiAnJykgKyAnXCInICsgcCArICdcIic7XG5cbiAgICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHAuc3Vic3RyKHAubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICAgIHZhciBwcm9wID0gbG9hZGVyLmRlY2Fub25pY2FsaXplKHApO1xuICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIHByb3Auc3Vic3RyKHByb3AubGVuZ3RoIC0gMywgMykgPT0gJy5qcycpXG4gICAgICAgICAgcHJvcCA9IHByb3Auc3Vic3RyKDAsIHByb3AubGVuZ3RoIC0gMyk7XG5cbiAgICAgICAgLy8gaWYgYSBwYWNrYWdlIG1haW4sIHJldmVydCBpdFxuICAgICAgICB2YXIgcGtnTWF0Y2ggPSAnJztcbiAgICAgICAgZm9yICh2YXIgcGtnIGluIGxvYWRlci5wYWNrYWdlcykge1xuICAgICAgICAgIGlmIChwcm9wLnN1YnN0cigwLCBwa2cubGVuZ3RoKSA9PSBwa2cgXG4gICAgICAgICAgICAgICYmICghcHJvcFtwa2cubGVuZ3RoXSB8fCBwcm9wW3BrZy5sZW5ndGhdID09ICcvJykgXG4gICAgICAgICAgICAgICYmIHBrZ01hdGNoLnNwbGl0KCcvJykubGVuZ3RoIDwgcGtnLnNwbGl0KCcvJykubGVuZ3RoKVxuICAgICAgICAgICAgcGtnTWF0Y2ggPSBwa2c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBrZ01hdGNoICYmIGxvYWRlci5wYWNrYWdlc1twa2dNYXRjaF0ubWFpbilcbiAgICAgICAgICBwcm9wID0gcHJvcC5zdWJzdHIoMCwgcHJvcC5sZW5ndGggLSBsb2FkZXIucGFja2FnZXNbcGtnTWF0Y2hdLm1haW4ubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgdmFyIHBrZyA9IGxvYWRlci5wYWNrYWdlc1twcm9wXSA9IGxvYWRlci5wYWNrYWdlc1twcm9wXSB8fCB7fTtcbiAgICAgICAgcGtnLm1hcCA9IHY7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9hZGVyLm1hcFtwXSA9IHY7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvYmpNYXBzKVxuICAgICAgd2Fybi5jYWxsKGxvYWRlciwgJ1RoZSBtYXAgY29uZmlndXJhdGlvbiBmb3IgJyArIG9iak1hcHMgKyAnIHVzZXMgb2JqZWN0IHN1Ym1hcHMsIHdoaWNoIGlzIGRlcHJlY2F0ZWQgaW4gZ2xvYmFsIG1hcC5cXG5VcGRhdGUgdGhpcyB0byB1c2UgcGFja2FnZSBjb250ZXh0dWFsIG1hcCB3aXRoIGNvbmZpZ3MgbGlrZSBTeXN0ZW1KUy5jb25maWcoeyBwYWNrYWdlczogeyBcIicgKyBwICsgJ1wiOiB7IG1hcDogey4uLn0gfSB9IH0pLicpO1xuICB9XG5cbiAgaWYgKGNmZy5wYWNrYWdlQ29uZmlnUGF0aHMpIHtcbiAgICB2YXIgcGFja2FnZUNvbmZpZ1BhdGhzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjZmcucGFja2FnZUNvbmZpZ1BhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGF0aCA9IGNmZy5wYWNrYWdlQ29uZmlnUGF0aHNbaV07XG4gICAgICB2YXIgcGFja2FnZUxlbmd0aCA9IE1hdGgubWF4KHBhdGgubGFzdEluZGV4T2YoJyonKSArIDEsIHBhdGgubGFzdEluZGV4T2YoJy8nKSk7XG4gICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgcGF0aC5zdWJzdHIocGFja2FnZUxlbmd0aCAtIDMsIDMpICE9ICcuanMnO1xuICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBsb2FkZXIuZGVjYW5vbmljYWxpemUocGF0aC5zdWJzdHIoMCwgcGFja2FnZUxlbmd0aCkpO1xuICAgICAgaWYgKGRlZmF1bHRKU0V4dGVuc2lvbiAmJiBub3JtYWxpemVkLnN1YnN0cihub3JtYWxpemVkLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5zdWJzdHIoMCwgbm9ybWFsaXplZC5sZW5ndGggLSAzKTtcbiAgICAgIHBhY2thZ2VDb25maWdQYXRoc1tpXSA9IG5vcm1hbGl6ZWQgKyBwYXRoLnN1YnN0cihwYWNrYWdlTGVuZ3RoKTtcbiAgICB9XG4gICAgbG9hZGVyLnBhY2thZ2VDb25maWdQYXRocyA9IHBhY2thZ2VDb25maWdQYXRocztcbiAgfVxuXG4gIGlmIChjZmcuYnVuZGxlcykge1xuICAgIGZvciAodmFyIHAgaW4gY2ZnLmJ1bmRsZXMpIHtcbiAgICAgIHZhciBidW5kbGUgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2ZnLmJ1bmRsZXNbcF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIGNmZy5idW5kbGVzW3BdW2ldLnN1YnN0cihjZmcuYnVuZGxlc1twXVtpXS5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRCdW5kbGVEZXAgPSBsb2FkZXIuZGVjYW5vbmljYWxpemUoY2ZnLmJ1bmRsZXNbcF1baV0pO1xuICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIG5vcm1hbGl6ZWRCdW5kbGVEZXAuc3Vic3RyKG5vcm1hbGl6ZWRCdW5kbGVEZXAubGVuZ3RoIC0gMywgMykgPT0gJy5qcycpXG4gICAgICAgICAgbm9ybWFsaXplZEJ1bmRsZURlcCA9IG5vcm1hbGl6ZWRCdW5kbGVEZXAuc3Vic3RyKDAsIG5vcm1hbGl6ZWRCdW5kbGVEZXAubGVuZ3RoIC0gMyk7XG4gICAgICAgIGJ1bmRsZS5wdXNoKG5vcm1hbGl6ZWRCdW5kbGVEZXApO1xuICAgICAgfVxuICAgICAgbG9hZGVyLmJ1bmRsZXNbcF0gPSBidW5kbGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNmZy5wYWNrYWdlcykge1xuICAgIGZvciAodmFyIHAgaW4gY2ZnLnBhY2thZ2VzKSB7XG4gICAgICBpZiAocC5tYXRjaCgvXihbXlxcL10rOik/XFwvXFwvJC8pKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIicgKyBwICsgJ1wiIGlzIG5vdCBhIHZhbGlkIHBhY2thZ2UgbmFtZS4nKTtcblxuICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHAuc3Vic3RyKHAubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICB2YXIgcHJvcCA9IGNvcmVSZXNvbHZlLmNhbGwobG9hZGVyLCBwKTtcbiAgICAgIGlmIChkZWZhdWx0SlNFeHRlbnNpb24gJiYgcHJvcC5zdWJzdHIocHJvcC5sZW5ndGggLSAzLCAzKSA9PSAnLmpzJylcbiAgICAgICAgcHJvcCA9IHByb3Auc3Vic3RyKDAsIHByb3AubGVuZ3RoIC0gMyk7XG5cbiAgICAgIC8vIGFsbG93IHRyYWlsaW5nIHNsYXNoIGluIHBhY2thZ2VzXG4gICAgICBpZiAocHJvcFtwcm9wLmxlbmd0aCAtIDFdID09ICcvJylcbiAgICAgICAgcHJvcCA9IHByb3Auc3Vic3RyKDAsIHByb3AubGVuZ3RoIC0gMSk7XG5cbiAgICAgIGxvYWRlci5wYWNrYWdlc1twcm9wXSA9IGxvYWRlci5wYWNrYWdlc1twcm9wXSB8fCB7fTtcblxuICAgICAgLy8gbWV0YSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgaWYgKGNmZy5wYWNrYWdlc1twXS5tb2R1bGVzKSB7XG4gICAgICAgIHdhcm4uY2FsbChsb2FkZXIsICdQYWNrYWdlICcgKyBwICsgJyBpcyBjb25maWd1cmVkIHdpdGggXCJtb2R1bGVzXCIsIHdoaWNoIGlzIGRlcHJlY2F0ZWQgYXMgaXQgaGFzIGJlZW4gcmVuYW1lZCB0byBcIm1ldGFcIi4nKTtcbiAgICAgICAgY2ZnLnBhY2thZ2VzW3BdLm1ldGEgPSBjZmcucGFja2FnZXNbcF0ubW9kdWxlcztcbiAgICAgICAgZGVsZXRlIGNmZy5wYWNrYWdlc1twXS5tb2R1bGVzO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBxIGluIGNmZy5wYWNrYWdlc1twXSlcbiAgICAgICAgaWYgKGluZGV4T2YuY2FsbChwYWNrYWdlUHJvcGVydGllcywgcSkgPT0gLTEpXG4gICAgICAgICAgd2Fybi5jYWxsKGxvYWRlciwgJ1wiJyArIHEgKyAnXCIgaXMgbm90IGEgdmFsaWQgcGFja2FnZSBjb25maWd1cmF0aW9uIG9wdGlvbiBpbiBwYWNrYWdlICcgKyBwKTtcblxuICAgICAgZXh0ZW5kTWV0YShsb2FkZXIucGFja2FnZXNbcHJvcF0sIGNmZy5wYWNrYWdlc1twXSk7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgYyBpbiBjZmcpIHtcbiAgICB2YXIgdiA9IGNmZ1tjXTtcblxuICAgIGlmIChjID09ICdiYXNlVVJMJyB8fCBjID09ICdtYXAnIHx8IGMgPT0gJ3BhY2thZ2VzJyB8fCBjID09ICdidW5kbGVzJyB8fCBjID09ICdwYXRocycgfHwgYyA9PSAnd2FybmluZ3MnIHx8IGMgPT0gJ3BhY2thZ2VDb25maWdQYXRocycpXG4gICAgICBjb250aW51ZTtcblxuICAgIGlmICh0eXBlb2YgdiAhPSAnb2JqZWN0JyB8fCB2IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGxvYWRlcltjXSA9IHY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbG9hZGVyW2NdID0gbG9hZGVyW2NdIHx8IHt9O1xuXG4gICAgICBmb3IgKHZhciBwIGluIHYpIHtcbiAgICAgICAgLy8gYmFzZS1sZXZlbCB3aWxkY2FyZCBtZXRhIGRvZXMgbm90IG5vcm1hbGl6ZSB0byByZXRhaW4gY2F0Y2gtYWxsIHF1YWxpdHlcbiAgICAgICAgaWYgKGMgPT0gJ21ldGEnICYmIHBbMF0gPT0gJyonKSB7XG4gICAgICAgICAgbG9hZGVyW2NdW3BdID0gdltwXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09ICdtZXRhJykge1xuICAgICAgICAgIC8vIG1ldGEgY2FuIGdvIHRocm91Z2ggZ2xvYmFsIG1hcFxuICAgICAgICAgIGxvYWRlcltjXVtjb3JlUmVzb2x2ZS5jYWxsKGxvYWRlciwgcCldID0gdltwXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09ICdkZXBDYWNoZScpIHtcbiAgICAgICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgcC5zdWJzdHIocC5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcbiAgICAgICAgICB2YXIgcHJvcCA9IGxvYWRlci5kZWNhbm9uaWNhbGl6ZShwKTtcbiAgICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIHByb3Auc3Vic3RyKHByb3AubGVuZ3RoIC0gMywgMykgPT0gJy5qcycpXG4gICAgICAgICAgICBwcm9wID0gcHJvcC5zdWJzdHIoMCwgcHJvcC5sZW5ndGggLSAzKTtcbiAgICAgICAgICBsb2FkZXJbY11bcHJvcF0gPSB2W3BdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvYWRlcltjXVtwXSA9IHZbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07LypcbiAqIFBhY2thZ2UgQ29uZmlndXJhdGlvbiBFeHRlbnNpb25cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIFN5c3RlbUpTLnBhY2thZ2VzID0ge1xuICogICBqcXVlcnk6IHtcbiAqICAgICBiYXNlUGF0aDogJ2xpYicsIC8vIG9wdGlvbmFsbHkgb25seSB1c2UgYSBzdWJkaXJlY3Rvcnkgd2l0aGluIHRoZSBwYWNrYWdlXG4gKiAgICAgbWFpbjogJ2luZGV4LmpzJywgLy8gd2hlbiBub3Qgc2V0LCBwYWNrYWdlIG5hbWUgaXMgcmVxdWVzdGVkIGRpcmVjdGx5XG4gKiAgICAgZm9ybWF0OiAnYW1kJyxcbiAqICAgICBkZWZhdWx0RXh0ZW5zaW9uOiAndHMnLCAvLyBkZWZhdWx0cyB0byAnanMnLCBjYW4gYmUgc2V0IHRvIGZhbHNlXG4gKiAgICAgbW9kdWxlczoge1xuICogICAgICAgJyoudHMnOiB7XG4gKiAgICAgICAgIGxvYWRlcjogJ3R5cGVzY3JpcHQnXG4gKiAgICAgICB9LFxuICogICAgICAgJ3ZlbmRvci9zaXp6bGUuanMnOiB7XG4gKiAgICAgICAgIGZvcm1hdDogJ2dsb2JhbCdcbiAqICAgICAgIH1cbiAqICAgICB9LFxuICogICAgIG1hcDoge1xuICogICAgICAgIC8vIG1hcCBpbnRlcm5hbCByZXF1aXJlKCdzaXp6bGUnKSB0byBsb2NhbCByZXF1aXJlKCcuL3ZlbmRvci9zaXp6bGUnKVxuICogICAgICAgIHNpenpsZTogJy4vdmVuZG9yL3NpenpsZS5qcycsXG4gKiAgICAgICAgLy8gbWFwIGFueSBpbnRlcm5hbCBvciBleHRlcm5hbCByZXF1aXJlIG9mICdqcXVlcnkvdmVuZG9yL2Fub3RoZXInIHRvICdhbm90aGVyL2luZGV4LmpzJ1xuICogICAgICAgICcuL3ZlbmRvci9hbm90aGVyLmpzJzogJy4vYW5vdGhlci9pbmRleC5qcycsXG4gKiAgICAgICAgLy8gdGVzdC5qcyAvIHRlc3QgLT4gbGliL3Rlc3QuanNcbiAqICAgICAgICAnLi90ZXN0LmpzJzogJy4vbGliL3Rlc3QuanMnLFxuICpcbiAqICAgICAgICAvLyBlbnZpcm9ubWVudC1zcGVjaWZpYyBtYXAgY29uZmlndXJhdGlvbnNcbiAqICAgICAgICAnLi9pbmRleC5qcyc6IHtcbiAqICAgICAgICAgICd+YnJvd3Nlcic6ICcuL2luZGV4LW5vZGUuanMnXG4gKiAgICAgICAgfVxuICogICAgIH0sXG4gKiAgICAgLy8gYWxsb3dzIGZvciBzZXR0aW5nIHBhY2thZ2UtcHJlZml4ZWQgZGVwQ2FjaGVcbiAqICAgICAvLyBrZXlzIGFyZSBub3JtYWxpemVkIG1vZHVsZSBuYW1lcyByZWxhdGl2ZSB0byB0aGUgcGFja2FnZSBpdHNlbGZcbiAqICAgICBkZXBDYWNoZToge1xuICogICAgICAgLy8gaW1wb3J0ICdwYWNrYWdlL2luZGV4LmpzJyBsb2FkcyBpbiBwYXJhbGxlbCBwYWNrYWdlL2xpYi90ZXN0LmpzLHBhY2thZ2UvdmVuZG9yL3NpenpsZS5qc1xuICogICAgICAgJy4vaW5kZXguanMnOiBbJy4vdGVzdCddLFxuICogICAgICAgJy4vdGVzdC5qcyc6IFsnZXh0ZXJuYWwtZGVwJ10sXG4gKiAgICAgICAnZXh0ZXJuYWwtZGVwL3BhdGguanMnOiBbJy4vYW5vdGhlci5qcyddXG4gKiAgICAgfVxuICogICB9XG4gKiB9O1xuICpcbiAqIFRoZW46XG4gKiAgIGltcG9ydCAnanF1ZXJ5JyAgICAgICAgICAgICAgICAgICAgICAgLT4ganF1ZXJ5L2luZGV4LmpzXG4gKiAgIGltcG9ydCAnanF1ZXJ5L3N1Ym1vZHVsZScgICAgICAgICAgICAgLT4ganF1ZXJ5L3N1Ym1vZHVsZS5qc1xuICogICBpbXBvcnQgJ2pxdWVyeS9zdWJtb2R1bGUudHMnICAgICAgICAgIC0+IGpxdWVyeS9zdWJtb2R1bGUudHMgbG9hZGVkIGFzIHR5cGVzY3JpcHRcbiAqICAgaW1wb3J0ICdqcXVlcnkvdmVuZG9yL2Fub3RoZXInICAgICAgICAtPiBhbm90aGVyL2luZGV4LmpzXG4gKlxuICogRGV0YWlsZWQgQmVoYXZpb3Vyc1xuICogLSBtYWluIGNhbiBoYXZlIGEgbGVhZGluZyBcIi4vXCIgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHlcbiAqIC0gbWFwIGFuZCBkZWZhdWx0RXh0ZW5zaW9uIGFyZSBhcHBsaWVkIHRvIHRoZSBtYWluXG4gKiAtIGRlZmF1bHRFeHRlbnNpb24gYWRkcyB0aGUgZXh0ZW5zaW9uIG9ubHkgaWYgdGhlIGV4YWN0IGV4dGVuc2lvbiBpcyBub3QgcHJlc2VudFxuICogLSBkZWZhdWx0SlNFeHRlbnNpb25zIGFwcGxpZXMgYWZ0ZXIgbWFwIHdoZW4gZGVmYXVsdEV4dGVuc2lvbiBpcyBub3Qgc2V0XG4gKiAtIGlmIGEgbWV0YSB2YWx1ZSBpcyBhdmFpbGFibGUgZm9yIGEgbW9kdWxlLCBtYXAgYW5kIGRlZmF1bHRFeHRlbnNpb24gYXJlIHNraXBwZWRcbiAqIC0gbGlrZSBnbG9iYWwgbWFwLCBwYWNrYWdlIG1hcCBhbHNvIGFwcGxpZXMgdG8gc3VicGF0aHMgKHNpenpsZS94LCAuL3ZlbmRvci9hbm90aGVyL3N1YilcbiAqIC0gY29uZGl0aW9uIG1vZHVsZSBtYXAgaXMgJ0BlbnYnIG1vZHVsZSBpbiBwYWNrYWdlIG9yICdAc3lzdGVtLWVudicgZ2xvYmFsbHlcbiAqIC0gbWFwIHRhcmdldHMgc3VwcG9ydCBjb25kaXRpb25hbCBpbnRlcnBvbGF0aW9uICgnLi94JzogJy4veC4je3xlbnZ9LmpzJylcbiAqIC0gaW50ZXJuYWwgcGFja2FnZSBtYXAgdGFyZ2V0cyBjYW5ub3QgdXNlIGJvb2xlYW4gY29uZGl0aW9uYWxzXG4gKlxuICogSW4gYWRkaXRpb24sIHRoZSBmb2xsb3dpbmcgbW9kdWxlcyBwcm9wZXJ0aWVzIHdpbGwgYmUgYWxsb3dlZCB0byBiZSBwYWNrYWdlXG4gKiAtcmVsYXRpdmUgYXMgd2VsbCBpbiB0aGUgcGFja2FnZSBtb2R1bGUgY29uZmlnOlxuICpcbiAqICAgLSBsb2FkZXJcbiAqICAgLSBhbGlhc1xuICpcbiAqXG4gKiBQYWNrYWdlIENvbmZpZ3VyYXRpb24gTG9hZGluZ1xuICpcbiAqIE5vdCBhbGwgcGFja2FnZXMgbWF5IGFscmVhZHkgaGF2ZSB0aGVpciBjb25maWd1cmF0aW9uIHByZXNlbnQgaW4gdGhlIFN5c3RlbSBjb25maWdcbiAqIEZvciB0aGVzZSBjYXNlcywgYSBsaXN0IG9mIHBhY2thZ2VDb25maWdQYXRocyBjYW4gYmUgcHJvdmlkZWQsIHdoaWNoIHdoZW4gbWF0Y2hlZCBhZ2FpbnN0XG4gKiBhIHJlcXVlc3QsIHdpbGwgZmlyc3QgcmVxdWVzdCBhIFwiLmpzb25cIiBmaWxlIGJ5IHRoZSBwYWNrYWdlIG5hbWUgdG8gZGVyaXZlIHRoZSBwYWNrYWdlXG4gKiBjb25maWd1cmF0aW9uIGZyb20uIFRoaXMgYWxsb3dzIGR5bmFtaWMgbG9hZGluZyBvZiBub24tcHJlZGV0ZXJtaW5lZCBjb2RlLCBhIGtleSB1c2VcbiAqIGNhc2UgaW4gU3lzdGVtSlMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgIFN5c3RlbUpTLnBhY2thZ2VDb25maWdQYXRocyA9IFsncGFja2FnZXMvdGVzdC9wYWNrYWdlLmpzb24nLCAncGFja2FnZXMvKi5qc29uJ107XG4gKlxuICogICAvLyB3aWxsIGZpcnN0IHJlcXVlc3QgJ3BhY2thZ2VzL25ldy1wYWNrYWdlL3BhY2thZ2UuanNvbicgZm9yIHRoZSBwYWNrYWdlIGNvbmZpZ1xuICogICAvLyBiZWZvcmUgY29tcGxldGluZyB0aGUgcGFja2FnZSByZXF1ZXN0IHRvICdwYWNrYWdlcy9uZXctcGFja2FnZS9wYXRoJ1xuICogICBTeXN0ZW1KUy5pbXBvcnQoJ3BhY2thZ2VzL25ldy1wYWNrYWdlL3BhdGgnKTtcbiAqXG4gKiAgIC8vIHdpbGwgZmlyc3QgcmVxdWVzdCAncGFja2FnZXMvdGVzdC9wYWNrYWdlLmpzb24nIGJlZm9yZSB0aGUgbWFpblxuICogICBTeXN0ZW1KUy5pbXBvcnQoJ3BhY2thZ2VzL3Rlc3QnKTtcbiAqXG4gKiBXaGVuIGEgcGFja2FnZSBtYXRjaGVzIHBhY2thZ2VDb25maWdQYXRocywgaXQgd2lsbCBhbHdheXMgc2VuZCBhIGNvbmZpZyByZXF1ZXN0IGZvclxuICogdGhlIHBhY2thZ2UgY29uZmlndXJhdGlvbi5cbiAqIFRoZSBwYWNrYWdlIG5hbWUgaXRzZWxmIGlzIHRha2VuIHRvIGJlIHRoZSBtYXRjaCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBsYXN0IHdpbGRjYXJkXG4gKiBvciB0cmFpbGluZyBzbGFzaC5cbiAqIFRoZSBtb3N0IHNwZWNpZmljIHBhY2thZ2UgY29uZmlnIHBhdGggd2lsbCBiZSB1c2VkLlxuICogQW55IGV4aXN0aW5nIHBhY2thZ2UgY29uZmlndXJhdGlvbnMgZm9yIHRoZSBwYWNrYWdlIHdpbGwgZGVlcGx5IG1lcmdlIHdpdGggdGhlXG4gKiBwYWNrYWdlIGNvbmZpZywgd2l0aCB0aGUgZXhpc3RpbmcgcGFja2FnZSBjb25maWd1cmF0aW9ucyB0YWtpbmcgcHJlZmVyZW5jZS5cbiAqIFRvIG9wdC1vdXQgb2YgdGhlIHBhY2thZ2UgY29uZmlndXJhdGlvbiByZXF1ZXN0IGZvciBhIHBhY2thZ2UgdGhhdCBtYXRjaGVzXG4gKiBwYWNrYWdlQ29uZmlnUGF0aHMsIHVzZSB0aGUgeyBjb25maWd1cmVkOiB0cnVlIH0gcGFja2FnZSBjb25maWcgb3B0aW9uLlxuICpcbiAqL1xuKGZ1bmN0aW9uKCkge1xuXG4gIGhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnBhY2thZ2VzID0ge307XG4gICAgICB0aGlzLnBhY2thZ2VDb25maWdQYXRocyA9IFtdO1xuICAgIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFBhY2thZ2UobG9hZGVyLCBub3JtYWxpemVkKSB7XG4gICAgLy8gdXNlIG1vc3Qgc3BlY2lmaWMgcGFja2FnZVxuICAgIHZhciBjdXJQa2csIGN1clBrZ0xlbiA9IDAsIHBrZ0xlbjtcbiAgICBmb3IgKHZhciBwIGluIGxvYWRlci5wYWNrYWdlcykge1xuICAgICAgaWYgKG5vcm1hbGl6ZWQuc3Vic3RyKDAsIHAubGVuZ3RoKSA9PT0gcCAmJiAobm9ybWFsaXplZC5sZW5ndGggPT09IHAubGVuZ3RoIHx8IG5vcm1hbGl6ZWRbcC5sZW5ndGhdID09PSAnLycpKSB7XG4gICAgICAgIHBrZ0xlbiA9IHAuc3BsaXQoJy8nKS5sZW5ndGg7XG4gICAgICAgIGlmIChwa2dMZW4gPiBjdXJQa2dMZW4pIHtcbiAgICAgICAgICBjdXJQa2cgPSBwO1xuICAgICAgICAgIGN1clBrZ0xlbiA9IHBrZ0xlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VyUGtnO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmFzZVBhdGgocGtnKSB7XG4gICAgLy8gc2FuaXRpemUgYmFzZVBhdGhcbiAgICB2YXIgYmFzZVBhdGggPSBwa2cuYmFzZVBhdGggJiYgcGtnLmJhc2VQYXRoICE9ICcuJyA/IHBrZy5iYXNlUGF0aCA6ICcnO1xuICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgaWYgKGJhc2VQYXRoLnN1YnN0cigwLCAyKSA9PSAnLi8nKVxuICAgICAgICBiYXNlUGF0aCA9IGJhc2VQYXRoLnN1YnN0cigyKTtcbiAgICAgIGlmIChiYXNlUGF0aFtiYXNlUGF0aC5sZW5ndGggLSAxXSAhPSAnLycpXG4gICAgICAgIGJhc2VQYXRoICs9ICcvJztcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VQYXRoO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIHN1YlBhdGgsIHNraXBFeHRlbnNpb25zKSB7XG4gICAgLy8gZG9uJ3QgYXBwbHkgZXh0ZW5zaW9ucyB0byBmb2xkZXJzIG9yIGlmIGRlZmF1bHRFeHRlbnNpb24gPSBmYWxzZVxuICAgIGlmICghc3ViUGF0aCB8fCBzdWJQYXRoW3N1YlBhdGgubGVuZ3RoIC0gMV0gPT0gJy8nIHx8IHNraXBFeHRlbnNpb25zIHx8IHBrZy5kZWZhdWx0RXh0ZW5zaW9uID09PSBmYWxzZSlcbiAgICAgIHJldHVybiBzdWJQYXRoO1xuXG4gICAgLy8gTkIgYXJlIHlvdSBzdXJlIGFib3V0IHRoaXM/XG4gICAgLy8gc2tpcCBpZiB3ZSBoYXZlIGludGVycG9sYXRpb24gY29uZGl0aW9uYWwgc3ludGF4IGluIHN1YlBhdGg/XG4gICAgaWYgKHN1YlBhdGgubWF0Y2goaW50ZXJwb2xhdGlvblJlZ0V4KSlcbiAgICAgIHJldHVybiBzdWJQYXRoO1xuXG4gICAgdmFyIG1ldGFNYXRjaCA9IGZhbHNlO1xuXG4gICAgLy8gZXhhY3QgbWV0YSBvciBtZXRhIHdpdGggYW55IGNvbnRlbnQgYWZ0ZXIgdGhlIGxhc3Qgd2lsZGNhcmQgc2tpcHMgZXh0ZW5zaW9uXG4gICAgaWYgKHBrZy5tZXRhKVxuICAgICAgZ2V0TWV0YU1hdGNoZXMocGtnLm1ldGEsIHN1YlBhdGgsIGZ1bmN0aW9uKG1ldGFQYXR0ZXJuLCBtYXRjaE1ldGEsIG1hdGNoRGVwdGgpIHtcbiAgICAgICAgaWYgKG1hdGNoRGVwdGggPT0gMCB8fCBtZXRhUGF0dGVybi5sYXN0SW5kZXhPZignKicpICE9IG1ldGFQYXR0ZXJuLmxlbmd0aCAtIDEpXG4gICAgICAgICAgcmV0dXJuIG1ldGFNYXRjaCA9IHRydWU7XG4gICAgICB9KTtcblxuICAgIC8vIGV4YWN0IGdsb2JhbCBtZXRhIG9yIG1ldGEgd2l0aCBhbnkgY29udGVudCBhZnRlciB0aGUgbGFzdCB3aWxkY2FyZCBza2lwcyBleHRlbnNpb25cbiAgICBpZiAoIW1ldGFNYXRjaCAmJiBsb2FkZXIubWV0YSlcbiAgICAgIGdldE1ldGFNYXRjaGVzKGxvYWRlci5tZXRhLCBwa2dOYW1lICsgJy8nICsgYmFzZVBhdGggKyBzdWJQYXRoLCBmdW5jdGlvbihtZXRhUGF0dGVybiwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoKSB7XG4gICAgICAgIGlmIChtYXRjaERlcHRoID09IDAgfHwgbWV0YVBhdHRlcm4ubGFzdEluZGV4T2YoJyonKSAhPSBtZXRhUGF0dGVybi5sZW5ndGggLSAxKVxuICAgICAgICAgIHJldHVybiBtZXRhTWF0Y2ggPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICBpZiAobWV0YU1hdGNoKVxuICAgICAgcmV0dXJuIHN1YlBhdGg7XG5cbiAgICAvLyB3b3JrIG91dCB3aGF0IHRoZSBkZWZhdWx0RXh0ZW5zaW9uIGlzIGFuZCBhZGQgaWYgbm90IHRoZXJlIGFscmVhZHlcbiAgICAvLyBOQiByZWNvbnNpZGVyIGlmIGRlZmF1bHQgc2hvdWxkIHJlYWxseSBiZSBcIi5qc1wiP1xuICAgIHZhciBkZWZhdWx0RXh0ZW5zaW9uID0gJy4nICsgKHBrZy5kZWZhdWx0RXh0ZW5zaW9uIHx8ICdqcycpO1xuICAgIGlmIChzdWJQYXRoLnN1YnN0cihzdWJQYXRoLmxlbmd0aCAtIGRlZmF1bHRFeHRlbnNpb24ubGVuZ3RoKSAhPSBkZWZhdWx0RXh0ZW5zaW9uKVxuICAgICAgcmV0dXJuIHN1YlBhdGggKyBkZWZhdWx0RXh0ZW5zaW9uO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBzdWJQYXRoO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlQYWNrYWdlQ29uZmlnU3luYyhsb2FkZXIsIHBrZywgcGtnTmFtZSwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICAvLyBtYWluXG4gICAgaWYgKCFzdWJQYXRoKSB7XG4gICAgICBpZiAocGtnLm1haW4pXG4gICAgICAgIHN1YlBhdGggPSBwa2cubWFpbi5zdWJzdHIoMCwgMikgPT0gJy4vJyA/IHBrZy5tYWluLnN1YnN0cigyKSA6IHBrZy5tYWluO1xuICAgICAgLy8gYWxzbyBubyBzdWJtYXAgaWYgbmFtZSBpcyBwYWNrYWdlIGl0c2VsZiAoaW1wb3J0ICdwa2cnIC0+ICdwYXRoL3RvL3BrZy5qcycpXG4gICAgICBlbHNlXG4gICAgICAgIC8vIE5CIGNhbiBhZGQgYSBkZWZhdWx0IHBhY2thZ2UgbWFpbiBjb252ZW50aW9uIGhlcmUgd2hlbiBkZWZhdWx0SlNFeHRlbnNpb25zIGlzIGRlcHJlY2F0ZWRcbiAgICAgICAgLy8gaWYgaXQgYmVjb21lcyBpbnRlcm5hbCB0byB0aGUgcGFja2FnZSB0aGVuIGl0IHdvdWxkIG5vIGxvbmdlciBiZSBhbiBleGl0IHBhdGhcbiAgICAgICAgcmV0dXJuIHBrZ05hbWUgKyAobG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgPyAnLmpzJyA6ICcnKTtcbiAgICB9XG5cbiAgICB2YXIgYmFzZVBhdGggPSBnZXRCYXNlUGF0aChwa2cpO1xuXG4gICAgLy8gbWFwIGNvbmZpZyBjaGVja2luZyB3aXRob3V0IHRoZW4gd2l0aCBleHRlbnNpb25zXG4gICAgaWYgKHBrZy5tYXApIHtcbiAgICAgIHZhciBtYXBQYXRoID0gJy4vJyArIHN1YlBhdGg7XG5cbiAgICAgIHZhciBtYXBNYXRjaCA9IGdldE1hcE1hdGNoKHBrZy5tYXAsIG1hcFBhdGgpO1xuXG4gICAgICAvLyB3ZSB0aGVuIGNoZWNrIG1hcCB3aXRoIHRoZSBkZWZhdWx0IGV4dGVuc2lvbiBhZGRpbmdcbiAgICAgIGlmICghbWFwTWF0Y2gpIHtcbiAgICAgICAgbWFwUGF0aCA9ICcuLycgKyBhZGREZWZhdWx0RXh0ZW5zaW9uKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpO1xuICAgICAgICBpZiAobWFwUGF0aCAhPSAnLi8nICsgc3ViUGF0aClcbiAgICAgICAgICBtYXBNYXRjaCA9IGdldE1hcE1hdGNoKHBrZy5tYXAsIG1hcFBhdGgpO1xuICAgICAgfVxuICAgICAgaWYgKG1hcE1hdGNoKVxuICAgICAgICByZXR1cm4gZG9NYXBTeW5jKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgbWFwTWF0Y2gsIG1hcFBhdGgsIHNraXBFeHRlbnNpb25zKTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWwgcGFja2FnZSByZXNvbHV0aW9uXG4gICAgcmV0dXJuIHBrZ05hbWUgKyAnLycgKyBiYXNlUGF0aCArIGFkZERlZmF1bHRFeHRlbnNpb24obG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBzdWJQYXRoLCBza2lwRXh0ZW5zaW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBkb01hcFN5bmMobG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBtYXBNYXRjaCwgcGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICB2YXIgbWFwcGVkID0gcGtnLm1hcFttYXBNYXRjaF07XG5cbiAgICAvLyBpZ25vcmUgY29uZGl0aW9uYWxzIGluIHN5bmNcbiAgICBpZiAodHlwZW9mIG1hcHBlZCAhPSAnc3RyaW5nJylcbiAgICAgIG1hcHBlZCA9IG1hcE1hdGNoID0gcGF0aDtcblxuICAgIC8vIHBhY2thZ2UgbWFwIHRvIG1haW4gLyBiYXNlLWxldmVsXG4gICAgaWYgKG1hcHBlZCA9PSAnLicpXG4gICAgICBtYXBwZWQgPSBwa2dOYW1lO1xuXG4gICAgLy8gaW50ZXJuYWwgcGFja2FnZSBtYXBcbiAgICBlbHNlIGlmIChtYXBwZWQuc3Vic3RyKDAsIDIpID09ICcuLycpXG4gICAgICByZXR1cm4gcGtnTmFtZSArICcvJyArIGJhc2VQYXRoICsgYWRkRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIG1hcHBlZC5zdWJzdHIoMikgKyBwYXRoLnN1YnN0cihtYXBNYXRjaC5sZW5ndGgpLCBza2lwRXh0ZW5zaW9ucyk7XG4gICAgXG4gICAgLy8gZXh0ZXJuYWwgbWFwIHJlZmVyZW5jZVxuICAgIHJldHVybiBsb2FkZXIubm9ybWFsaXplU3luYyhtYXBwZWQgKyBwYXRoLnN1YnN0cihtYXBNYXRjaC5sZW5ndGgpLCBwa2dOYW1lICsgJy8nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5UGFja2FnZUNvbmZpZyhsb2FkZXIsIHBrZywgcGtnTmFtZSwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICAvLyBtYWluXG4gICAgaWYgKCFzdWJQYXRoKSB7XG4gICAgICBpZiAocGtnLm1haW4pXG4gICAgICAgIHN1YlBhdGggPSBwa2cubWFpbi5zdWJzdHIoMCwgMikgPT0gJy4vJyA/IHBrZy5tYWluLnN1YnN0cigyKSA6IHBrZy5tYWluO1xuICAgICAgLy8gYWxzbyBubyBzdWJtYXAgaWYgbmFtZSBpcyBwYWNrYWdlIGl0c2VsZiAoaW1wb3J0ICdwa2cnIC0+ICdwYXRoL3RvL3BrZy5qcycpXG4gICAgICBlbHNlXG4gICAgICAgIC8vIE5CIGNhbiBhZGQgYSBkZWZhdWx0IHBhY2thZ2UgbWFpbiBjb252ZW50aW9uIGhlcmUgd2hlbiBkZWZhdWx0SlNFeHRlbnNpb25zIGlzIGRlcHJlY2F0ZWRcbiAgICAgICAgLy8gaWYgaXQgYmVjb21lcyBpbnRlcm5hbCB0byB0aGUgcGFja2FnZSB0aGVuIGl0IHdvdWxkIG5vIGxvbmdlciBiZSBhbiBleGl0IHBhdGhcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwa2dOYW1lICsgKGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zID8gJy5qcycgOiAnJykpO1xuICAgIH1cblxuICAgIHZhciBiYXNlUGF0aCA9IGdldEJhc2VQYXRoKHBrZyk7XG5cbiAgICAvLyBtYXAgY29uZmlnIGNoZWNraW5nIHdpdGhvdXQgdGhlbiB3aXRoIGV4dGVuc2lvbnNcbiAgICB2YXIgbWFwUGF0aCwgbWFwTWF0Y2g7XG5cbiAgICBpZiAocGtnLm1hcCkge1xuICAgICAgbWFwUGF0aCA9ICcuLycgKyBzdWJQYXRoO1xuICAgICAgbWFwTWF0Y2ggPSBnZXRNYXBNYXRjaChwa2cubWFwLCBtYXBQYXRoKTtcblxuICAgICAgLy8gd2UgdGhlbiBjaGVjayBtYXAgd2l0aCB0aGUgZGVmYXVsdCBleHRlbnNpb24gYWRkaW5nXG4gICAgICBpZiAoIW1hcE1hdGNoKSB7XG4gICAgICAgIG1hcFBhdGggPSAnLi8nICsgYWRkRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIHN1YlBhdGgsIHNraXBFeHRlbnNpb25zKTtcbiAgICAgICAgaWYgKG1hcFBhdGggIT0gJy4vJyArIHN1YlBhdGgpXG4gICAgICAgICAgbWFwTWF0Y2ggPSBnZXRNYXBNYXRjaChwa2cubWFwLCBtYXBQYXRoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKG1hcE1hdGNoID8gZG9NYXAobG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBtYXBNYXRjaCwgbWFwUGF0aCwgc2tpcEV4dGVuc2lvbnMpIDogUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgLnRoZW4oZnVuY3Rpb24obWFwcGVkKSB7XG4gICAgICBpZiAobWFwcGVkKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1hcHBlZCk7XG5cbiAgICAgIC8vIG5vcm1hbCBwYWNrYWdlIHJlc29sdXRpb24gLyBmYWxsYmFjayByZXNvbHV0aW9uIGZvciBubyBjb25kaXRpb25hbCBtYXRjaFxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwa2dOYW1lICsgJy8nICsgYmFzZVBhdGggKyBhZGREZWZhdWx0RXh0ZW5zaW9uKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvU3RyaW5nTWFwKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgbWFwTWF0Y2gsIG1hcHBlZCwgcGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICAvLyBOQiB0aGUgaW50ZXJwb2xhdGlvbiBjYXNlcyBzaG91bGQgc3RyaWN0bHkgc2tpcCBzdWJzZXF1ZW50IGludGVycG9sYXRpb25cblxuICAgIC8vIHBhY2thZ2UgbWFwIHRvIG1haW4gLyBiYXNlLWxldmVsXG4gICAgaWYgKG1hcHBlZCA9PSAnLicpXG4gICAgICBtYXBwZWQgPSBwa2dOYW1lO1xuICAgIFxuICAgIC8vIGludGVybmFsIHBhY2thZ2UgbWFwXG4gICAgZWxzZSBpZiAobWFwcGVkLnN1YnN0cigwLCAyKSA9PSAnLi8nKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwa2dOYW1lICsgJy8nICsgYmFzZVBhdGggKyBhZGREZWZhdWx0RXh0ZW5zaW9uKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgbWFwcGVkLnN1YnN0cigyKSArIHBhdGguc3Vic3RyKG1hcE1hdGNoLmxlbmd0aCksIHNraXBFeHRlbnNpb25zKSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlQ29uZGl0aW9uYWwuY2FsbChsb2FkZXIsIG5hbWUsIHBrZ05hbWUgKyAnLycpO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gZXh0ZXJuYWwgbWFwIHJlZmVyZW5jZVxuICAgIC8vIE5CIGRlcHJlY2F0ZSB0aGUgdXNlIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQgaGVyZSAtPiBzaG91bGQgYmUgZnVsbHkgZ2xvYmFsIHJlZmVyZW5jZVxuICAgIHJldHVybiBsb2FkZXIubm9ybWFsaXplKG1hcHBlZCArIHBhdGguc3Vic3RyKG1hcE1hdGNoLmxlbmd0aCksIHBrZ05hbWUgKyAnLycpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9NYXAobG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBtYXBNYXRjaCwgcGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICB2YXIgbWFwcGVkID0gcGtnLm1hcFttYXBNYXRjaF07XG5cbiAgICBpZiAodHlwZW9mIG1hcHBlZCA9PSAnc3RyaW5nJylcbiAgICAgIHJldHVybiBkb1N0cmluZ01hcChsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIG1hcE1hdGNoLCBtYXBwZWQsIHBhdGgsIHNraXBFeHRlbnNpb25zKTtcblxuICAgIC8vIHdlIHVzZSBhIHNwZWNpYWwgY29uZGl0aW9uYWwgc3ludGF4IHRvIGFsbG93IHRoZSBidWlsZGVyIHRvIGhhbmRsZSBjb25kaXRpb25hbCBicmFuY2ggcG9pbnRzIGZ1cnRoZXJcbiAgICBpZiAobG9hZGVyLmJ1aWxkZXIpXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBrZ05hbWUgKyAnLyM6JyArIHBhdGgpO1xuXG4gICAgLy8gbWFwIG9iamVjdCAtPiBjb25kaXRpb25hbCBtYXBcbiAgICByZXR1cm4gbG9hZGVyWydpbXBvcnQnXShwa2cubWFwWydAZW52J10gfHwgJ0BzeXN0ZW0tZW52JywgcGtnTmFtZSlcbiAgICAudGhlbihmdW5jdGlvbihlbnYpIHtcbiAgICAgIC8vIGZpcnN0IG1hcCBjb25kaXRpb24gdG8gbWF0Y2ggaXMgdXNlZFxuICAgICAgZm9yICh2YXIgZSBpbiBtYXBwZWQpIHtcbiAgICAgICAgdmFyIG5lZ2F0ZSA9IGVbMF0gPT0gJ34nO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHJlYWRNZW1iZXJFeHByZXNzaW9uKG5lZ2F0ZSA/IGUuc3Vic3RyKDEpIDogZSwgZW52KTtcblxuICAgICAgICBpZiAoIW5lZ2F0ZSAmJiB2YWx1ZSB8fCBuZWdhdGUgJiYgIXZhbHVlKVxuICAgICAgICAgIHJldHVybiBtYXBwZWRbZV07XG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbihtYXBwZWQpIHtcbiAgICAgIGlmIChtYXBwZWQpXG4gICAgICAgIHJldHVybiBkb1N0cmluZ01hcChsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIG1hcE1hdGNoLCBtYXBwZWQsIHBhdGgsIHNraXBFeHRlbnNpb25zKTtcblxuICAgICAgLy8gbm8gZW52aXJvbm1lbnQgbWF0Y2ggLT4gZmFsbGJhY2sgdG8gb3JpZ2luYWwgc3ViUGF0aCBieSByZXR1cm5pbmcgdW5kZWZpbmVkXG4gICAgfSk7XG4gIH1cblxuICAvLyBub3JtYWxpemVTeW5jID0gZGVjYW5vbmljYWxpemUgKyBwYWNrYWdlIHJlc29sdXRpb25cbiAgU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlLm5vcm1hbGl6ZVN5bmMgPSBTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUuZGVjYW5vbmljYWxpemUgPSBTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUubm9ybWFsaXplO1xuXG4gIC8vIGRlY2Fub25pY2FsaXplIG11c3QgSlVTVCBoYW5kbGUgcGFja2FnZSBkZWZhdWx0RXh0ZW5zaW9uOiBmYWxzZSBjYXNlIHdoZW4gZGVmYXVsdEpTRXh0ZW5zaW9ucyBpcyBzZXRcbiAgLy8gdG8gYmUgZGVwcmVjYXRlZCFcbiAgaG9vaygnZGVjYW5vbmljYWxpemUnLCBmdW5jdGlvbihkZWNhbm9uaWNhbGl6ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lKSB7XG4gICAgICBpZiAodGhpcy5idWlsZGVyKVxuICAgICAgICByZXR1cm4gZGVjYW5vbmljYWxpemUuY2FsbCh0aGlzLCBuYW1lLCBwYXJlbnROYW1lLCB0cnVlKTtcblxuICAgICAgdmFyIGRlY2Fub25pY2FsaXplZCA9IGRlY2Fub25pY2FsaXplLmNhbGwodGhpcywgbmFtZSwgcGFyZW50TmFtZSk7XG5cbiAgICAgIGlmICghdGhpcy5kZWZhdWx0SlNFeHRlbnNpb25zKVxuICAgICAgICByZXR1cm4gZGVjYW5vbmljYWxpemVkO1xuICAgIFxuICAgICAgdmFyIHBrZ05hbWUgPSBnZXRQYWNrYWdlKHRoaXMsIGRlY2Fub25pY2FsaXplZCk7XG5cbiAgICAgIHZhciBwa2cgPSB0aGlzLnBhY2thZ2VzW3BrZ05hbWVdO1xuICAgICAgdmFyIGRlZmF1bHRFeHRlbnNpb24gPSBwa2cgJiYgcGtnLmRlZmF1bHRFeHRlbnNpb247XG5cbiAgICAgIGlmIChkZWZhdWx0RXh0ZW5zaW9uID09IHVuZGVmaW5lZCAmJiBwa2cgJiYgcGtnLm1ldGEpXG4gICAgICAgIGdldE1ldGFNYXRjaGVzKHBrZy5tZXRhLCBkZWNhbm9uaWNhbGl6ZWQuc3Vic3RyKHBrZ05hbWUpLCBmdW5jdGlvbihtZXRhUGF0dGVybiwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoKSB7XG4gICAgICAgICAgaWYgKG1hdGNoRGVwdGggPT0gMCB8fCBtZXRhUGF0dGVybi5sYXN0SW5kZXhPZignKicpICE9IG1ldGFQYXR0ZXJuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGRlZmF1bHRFeHRlbnNpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICgoZGVmYXVsdEV4dGVuc2lvbiA9PT0gZmFsc2UgfHwgZGVmYXVsdEV4dGVuc2lvbiAmJiBkZWZhdWx0RXh0ZW5zaW9uICE9ICcuanMnKSAmJiBuYW1lLnN1YnN0cihuYW1lLmxlbmd0aCAtIDMsIDMpICE9ICcuanMnICYmIGRlY2Fub25pY2FsaXplZC5zdWJzdHIoZGVjYW5vbmljYWxpemVkLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICBkZWNhbm9uaWNhbGl6ZWQgPSBkZWNhbm9uaWNhbGl6ZWQuc3Vic3RyKDAsIGRlY2Fub25pY2FsaXplZC5sZW5ndGggLSAzKTtcblxuICAgICAgcmV0dXJuIGRlY2Fub25pY2FsaXplZDtcbiAgICB9O1xuICB9KTtcblxuICBob29rKCdub3JtYWxpemVTeW5jJywgZnVuY3Rpb24obm9ybWFsaXplU3luYykge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lLCBpc1BsdWdpbikge1xuICAgICAgd2Fybi5jYWxsKHRoaXMsICdTeXN0ZW1KUy5ub3JtYWxpemVTeW5jIGhhcyBiZWVuIGRlcHJlY2F0ZWQgZm9yIFN5c3RlbUpTLmRlY2Fub25pY2FsaXplLicpO1xuXG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgIGlzUGx1Z2luID0gaXNQbHVnaW4gPT09IHRydWU7XG5cbiAgICAgIC8vIGFwcGx5IGNvbnRleHR1YWwgcGFja2FnZSBtYXAgZmlyc3RcbiAgICAgIC8vICh3ZSBhc3N1bWUgdGhlIHBhcmVudCBwYWNrYWdlIGNvbmZpZyBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZClcbiAgICAgIGlmIChwYXJlbnROYW1lKVxuICAgICAgICB2YXIgcGFyZW50UGFja2FnZU5hbWUgPSBnZXRQYWNrYWdlKGxvYWRlciwgcGFyZW50TmFtZSkgfHxcbiAgICAgICAgICAgIGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHBhcmVudE5hbWUuc3Vic3RyKHBhcmVudE5hbWUubGVuZ3RoIC0gMywgMykgPT0gJy5qcycgJiZcbiAgICAgICAgICAgIGdldFBhY2thZ2UobG9hZGVyLCBwYXJlbnROYW1lLnN1YnN0cigwLCBwYXJlbnROYW1lLmxlbmd0aCAtIDMpKTtcblxuICAgICAgdmFyIHBhcmVudFBhY2thZ2UgPSBwYXJlbnRQYWNrYWdlTmFtZSAmJiBsb2FkZXIucGFja2FnZXNbcGFyZW50UGFja2FnZU5hbWVdO1xuXG4gICAgICAvLyByZW1vdmUgYW55IHBhcmVudCBiYXNlUGF0aCBmcm9tIHBhcmVudE5hbWVcbiAgICAgIGlmIChwYXJlbnRQYWNrYWdlKSB7XG4gICAgICAgIHZhciBwYXJlbnRCYXNlUGF0aCA9IGdldEJhc2VQYXRoKHBhcmVudFBhY2thZ2UpO1xuICAgICAgICBpZiAocGFyZW50QmFzZVBhdGggJiYgcGFyZW50TmFtZS5zdWJzdHIocGFyZW50UGFja2FnZU5hbWUubGVuZ3RoICsgMSwgcGFyZW50QmFzZVBhdGgubGVuZ3RoKSA9PSBwYXJlbnRCYXNlUGF0aClcbiAgICAgICAgICBwYXJlbnROYW1lID0gcGFyZW50UGFja2FnZU5hbWUgKyBwYXJlbnROYW1lLnN1YnN0cihwYXJlbnRQYWNrYWdlTmFtZS5sZW5ndGggKyBwYXJlbnRCYXNlUGF0aC5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZ25vcmUgLiBzaW5jZSBpbnRlcm5hbCBtYXBzIGhhbmRsZWQgYnkgc3RhbmRhcmQgcGFja2FnZSByZXNvbHV0aW9uXG4gICAgICBpZiAocGFyZW50UGFja2FnZSAmJiBuYW1lWzBdICE9ICcuJykge1xuICAgICAgICB2YXIgcGFyZW50TWFwID0gcGFyZW50UGFja2FnZS5tYXA7XG4gICAgICAgIHZhciBwYXJlbnRNYXBNYXRjaCA9IHBhcmVudE1hcCAmJiBnZXRNYXBNYXRjaChwYXJlbnRNYXAsIG5hbWUpO1xuXG4gICAgICAgIGlmIChwYXJlbnRNYXBNYXRjaCAmJiB0eXBlb2YgcGFyZW50TWFwW3BhcmVudE1hcE1hdGNoXSA9PSAnc3RyaW5nJylcbiAgICAgICAgICByZXR1cm4gZG9NYXBTeW5jKGxvYWRlciwgcGFyZW50UGFja2FnZSwgcGFyZW50UGFja2FnZU5hbWUsIGdldEJhc2VQYXRoKHBhcmVudFBhY2thZ2UpLCBwYXJlbnRNYXBNYXRjaCwgbmFtZSwgaXNQbHVnaW4pO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgbmFtZS5zdWJzdHIobmFtZS5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcblxuICAgICAgLy8gYXBwbHkgbWFwLCBjb3JlLCBwYXRocywgY29udGV4dHVhbCBwYWNrYWdlIG1hcFxuICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTeW5jLmNhbGwobG9hZGVyLCBuYW1lLCBwYXJlbnROYW1lKTtcblxuICAgICAgLy8gdW5kbyBkZWZhdWx0SlNFeHRlbnNpb25cbiAgICAgIGlmIChkZWZhdWx0SlNFeHRlbnNpb24gJiYgbm9ybWFsaXplZC5zdWJzdHIobm9ybWFsaXplZC5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJylcbiAgICAgICAgZGVmYXVsdEpTRXh0ZW5zaW9uID0gZmFsc2U7XG4gICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uKVxuICAgICAgICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5zdWJzdHIoMCwgbm9ybWFsaXplZC5sZW5ndGggLSAzKTtcblxuICAgICAgdmFyIHBrZ0NvbmZpZ01hdGNoID0gZ2V0UGFja2FnZUNvbmZpZ01hdGNoKGxvYWRlciwgbm9ybWFsaXplZCk7XG4gICAgICB2YXIgcGtnTmFtZSA9IHBrZ0NvbmZpZ01hdGNoICYmIHBrZ0NvbmZpZ01hdGNoLnBhY2thZ2VOYW1lIHx8IGdldFBhY2thZ2UobG9hZGVyLCBub3JtYWxpemVkKTtcblxuICAgICAgaWYgKCFwa2dOYW1lKVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZCArIChkZWZhdWx0SlNFeHRlbnNpb24gPyAnLmpzJyA6ICcnKTtcblxuICAgICAgdmFyIHN1YlBhdGggPSBub3JtYWxpemVkLnN1YnN0cihwa2dOYW1lLmxlbmd0aCArIDEpO1xuXG4gICAgICByZXR1cm4gYXBwbHlQYWNrYWdlQ29uZmlnU3luYyhsb2FkZXIsIGxvYWRlci5wYWNrYWdlc1twa2dOYW1lXSB8fCB7fSwgcGtnTmFtZSwgc3ViUGF0aCwgaXNQbHVnaW4pO1xuICAgIH07XG4gIH0pO1xuXG4gIGhvb2soJ25vcm1hbGl6ZScsIGZ1bmN0aW9uKG5vcm1hbGl6ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lLCBpc1BsdWdpbikge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICBpc1BsdWdpbiA9IGlzUGx1Z2luID09PSB0cnVlO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBhcHBseSBjb250ZXh0dWFsIHBhY2thZ2UgbWFwIGZpcnN0XG4gICAgICAgIC8vICh3ZSBhc3N1bWUgdGhlIHBhcmVudCBwYWNrYWdlIGNvbmZpZyBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZClcbiAgICAgICAgaWYgKHBhcmVudE5hbWUpXG4gICAgICAgICAgdmFyIHBhcmVudFBhY2thZ2VOYW1lID0gZ2V0UGFja2FnZShsb2FkZXIsIHBhcmVudE5hbWUpIHx8XG4gICAgICAgICAgICAgIGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHBhcmVudE5hbWUuc3Vic3RyKHBhcmVudE5hbWUubGVuZ3RoIC0gMywgMykgPT0gJy5qcycgJiZcbiAgICAgICAgICAgICAgZ2V0UGFja2FnZShsb2FkZXIsIHBhcmVudE5hbWUuc3Vic3RyKDAsIHBhcmVudE5hbWUubGVuZ3RoIC0gMykpO1xuXG4gICAgICAgIHZhciBwYXJlbnRQYWNrYWdlID0gcGFyZW50UGFja2FnZU5hbWUgJiYgbG9hZGVyLnBhY2thZ2VzW3BhcmVudFBhY2thZ2VOYW1lXTtcblxuICAgICAgICAvLyByZW1vdmUgYW55IHBhcmVudCBiYXNlUGF0aCBmcm9tIHBhcmVudE5hbWVcbiAgICAgICAgaWYgKHBhcmVudFBhY2thZ2UpIHtcbiAgICAgICAgICB2YXIgcGFyZW50QmFzZVBhdGggPSBnZXRCYXNlUGF0aChwYXJlbnRQYWNrYWdlKTtcbiAgICAgICAgICBpZiAocGFyZW50QmFzZVBhdGggJiYgcGFyZW50TmFtZS5zdWJzdHIocGFyZW50UGFja2FnZU5hbWUubGVuZ3RoICsgMSwgcGFyZW50QmFzZVBhdGgubGVuZ3RoKSA9PSBwYXJlbnRCYXNlUGF0aClcbiAgICAgICAgICAgIHBhcmVudE5hbWUgPSBwYXJlbnRQYWNrYWdlTmFtZSArIHBhcmVudE5hbWUuc3Vic3RyKHBhcmVudFBhY2thZ2VOYW1lLmxlbmd0aCArIHBhcmVudEJhc2VQYXRoLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZ25vcmUgLiBzaW5jZSBpbnRlcm5hbCBtYXBzIGhhbmRsZWQgYnkgc3RhbmRhcmQgcGFja2FnZSByZXNvbHV0aW9uXG4gICAgICAgIGlmIChwYXJlbnRQYWNrYWdlICYmIG5hbWUuc3Vic3RyKDAsIDIpICE9ICcuLycpIHtcbiAgICAgICAgICB2YXIgcGFyZW50TWFwID0gcGFyZW50UGFja2FnZS5tYXA7XG4gICAgICAgICAgdmFyIHBhcmVudE1hcE1hdGNoID0gcGFyZW50TWFwICYmIGdldE1hcE1hdGNoKHBhcmVudE1hcCwgbmFtZSk7XG5cbiAgICAgICAgICBpZiAocGFyZW50TWFwTWF0Y2gpXG4gICAgICAgICAgICByZXR1cm4gZG9NYXAobG9hZGVyLCBwYXJlbnRQYWNrYWdlLCBwYXJlbnRQYWNrYWdlTmFtZSwgcGFyZW50QmFzZVBhdGgsIHBhcmVudE1hcE1hdGNoLCBuYW1lLCBpc1BsdWdpbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24obWFwcGVkKSB7XG4gICAgICAgIGlmIChtYXBwZWQpXG4gICAgICAgICAgcmV0dXJuIG1hcHBlZDtcblxuICAgICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgbmFtZS5zdWJzdHIobmFtZS5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcblxuICAgICAgICAvLyBhcHBseSBtYXAsIGNvcmUsIHBhdGhzLCBjb250ZXh0dWFsIHBhY2thZ2UgbWFwXG4gICAgICAgIHZhciBub3JtYWxpemVkID0gbm9ybWFsaXplLmNhbGwobG9hZGVyLCBuYW1lLCBwYXJlbnROYW1lKTtcblxuICAgICAgICAvLyB1bmRvIGRlZmF1bHRKU0V4dGVuc2lvblxuICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIG5vcm1hbGl6ZWQuc3Vic3RyKG5vcm1hbGl6ZWQubGVuZ3RoIC0gMywgMykgIT0gJy5qcycpXG4gICAgICAgICAgZGVmYXVsdEpTRXh0ZW5zaW9uID0gZmFsc2U7XG4gICAgICAgIGlmIChkZWZhdWx0SlNFeHRlbnNpb24pXG4gICAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQuc3Vic3RyKDAsIG5vcm1hbGl6ZWQubGVuZ3RoIC0gMyk7XG5cbiAgICAgICAgdmFyIHBrZ0NvbmZpZ01hdGNoID0gZ2V0UGFja2FnZUNvbmZpZ01hdGNoKGxvYWRlciwgbm9ybWFsaXplZCk7XG4gICAgICAgIHZhciBwa2dOYW1lID0gcGtnQ29uZmlnTWF0Y2ggJiYgcGtnQ29uZmlnTWF0Y2gucGFja2FnZU5hbWUgfHwgZ2V0UGFja2FnZShsb2FkZXIsIG5vcm1hbGl6ZWQpO1xuXG4gICAgICAgIGlmICghcGtnTmFtZSlcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vcm1hbGl6ZWQgKyAoZGVmYXVsdEpTRXh0ZW5zaW9uID8gJy5qcycgOiAnJykpO1xuXG4gICAgICAgIHZhciBwa2cgPSBsb2FkZXIucGFja2FnZXNbcGtnTmFtZV07XG5cbiAgICAgICAgLy8gaWYgcGFja2FnZSBpcyBhbHJlYWR5IGNvbmZpZ3VyZWQgb3Igbm90IGEgZHluYW1pYyBjb25maWcgcGFja2FnZSwgdXNlIGV4aXN0aW5nIHBhY2thZ2UgY29uZmlnXG4gICAgICAgIHZhciBpc0NvbmZpZ3VyZWQgPSBwa2cgJiYgKHBrZy5jb25maWd1cmVkIHx8ICFwa2dDb25maWdNYXRjaCk7XG4gICAgICAgIHJldHVybiAoaXNDb25maWd1cmVkID8gUHJvbWlzZS5yZXNvbHZlKHBrZykgOiBsb2FkUGFja2FnZUNvbmZpZ1BhdGgobG9hZGVyLCBwa2dOYW1lLCBwa2dDb25maWdNYXRjaC5jb25maWdQYXRoKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocGtnKSB7XG4gICAgICAgICAgdmFyIHN1YlBhdGggPSBub3JtYWxpemVkLnN1YnN0cihwa2dOYW1lLmxlbmd0aCArIDEpO1xuXG4gICAgICAgICAgcmV0dXJuIGFwcGx5UGFja2FnZUNvbmZpZyhsb2FkZXIsIHBrZywgcGtnTmFtZSwgc3ViUGF0aCwgaXNQbHVnaW4pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIGNoZWNrIGlmIHRoZSBnaXZlbiBub3JtYWxpemVkIG5hbWUgbWF0Y2hlcyBhIHBhY2thZ2VDb25maWdQYXRoXG4gIC8vIGlmIHNvLCBsb2FkcyB0aGUgY29uZmlnXG4gIHZhciBwYWNrYWdlQ29uZmlnUGF0aHMgPSB7fTtcblxuICAvLyBkYXRhIG9iamVjdCBmb3IgcXVpY2sgY2hlY2tzIGFnYWluc3QgcGFja2FnZSBwYXRoc1xuICBmdW5jdGlvbiBjcmVhdGVQa2dDb25maWdQYXRoT2JqKHBhdGgpIHtcbiAgICB2YXIgbGFzdFdpbGRjYXJkID0gcGF0aC5sYXN0SW5kZXhPZignKicpO1xuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChsYXN0V2lsZGNhcmQgKyAxLCBwYXRoLmxhc3RJbmRleE9mKCcvJykpO1xuICAgIHJldHVybiB7XG4gICAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICAgIC8vIE5CIGhhbmRsZSByZWdleCBjb250cm9sIGNoYXJhY3RlciBlc2NhcGVzIG9yIHNpbXBseSBjcmVhdGUgYSB0ZXN0IGZ1bmN0aW9uIGhlcmVcbiAgICAgIHJlZ0V4OiBuZXcgUmVnRXhwKCdeKCcgKyBwYXRoLnN1YnN0cigwLCBsZW5ndGgpLnJlcGxhY2UoL1xcKi9nLCAnW15cXFxcL10rJykgKyAnKShcXFxcL3wkKScpLFxuICAgICAgd2lsZGNhcmQ6IGxhc3RXaWxkY2FyZCAhPSAtMVxuICAgIH07XG4gIH1cblxuICAvLyBtb3N0IHNwZWNpZmljIG1hdGNoIHdpbnNcbiAgZnVuY3Rpb24gZ2V0UGFja2FnZUNvbmZpZ01hdGNoKGxvYWRlciwgbm9ybWFsaXplZCkge1xuICAgIHZhciBwa2dOYW1lLCBleGFjdE1hdGNoID0gZmFsc2UsIGNvbmZpZ1BhdGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkZXIucGFja2FnZUNvbmZpZ1BhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFja2FnZUNvbmZpZ1BhdGggPSBsb2FkZXIucGFja2FnZUNvbmZpZ1BhdGhzW2ldO1xuICAgICAgdmFyIHAgPSBwYWNrYWdlQ29uZmlnUGF0aHNbcGFja2FnZUNvbmZpZ1BhdGhdIHx8IChwYWNrYWdlQ29uZmlnUGF0aHNbcGFja2FnZUNvbmZpZ1BhdGhdID0gY3JlYXRlUGtnQ29uZmlnUGF0aE9iaihwYWNrYWdlQ29uZmlnUGF0aCkpO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQubGVuZ3RoIDwgcC5sZW5ndGgpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIG1hdGNoID0gbm9ybWFsaXplZC5tYXRjaChwLnJlZ0V4KTtcbiAgICAgIGlmIChtYXRjaCAmJiAoIXBrZ05hbWUgfHwgKCEoZXhhY3RNYXRjaCAmJiBwLndpbGRjYXJkKSAmJiBwa2dOYW1lLmxlbmd0aCA8IG1hdGNoWzFdLmxlbmd0aCkpKSB7XG4gICAgICAgIHBrZ05hbWUgPSBtYXRjaFsxXTtcbiAgICAgICAgZXhhY3RNYXRjaCA9ICFwLndpbGRjYXJkO1xuICAgICAgICBjb25maWdQYXRoID0gcGtnTmFtZSArIHBhY2thZ2VDb25maWdQYXRoLnN1YnN0cihwLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwa2dOYW1lKVxuICAgICAgcmV0dXJuO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhY2thZ2VOYW1lOiBwa2dOYW1lLFxuICAgICAgY29uZmlnUGF0aDogY29uZmlnUGF0aFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkUGFja2FnZUNvbmZpZ1BhdGgobG9hZGVyLCBwa2dOYW1lLCBwa2dDb25maWdQYXRoKSB7XG4gICAgdmFyIGNvbmZpZ0xvYWRlciA9IGxvYWRlci5wbHVnaW5Mb2FkZXIgfHwgbG9hZGVyO1xuXG4gICAgLy8gTkIgcmVtb3ZlIHRoaXMgd2hlbiBqc29uIGlzIGRlZmF1bHRcbiAgICAoY29uZmlnTG9hZGVyLm1ldGFbcGtnQ29uZmlnUGF0aF0gPSBjb25maWdMb2FkZXIubWV0YVtwa2dDb25maWdQYXRoXSB8fCB7fSkuZm9ybWF0ID0gJ2pzb24nO1xuXG4gICAgcmV0dXJuIGNvbmZpZ0xvYWRlci5sb2FkKHBrZ0NvbmZpZ1BhdGgpXG4gICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBwa2dDb25maWcgPSBjb25maWdMb2FkZXIuZ2V0KHBrZ0NvbmZpZ1BhdGgpO1xuXG4gICAgICB2YXIgY2ZnID0gcGtnQ29uZmlnWydkZWZhdWx0J107XG5cbiAgICAgIC8vIHN1cHBvcnQgXCJzeXN0ZW1qc1wiIHByZWZpeGluZ1xuICAgICAgaWYgKGNmZy5zeXN0ZW1qcylcbiAgICAgICAgY2ZnID0gY2ZnLnN5c3RlbWpzO1xuXG4gICAgICAvLyBtb2R1bGVzIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICBpZiAoY2ZnLm1vZHVsZXMpIHtcbiAgICAgICAgY2ZnLm1ldGEgPSBjZmcubW9kdWxlcztcbiAgICAgICAgd2Fybi5jYWxsKGxvYWRlciwgJ1BhY2thZ2UgY29uZmlnIGZpbGUgJyArIHBrZ0NvbmZpZ1BhdGggKyAnIGlzIGNvbmZpZ3VyZWQgd2l0aCBcIm1vZHVsZXNcIiwgd2hpY2ggaXMgZGVwcmVjYXRlZCBhcyBpdCBoYXMgYmVlbiByZW5hbWVkIHRvIFwibWV0YVwiLicpO1xuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgYW55IG5vbi1zeXN0ZW0gcHJvcGVydGllcyBpZiBnZW5lcmljIGNvbmZpZyBmaWxlIChlZyBwYWNrYWdlLmpzb24pXG4gICAgICBmb3IgKHZhciBwIGluIGNmZykge1xuICAgICAgICBpZiAoaW5kZXhPZi5jYWxsKHBhY2thZ2VQcm9wZXJ0aWVzLCBwKSA9PSAtMSlcbiAgICAgICAgICBkZWxldGUgY2ZnW3BdO1xuICAgICAgfVxuXG4gICAgICAvLyBkZWVwbHktbWVyZ2UgKHRvIGZpcnN0IGxldmVsKSBjb25maWcgd2l0aCBhbnkgZXhpc3RpbmcgcGFja2FnZSBjb25maWdcbiAgICAgIHZhciBwa2cgPSBsb2FkZXIucGFja2FnZXNbcGtnTmFtZV0gPSBsb2FkZXIucGFja2FnZXNbcGtnTmFtZV0gfHwge307XG4gICAgICBleHRlbmRNZXRhKHBrZywgY2ZnLCB0cnVlKTtcblxuICAgICAgLy8gc3VwcG9ydCBleHRlcm5hbCBkZXBDYWNoZVxuICAgICAgdmFyIGJhc2VQYXRoID0gZ2V0QmFzZVBhdGgocGtnKTtcbiAgICAgIGlmIChjZmcuZGVwQ2FjaGUpIHtcbiAgICAgICAgZm9yICh2YXIgZCBpbiBjZmcuZGVwQ2FjaGUpIHtcbiAgICAgICAgICB2YXIgZE5vcm1hbGl6ZWQ7XG5cbiAgICAgICAgICBpZiAoZC5zdWJzdHIoMCwgMikgPT0gJy4vJylcbiAgICAgICAgICAgIGROb3JtYWxpemVkID0gcGtnTmFtZSArICcvJyArIGJhc2VQYXRoICsgZC5zdWJzdHIoMik7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZE5vcm1hbGl6ZWQgPSBjb3JlUmVzb2x2ZS5jYWxsKGxvYWRlciwgZCk7XG4gICAgICAgICAgbG9hZGVyLmRlcENhY2hlW2ROb3JtYWxpemVkXSA9IChsb2FkZXIuZGVwQ2FjaGVbZE5vcm1hbGl6ZWRdIHx8IFtdKS5jb25jYXQoY2ZnLmRlcENhY2hlW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgY2ZnLmRlcENhY2hlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGtnO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWV0YU1hdGNoZXMocGtnTWV0YSwgc3ViUGF0aCwgbWF0Y2hGbikge1xuICAgIC8vIHdpbGRjYXJkIG1ldGFcbiAgICB2YXIgbWV0YSA9IHt9O1xuICAgIHZhciB3aWxkY2FyZEluZGV4O1xuICAgIGZvciAodmFyIG1vZHVsZSBpbiBwa2dNZXRhKSB7XG4gICAgICAvLyBhbGxvdyBtZXRhIHRvIHN0YXJ0IHdpdGggLi8gZm9yIGZsZXhpYmlsaXR5XG4gICAgICB2YXIgZG90UmVsID0gbW9kdWxlLnN1YnN0cigwLCAyKSA9PSAnLi8nID8gJy4vJyA6ICcnO1xuICAgICAgaWYgKGRvdFJlbClcbiAgICAgICAgbW9kdWxlID0gbW9kdWxlLnN1YnN0cigyKTtcblxuICAgICAgd2lsZGNhcmRJbmRleCA9IG1vZHVsZS5pbmRleE9mKCcqJyk7XG4gICAgICBpZiAod2lsZGNhcmRJbmRleCA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICBpZiAobW9kdWxlLnN1YnN0cigwLCB3aWxkY2FyZEluZGV4KSA9PSBzdWJQYXRoLnN1YnN0cigwLCB3aWxkY2FyZEluZGV4KVxuICAgICAgICAgICYmIG1vZHVsZS5zdWJzdHIod2lsZGNhcmRJbmRleCArIDEpID09IHN1YlBhdGguc3Vic3RyKHN1YlBhdGgubGVuZ3RoIC0gbW9kdWxlLmxlbmd0aCArIHdpbGRjYXJkSW5kZXggKyAxKSkge1xuICAgICAgICAvLyBhbG93IG1hdGNoIGZ1bmN0aW9uIHRvIHJldHVybiB0cnVlIGZvciBhbiBleGl0IHBhdGhcbiAgICAgICAgaWYgKG1hdGNoRm4obW9kdWxlLCBwa2dNZXRhW2RvdFJlbCArIG1vZHVsZV0sIG1vZHVsZS5zcGxpdCgnLycpLmxlbmd0aCkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBleGFjdCBtZXRhXG4gICAgdmFyIGV4YWN0TWV0YSA9IHBrZ01ldGFbc3ViUGF0aF0gfHwgcGtnTWV0YVsnLi8nICsgc3ViUGF0aF07XG4gICAgaWYgKGV4YWN0TWV0YSlcbiAgICAgIG1hdGNoRm4oZXhhY3RNZXRhLCBleGFjdE1ldGEsIDApO1xuICB9XG5cbiAgaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsb2NhdGUuY2FsbCh0aGlzLCBsb2FkKSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGFkZHJlc3MpIHtcbiAgICAgICAgdmFyIHBrZ05hbWUgPSBnZXRQYWNrYWdlKGxvYWRlciwgbG9hZC5uYW1lKTtcbiAgICAgICAgaWYgKHBrZ05hbWUpIHtcbiAgICAgICAgICB2YXIgcGtnID0gbG9hZGVyLnBhY2thZ2VzW3BrZ05hbWVdO1xuICAgICAgICAgIHZhciBiYXNlUGF0aCA9IGdldEJhc2VQYXRoKHBrZyk7XG4gICAgICAgICAgdmFyIHN1YlBhdGggPSBsb2FkLm5hbWUuc3Vic3RyKHBrZ05hbWUubGVuZ3RoICsgYmFzZVBhdGgubGVuZ3RoICsgMSk7XG5cbiAgICAgICAgICAvLyBmb3JtYXRcbiAgICAgICAgICBpZiAocGtnLmZvcm1hdClcbiAgICAgICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gbG9hZC5tZXRhZGF0YS5mb3JtYXQgfHwgcGtnLmZvcm1hdDtcblxuICAgICAgICAgIHZhciBtZXRhID0ge307XG4gICAgICAgICAgaWYgKHBrZy5tZXRhKSB7XG4gICAgICAgICAgICB2YXIgYmVzdERlcHRoID0gMDtcblxuICAgICAgICAgICAgLy8gTkIgc3VwcG9ydCBhIG1haW4gc2hvcnRoYW5kIGluIG1ldGEgaGVyZT9cbiAgICAgICAgICAgIGdldE1ldGFNYXRjaGVzKHBrZy5tZXRhLCBzdWJQYXRoLCBmdW5jdGlvbihtZXRhUGF0dGVybiwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoKSB7XG4gICAgICAgICAgICAgIGlmIChtYXRjaERlcHRoID4gYmVzdERlcHRoKVxuICAgICAgICAgICAgICAgIGJlc3REZXB0aCA9IG1hdGNoRGVwdGg7XG4gICAgICAgICAgICAgIGV4dGVuZE1ldGEobWV0YSwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoICYmIGJlc3REZXB0aCA+IG1hdGNoRGVwdGgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGFsbG93IGFsaWFzIGFuZCBsb2FkZXIgdG8gYmUgcGFja2FnZS1yZWxhdGl2ZVxuICAgICAgICAgICAgaWYgKG1ldGEuYWxpYXMgJiYgbWV0YS5hbGlhcy5zdWJzdHIoMCwgMikgPT0gJy4vJylcbiAgICAgICAgICAgICAgbWV0YS5hbGlhcyA9IHBrZ05hbWUgKyBtZXRhLmFsaWFzLnN1YnN0cigxKTtcbiAgICAgICAgICAgIGlmIChtZXRhLmxvYWRlciAmJiBtZXRhLmxvYWRlci5zdWJzdHIoMCwgMikgPT0gJy4vJylcbiAgICAgICAgICAgICAgbWV0YS5sb2FkZXIgPSBwa2dOYW1lICsgbWV0YS5sb2FkZXIuc3Vic3RyKDEpO1xuICAgICAgICAgICAgZXh0ZW5kTWV0YShsb2FkLm1ldGFkYXRhLCBtZXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG59KSgpO1xuLypcbiAqIFNjcmlwdCB0YWcgZmV0Y2hcbiAqXG4gKiBXaGVuIGxvYWQubWV0YWRhdGEuc2NyaXB0TG9hZCBpcyB0cnVlLCB3ZSBsb2FkIHZpYSBzY3JpcHQgdGFnIGluamVjdGlvbi5cbiAqL1xuKGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT0gJ3VuZGVmaW5lZCcpXG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuXG4gIHZhciBjdXJTeXN0ZW07XG5cbiAgLy8gaWYgZG9pbmcgd29ya2VyIGV4ZWN1dGluZywgdGhpcyBpcyBzZXQgdG8gdGhlIGxvYWQgcmVjb3JkIGJlaW5nIGV4ZWN1dGVkXG4gIHZhciB3b3JrZXJMb2FkID0gbnVsbDtcbiAgXG4gIC8vIGludGVyYWN0aXZlIG1vZGUgaGFuZGxpbmcgbWV0aG9kIGNvdXJ0ZXN5IFJlcXVpcmVKU1xuICB2YXIgaWVFdmVudHMgPSBoZWFkICYmIChmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHZhciBpc09wZXJhID0gdHlwZW9mIG9wZXJhICE9PSAndW5kZWZpbmVkJyAmJiBvcGVyYS50b1N0cmluZygpID09PSAnW29iamVjdCBPcGVyYV0nO1xuICAgIHJldHVybiBzLmF0dGFjaEV2ZW50ICYmICEocy5hdHRhY2hFdmVudC50b1N0cmluZyAmJiBzLmF0dGFjaEV2ZW50LnRvU3RyaW5nKCkuaW5kZXhPZignW25hdGl2ZSBjb2RlJykgPCAwKSAmJiAhaXNPcGVyYTtcbiAgfSkoKTtcblxuICAvLyBJRSBpbnRlcmFjdGl2ZS1vbmx5IHBhcnRcbiAgLy8gd2Ugc3RvcmUgbG9hZGluZyBzY3JpcHRzIGFycmF5IGFzIHsgc2NyaXB0OiA8c2NyaXB0PiwgbG9hZDogey4uLn0gfVxuICB2YXIgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cyA9IFtdO1xuICB2YXIgaW50ZXJhY3RpdmVTY3JpcHQ7XG4gIGZ1bmN0aW9uIGdldEludGVyYWN0aXZlU2NyaXB0TG9hZCgpIHtcbiAgICBpZiAoaW50ZXJhY3RpdmVTY3JpcHQgJiYgaW50ZXJhY3RpdmVTY3JpcHQuc2NyaXB0LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpXG4gICAgICByZXR1cm4gaW50ZXJhY3RpdmVTY3JpcHQubG9hZDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChpbnRlcmFjdGl2ZUxvYWRpbmdTY3JpcHRzW2ldLnNjcmlwdC5yZWFkeVN0YXRlID09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICAgICAgaW50ZXJhY3RpdmVTY3JpcHQgPSBpbnRlcmFjdGl2ZUxvYWRpbmdTY3JpcHRzW2ldO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3RpdmVTY3JpcHQubG9hZDtcbiAgICAgIH1cbiAgfVxuICBcbiAgLy8gU3lzdGVtLnJlZ2lzdGVyLCBTeXN0ZW0ucmVnaXN0ZXJEeW5hbWljLCBBTUQgZGVmaW5lIHBpcGVsaW5lXG4gIC8vIHRoaXMgaXMgY2FsbGVkIGJ5IHRoZSBhYm92ZSBtZXRob2RzIHdoZW4gdGhleSBleGVjdXRlXG4gIC8vIHdlIHRoZW4gcnVuIHRoZSByZWR1Y2VSZWdpc3Rlcl8gY29sbGVjdGlvbiBmdW5jdGlvbiBlaXRoZXIgaW1tZWRpYXRlbHlcbiAgLy8gaWYgd2UgYXJlIGluIElFIGFuZCBrbm93IHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIHNjcmlwdCAoaW50ZXJhY3RpdmUpXG4gIC8vIG9yIGxhdGVyIGlmIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIHN5bmNocm9ub3VzIGxvYWQgY2FsbGJhY2sgdG8ga25vdyB0aGUgc2NyaXB0XG4gIHZhciBsb2FkaW5nQ250ID0gMDtcbiAgdmFyIHJlZ2lzdGVyUXVldWUgPSBbXTtcbiAgaG9vaygncHVzaFJlZ2lzdGVyXycsIGZ1bmN0aW9uKHB1c2hSZWdpc3Rlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihyZWdpc3Rlcikge1xuICAgICAgLy8gaWYgdXNpbmcgZXZhbC1leGVjdXRpb24gdGhlbiBza2lwXG4gICAgICBpZiAocHVzaFJlZ2lzdGVyLmNhbGwodGhpcywgcmVnaXN0ZXIpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIGlmIHVzaW5nIHdvcmtlciBleGVjdXRpb24sIHRoZW4gd2UncmUgZG9uZVxuICAgICAgaWYgKHdvcmtlckxvYWQpXG4gICAgICAgIHRoaXMucmVkdWNlUmVnaXN0ZXJfKHdvcmtlckxvYWQsIHJlZ2lzdGVyKTtcblxuICAgICAgLy8gZGV0ZWN0IGlmIHdlIGtub3cgdGhlIGN1cnJlbnRseSBleGVjdXRpbmcgbG9hZCAoSUUpXG4gICAgICAvLyBpZiBzbywgaW1tZWRpYXRlbHkgY2FsbCByZWR1Y2VSZWdpc3RlclxuICAgICAgZWxzZSBpZiAoaWVFdmVudHMpXG4gICAgICAgIHRoaXMucmVkdWNlUmVnaXN0ZXJfKGdldEludGVyYWN0aXZlU2NyaXB0TG9hZCgpLCByZWdpc3Rlcik7XG5cbiAgICAgIC8vIG90aGVyd2lzZSwgYWRkIHRvIG91ciBleGVjdXRpb24gcXVldWVcbiAgICAgIC8vIHRvIGNhbGwgcmVkdWNlUmVnaXN0ZXIgb24gc3luYyBzY3JpcHQgbG9hZCBldmVudFxuICAgICAgZWxzZSBpZiAobG9hZGluZ0NudClcbiAgICAgICAgcmVnaXN0ZXJRdWV1ZS5wdXNoKHJlZ2lzdGVyKTtcblxuICAgICAgLy8gaWYgd2UncmUgbm90IGN1cnJlbnRseSBsb2FkaW5nIGFueXRoaW5nIHRob3VnaFxuICAgICAgLy8gdGhlbiBkbyB0aGUgcmVkdWN0aW9uIGFnYWluc3QgYSBudWxsIGxvYWRcbiAgICAgIC8vIChvdXQgb2YgYmFuZCBuYW1lZCBkZWZpbmUgb3IgbmFtZWQgcmVnaXN0ZXIpXG4gICAgICAvLyBub3RlIGV2ZW4gaW4gbm9uLXNjcmlwdCBlbnZpcm9ubWVudHMsIHRoaXMgY2F0Y2ggaXMgdXNlZFxuICAgICAgZWxzZVxuICAgICAgICB0aGlzLnJlZHVjZVJlZ2lzdGVyXyhudWxsLCByZWdpc3Rlcik7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHdlYldvcmtlckltcG9ydChsb2FkZXIsIGxvYWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAobG9hZC5tZXRhZGF0YS5pbnRlZ3JpdHkpXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1N1YnJlc291cmNlIGludGVncml0eSBjaGVja2luZyBpcyBub3Qgc3VwcG9ydGVkIGluIHdlYiB3b3JrZXJzLicpKTtcblxuICAgICAgd29ya2VyTG9hZCA9IGxvYWQ7XG4gICAgICB0cnkge1xuICAgICAgICBpbXBvcnRTY3JpcHRzKGxvYWQuYWRkcmVzcyk7XG4gICAgICB9XG4gICAgICBjYXRjaChlKSB7XG4gICAgICAgIHdvcmtlckxvYWQgPSBudWxsO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgICB3b3JrZXJMb2FkID0gbnVsbDtcblxuICAgICAgLy8gaWYgbm90aGluZyByZWdpc3RlcmVkLCB0aGVuIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICBpZiAoIWxvYWQubWV0YWRhdGEuZW50cnkpXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IobG9hZC5hZGRyZXNzICsgJyBkaWQgbm90IGNhbGwgU3lzdGVtLnJlZ2lzdGVyIG9yIEFNRCBkZWZpbmUnKSk7XG5cbiAgICAgIHJlc29sdmUoJycpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gb3ZlcnJpZGUgZmV0Y2ggdG8gdXNlIHNjcmlwdCBpbmplY3Rpb25cbiAgaG9vaygnZmV0Y2gnLCBmdW5jdGlvbihmZXRjaCkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcblxuICAgICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdqc29uJyB8fCAhbG9hZC5tZXRhZGF0YS5zY3JpcHRMb2FkIHx8ICghaXNCcm93c2VyICYmICFpc1dvcmtlcikpXG4gICAgICAgIHJldHVybiBmZXRjaC5jYWxsKHRoaXMsIGxvYWQpO1xuXG4gICAgICBpZiAoaXNXb3JrZXIpXG4gICAgICAgIHJldHVybiB3ZWJXb3JrZXJJbXBvcnQobG9hZGVyLCBsb2FkKTtcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBcbiAgICAgICAgcy5hc3luYyA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBpZiAobG9hZC5tZXRhZGF0YS5pbnRlZ3JpdHkpXG4gICAgICAgICAgcy5zZXRBdHRyaWJ1dGUoJ2ludGVncml0eScsIGxvYWQubWV0YWRhdGEuaW50ZWdyaXR5KTtcblxuICAgICAgICBpZiAoaWVFdmVudHMpIHtcbiAgICAgICAgICBzLmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5wdXNoKHtcbiAgICAgICAgICAgIHNjcmlwdDogcyxcbiAgICAgICAgICAgIGxvYWQ6IGxvYWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvciwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9hZGluZ0NudCsrO1xuXG4gICAgICAgIGN1clN5c3RlbSA9IF9fZ2xvYmFsLlN5c3RlbTtcblxuICAgICAgICBzLnNyYyA9IGxvYWQuYWRkcmVzcztcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzKTtcblxuICAgICAgICBmdW5jdGlvbiBjb21wbGV0ZShldnQpIHtcbiAgICAgICAgICBpZiAocy5yZWFkeVN0YXRlICYmIHMucmVhZHlTdGF0ZSAhPSAnbG9hZGVkJyAmJiBzLnJlYWR5U3RhdGUgIT0gJ2NvbXBsZXRlJylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIGxvYWRpbmdDbnQtLTtcblxuICAgICAgICAgIC8vIGNvbXBsZXRlIGNhbGwgaXMgc3luYyBvbiBleGVjdXRpb24gZmluaXNoXG4gICAgICAgICAgLy8gKGluIGllIGFscmVhZHkgZG9uZSByZWR1Y3Rpb25zKVxuICAgICAgICAgIGlmICghbG9hZC5tZXRhZGF0YS5lbnRyeSAmJiAhcmVnaXN0ZXJRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvYWRlci5yZWR1Y2VSZWdpc3Rlcl8obG9hZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpZUV2ZW50cykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWdpc3RlclF1ZXVlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICBsb2FkZXIucmVkdWNlUmVnaXN0ZXJfKGxvYWQsIHJlZ2lzdGVyUXVldWVbaV0pO1xuICAgICAgICAgICAgcmVnaXN0ZXJRdWV1ZSA9IFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsZWFudXAoKTtcblxuICAgICAgICAgIC8vIGlmIG5vdGhpbmcgcmVnaXN0ZXJlZCwgdGhlbiBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgICAgIGlmICghbG9hZC5tZXRhZGF0YS5lbnRyeSAmJiAhbG9hZC5tZXRhZGF0YS5idW5kbGUpXG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGxvYWQubmFtZSArICcgZGlkIG5vdCBjYWxsIFN5c3RlbS5yZWdpc3RlciBvciBBTUQgZGVmaW5lLiBJZiBsb2FkaW5nIGEgZ2xvYmFsIG1vZHVsZSBjb25maWd1cmUgdGhlIGdsb2JhbCBuYW1lIHZpYSB0aGUgbWV0YSBleHBvcnRzIHByb3BlcnR5IGZvciBzY3JpcHQgaW5qZWN0aW9uIHN1cHBvcnQuJykpO1xuXG4gICAgICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBlcnJvcihldnQpIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICcgKyBsb2FkLmFkZHJlc3MpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgX19nbG9iYWwuU3lzdGVtID0gY3VyU3lzdGVtO1xuXG4gICAgICAgICAgaWYgKHMuZGV0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIHMuZGV0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlTG9hZGluZ1NjcmlwdHNbaV0uc2NyaXB0ID09IHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmVTY3JpcHQgJiYgaW50ZXJhY3RpdmVTY3JpcHQuc2NyaXB0ID09IHMpXG4gICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGVhZC5yZW1vdmVDaGlsZChzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG59KSgpO1xuLypcbiAqIEluc3RhbnRpYXRlIHJlZ2lzdHJ5IGV4dGVuc2lvblxuICpcbiAqIFN1cHBvcnRzIFRyYWNldXIgU3lzdGVtLnJlZ2lzdGVyICdpbnN0YW50aWF0ZScgb3V0cHV0IGZvciBsb2FkaW5nIEVTNiBhcyBFUzUuXG4gKlxuICogLSBDcmVhdGVzIHRoZSBsb2FkZXIucmVnaXN0ZXIgZnVuY3Rpb25cbiAqIC0gQWxzbyBzdXBwb3J0cyBtZXRhZGF0YS5mb3JtYXQgPSAncmVnaXN0ZXInIGluIGluc3RhbnRpYXRlIGZvciBhbm9ueW1vdXMgcmVnaXN0ZXIgbW9kdWxlc1xuICogLSBBbHNvIHN1cHBvcnRzIG1ldGFkYXRhLmRlcHMsIG1ldGFkYXRhLmV4ZWN1dGUgYW5kIG1ldGFkYXRhLmV4ZWN1dGluZ1JlcXVpcmVcbiAqICAgICBmb3IgaGFuZGxpbmcgZHluYW1pYyBtb2R1bGVzIGFsb25nc2lkZSByZWdpc3Rlci10cmFuc2Zvcm1lZCBFUzYgbW9kdWxlc1xuICpcbiAqXG4gKiBUaGUgY29kZSBoZXJlIHJlcGxpY2F0ZXMgdGhlIEVTNiBsaW5raW5nIGdyb3VwcyBhbGdvcml0aG0gdG8gZW5zdXJlIHRoYXRcbiAqIGNpcmN1bGFyIEVTNiBjb21waWxlZCBpbnRvIFN5c3RlbS5yZWdpc3RlciBjYW4gd29yayBhbG9uZ3NpZGUgY2lyY3VsYXIgQU1EIFxuICogYW5kIENvbW1vbkpTLCBpZGVudGljYWxseSB0byB0aGUgYWN0dWFsIEVTNiBsb2FkZXIuXG4gKlxuICovXG5cblxuLypcbiAqIFJlZ2lzdHJ5IHNpZGUgdGFibGUgZW50cmllcyBpbiBsb2FkZXIuZGVmaW5lZFxuICogUmVnaXN0cnkgRW50cnkgQ29udGFpbnM6XG4gKiAgICAtIG5hbWVcbiAqICAgIC0gZGVwcyBcbiAqICAgIC0gZGVjbGFyZSBmb3IgZGVjbGFyYXRpdmUgbW9kdWxlc1xuICogICAgLSBleGVjdXRlIGZvciBkeW5hbWljIG1vZHVsZXMsIGRpZmZlcmVudCB0byBkZWNsYXJhdGl2ZSBleGVjdXRlIG9uIG1vZHVsZVxuICogICAgLSBleGVjdXRpbmdSZXF1aXJlIGluZGljYXRlcyByZXF1aXJlIGRyaXZlcyBleGVjdXRpb24gZm9yIGNpcmN1bGFyaXR5IG9mIGR5bmFtaWMgbW9kdWxlc1xuICogICAgLSBkZWNsYXJhdGl2ZSBvcHRpb25hbCBib29sZWFuIGluZGljYXRpbmcgd2hpY2ggb2YgdGhlIGFib3ZlXG4gKlxuICogQ2FuIHByZWxvYWQgbW9kdWxlcyBkaXJlY3RseSBvbiBTeXN0ZW1KUy5kZWZpbmVkWydteS9tb2R1bGUnXSA9IHsgZGVwcywgZXhlY3V0ZSwgZXhlY3V0aW5nUmVxdWlyZSB9XG4gKlxuICogVGhlbiB0aGUgZW50cnkgZ2V0cyBwb3B1bGF0ZWQgd2l0aCBkZXJpdmVkIGluZm9ybWF0aW9uIGR1cmluZyBwcm9jZXNzaW5nOlxuICogICAgLSBub3JtYWxpemVkRGVwcyBkZXJpdmVkIGZyb20gZGVwcywgY3JlYXRlZCBpbiBpbnN0YW50aWF0ZVxuICogICAgLSBncm91cEluZGV4IHVzZWQgYnkgZ3JvdXAgbGlua2luZyBhbGdvcml0aG1cbiAqICAgIC0gZXZhbHVhdGVkIGluZGljYXRpbmcgd2hldGhlciBldmFsdWF0aW9uIGhhcyBoYXBwZW5kXG4gKiAgICAtIG1vZHVsZSB0aGUgbW9kdWxlIHJlY29yZCBvYmplY3QsIGNvbnRhaW5pbmc6XG4gKiAgICAgIC0gZXhwb3J0cyBhY3R1YWwgbW9kdWxlIGV4cG9ydHNcbiAqXG4gKiAgICBGb3IgZHluYW1pYyB3ZSB0cmFjayB0aGUgZXMgbW9kdWxlIHdpdGg6XG4gKiAgICAtIGVzTW9kdWxlIGFjdHVhbCBlcyBtb2R1bGUgdmFsdWVcbiAqICAgIC0gZXNtRXhwb3J0cyB3aGV0aGVyIHRvIGV4dGVuZCB0aGUgZXNNb2R1bGUgd2l0aCBuYW1lZCBleHBvcnRzXG4gKiAgICAgIFxuICogICAgVGhlbiBmb3IgZGVjbGFyYXRpdmUgb25seSB3ZSB0cmFjayBkeW5hbWljIGJpbmRpbmdzIHdpdGggdGhlICdtb2R1bGUnIHJlY29yZHM6XG4gKiAgICAgIC0gbmFtZVxuICogICAgICAtIGV4cG9ydHNcbiAqICAgICAgLSBzZXR0ZXJzIGRlY2xhcmF0aXZlIHNldHRlciBmdW5jdGlvbnNcbiAqICAgICAgLSBkZXBlbmRlbmNpZXMsIG1vZHVsZSByZWNvcmRzIG9mIGRlcGVuZGVuY2llc1xuICogICAgICAtIGltcG9ydGVycywgbW9kdWxlIHJlY29yZHMgb2YgZGVwZW5kZW50c1xuICpcbiAqIEFmdGVyIGxpbmtlZCBhbmQgZXZhbHVhdGVkLCBlbnRyaWVzIGFyZSByZW1vdmVkLCBkZWNsYXJhdGl2ZSBtb2R1bGUgcmVjb3JkcyByZW1haW4gaW4gc2VwYXJhdGVcbiAqIG1vZHVsZSBiaW5kaW5nIHRhYmxlXG4gKlxuICovXG5cbnZhciBsZWFkaW5nQ29tbWVudEFuZE1ldGFSZWdFeCA9IC9eKFxccypcXC9cXCpbXlxcKl0qKFxcKig/IVxcLylbXlxcKl0qKSpcXCpcXC98XFxzKlxcL1xcL1teXFxuXSp8XFxzKlwiW15cIl0rXCJcXHMqOz98XFxzKidbXiddKydcXHMqOz8pKlxccyovO1xuZnVuY3Rpb24gZGV0ZWN0UmVnaXN0ZXJGb3JtYXQoc291cmNlKSB7XG4gIHZhciBsZWFkaW5nQ29tbWVudEFuZE1ldGEgPSBzb3VyY2UubWF0Y2gobGVhZGluZ0NvbW1lbnRBbmRNZXRhUmVnRXgpO1xuICByZXR1cm4gbGVhZGluZ0NvbW1lbnRBbmRNZXRhICYmIHNvdXJjZS5zdWJzdHIobGVhZGluZ0NvbW1lbnRBbmRNZXRhWzBdLmxlbmd0aCwgMTUpID09ICdTeXN0ZW0ucmVnaXN0ZXInO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbnRyeSgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBudWxsLFxuICAgIGRlcHM6IG51bGwsXG4gICAgb3JpZ2luYWxJbmRpY2VzOiBudWxsLFxuICAgIGRlY2xhcmU6IG51bGwsXG4gICAgZXhlY3V0ZTogbnVsbCxcbiAgICBleGVjdXRpbmdSZXF1aXJlOiBmYWxzZSxcbiAgICBkZWNsYXJhdGl2ZTogZmFsc2UsXG4gICAgbm9ybWFsaXplZERlcHM6IG51bGwsXG4gICAgZ3JvdXBJbmRleDogbnVsbCxcbiAgICBldmFsdWF0ZWQ6IGZhbHNlLFxuICAgIG1vZHVsZTogbnVsbCxcbiAgICBlc01vZHVsZTogbnVsbCxcbiAgICBlc21FeHBvcnRzOiBmYWxzZVxuICB9O1xufVxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLypcbiAgICogVGhlcmUgYXJlIHR3byB2YXJpYXRpb25zIG9mIFN5c3RlbS5yZWdpc3RlcjpcbiAgICogMS4gU3lzdGVtLnJlZ2lzdGVyIGZvciBFUzYgY29udmVyc2lvbiAoMi0zIHBhcmFtcykgLSBTeXN0ZW0ucmVnaXN0ZXIoW25hbWUsIF1kZXBzLCBkZWNsYXJlKVxuICAgKiAgICBzZWUgaHR0cHM6Ly9naXRodWIuY29tL01vZHVsZUxvYWRlci9lczYtbW9kdWxlLWxvYWRlci93aWtpL1N5c3RlbS5yZWdpc3Rlci1FeHBsYWluZWRcbiAgICpcbiAgICogMi4gU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyBmb3IgZHluYW1pYyBtb2R1bGVzICgzLTQgcGFyYW1zKSAtIFN5c3RlbS5yZWdpc3RlckR5bmFtaWMoW25hbWUsIF1kZXBzLCBleGVjdXRpbmdSZXF1aXJlLCBleGVjdXRlKVxuICAgKiB0aGUgdHJ1ZSBvciBmYWxzZSBzdGF0ZW1lbnQgXG4gICAqXG4gICAqIHRoaXMgZXh0ZW5zaW9uIGltcGxlbWVudHMgdGhlIGxpbmtpbmcgYWxnb3JpdGhtIGZvciB0aGUgdHdvIHZhcmlhdGlvbnMgaWRlbnRpY2FsIHRvIHRoZSBzcGVjXG4gICAqIGFsbG93aW5nIGNvbXBpbGVkIEVTNiBjaXJjdWxhciByZWZlcmVuY2VzIHRvIHdvcmsgYWxvbmdzaWRlIEFNRCBhbmQgQ0pTIGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4gICAqXG4gICAqL1xuICBTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBkZXBzLCBkZWNsYXJlKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9ICdzdHJpbmcnKSB7XG4gICAgICBkZWNsYXJlID0gZGVwcztcbiAgICAgIGRlcHMgPSBuYW1lO1xuICAgICAgbmFtZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gZHluYW1pYyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eVxuICAgIC8vIGNhbiBiZSBkZXByZWNhdGVkIGV2ZW50dWFsbHlcbiAgICBpZiAodHlwZW9mIGRlY2xhcmUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJEeW5hbWljLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgIC8vIGlkZWFsbHkgd291bGRuJ3QgYXBwbHkgbWFwIGNvbmZpZyB0byBidW5kbGUgbmFtZXMgYnV0IFxuICAgIC8vIGRlcGVuZGVuY2llcyBnbyB0aHJvdWdoIG1hcCByZWdhcmRsZXNzIHNvIHdlIGNhbid0IHJlc3RyaWN0XG4gICAgLy8gY291bGQgcmVjb25zaWRlciBpbiBzaGlmdCB0byBuZXcgc3BlY1xuICAgIGVudHJ5Lm5hbWUgPSBuYW1lICYmICh0aGlzLmRlY2Fub25pY2FsaXplIHx8IHRoaXMubm9ybWFsaXplKS5jYWxsKHRoaXMsIG5hbWUpO1xuICAgIGVudHJ5LmRlY2xhcmF0aXZlID0gdHJ1ZTtcbiAgICBlbnRyeS5kZXBzID0gZGVwcztcbiAgICBlbnRyeS5kZWNsYXJlID0gZGVjbGFyZTtcblxuICAgIHRoaXMucHVzaFJlZ2lzdGVyXyh7XG4gICAgICBhbWQ6IGZhbHNlLFxuICAgICAgZW50cnk6IGVudHJ5XG4gICAgfSk7XG4gIH07XG4gIFN5c3RlbUpTTG9hZGVyLnByb3RvdHlwZS5yZWdpc3RlckR5bmFtaWMgPSBmdW5jdGlvbihuYW1lLCBkZXBzLCBkZWNsYXJlLCBleGVjdXRlKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9ICdzdHJpbmcnKSB7XG4gICAgICBleGVjdXRlID0gZGVjbGFyZTtcbiAgICAgIGRlY2xhcmUgPSBkZXBzO1xuICAgICAgZGVwcyA9IG5hbWU7XG4gICAgICBuYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBkeW5hbWljXG4gICAgdmFyIGVudHJ5ID0gY3JlYXRlRW50cnkoKTtcbiAgICBlbnRyeS5uYW1lID0gbmFtZSAmJiAodGhpcy5kZWNhbm9uaWNhbGl6ZSB8fCB0aGlzLm5vcm1hbGl6ZSkuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICBlbnRyeS5kZXBzID0gZGVwcztcbiAgICBlbnRyeS5leGVjdXRlID0gZXhlY3V0ZTtcbiAgICBlbnRyeS5leGVjdXRpbmdSZXF1aXJlID0gZGVjbGFyZTtcblxuICAgIHRoaXMucHVzaFJlZ2lzdGVyXyh7XG4gICAgICBhbWQ6IGZhbHNlLFxuICAgICAgZW50cnk6IGVudHJ5XG4gICAgfSk7XG4gIH07XG4gIGhvb2soJ3JlZHVjZVJlZ2lzdGVyXycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkLCByZWdpc3Rlcikge1xuICAgICAgaWYgKCFyZWdpc3RlcilcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICB2YXIgZW50cnkgPSByZWdpc3Rlci5lbnRyeTtcbiAgICAgIHZhciBjdXJNZXRhID0gbG9hZCAmJiBsb2FkLm1ldGFkYXRhO1xuXG4gICAgICAvLyBuYW1lZCByZWdpc3RlclxuICAgICAgaWYgKGVudHJ5Lm5hbWUpIHtcbiAgICAgICAgaWYgKCEoZW50cnkubmFtZSBpbiB0aGlzLmRlZmluZWQpKVxuICAgICAgICAgIHRoaXMuZGVmaW5lZFtlbnRyeS5uYW1lXSA9IGVudHJ5O1xuXG4gICAgICAgIGlmIChjdXJNZXRhKVxuICAgICAgICAgIGN1ck1ldGEuYnVuZGxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIGFub255bW91cyByZWdpc3RlclxuICAgICAgaWYgKCFlbnRyeS5uYW1lIHx8IGxvYWQgJiYgZW50cnkubmFtZSA9PSBsb2FkLm5hbWUpIHtcbiAgICAgICAgaWYgKCFjdXJNZXRhKVxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgYW5vbnltb3VzIFN5c3RlbS5yZWdpc3RlciBjYWxsLicpO1xuICAgICAgICBpZiAoY3VyTWV0YS5lbnRyeSkge1xuICAgICAgICAgIGlmIChjdXJNZXRhLmZvcm1hdCA9PSAncmVnaXN0ZXInKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZSBhbm9ueW1vdXMgU3lzdGVtLnJlZ2lzdGVyIGNhbGxzIGluIG1vZHVsZSAnICsgbG9hZC5uYW1lICsgJy4gSWYgbG9hZGluZyBhIGJ1bmRsZSwgZW5zdXJlIGFsbCB0aGUgU3lzdGVtLnJlZ2lzdGVyIGNhbGxzIGFyZSBuYW1lZC4nKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSAnICsgbG9hZC5uYW1lICsgJyBpbnRlcnByZXRlZCBhcyAnICsgY3VyTWV0YS5mb3JtYXQgKyAnIG1vZHVsZSBmb3JtYXQsIGJ1dCBjYWxsZWQgU3lzdGVtLnJlZ2lzdGVyLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3VyTWV0YS5mb3JtYXQpXG4gICAgICAgICAgY3VyTWV0YS5mb3JtYXQgPSAncmVnaXN0ZXInO1xuICAgICAgICBjdXJNZXRhLmVudHJ5ID0gZW50cnk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9va0NvbnN0cnVjdG9yKGZ1bmN0aW9uKGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5kZWZpbmVkID0ge307XG4gICAgICB0aGlzLl9sb2FkZXIubW9kdWxlUmVjb3JkcyA9IHt9O1xuICAgIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkR3JvdXBzKGVudHJ5LCBsb2FkZXIsIGdyb3Vwcykge1xuICAgIGdyb3Vwc1tlbnRyeS5ncm91cEluZGV4XSA9IGdyb3Vwc1tlbnRyeS5ncm91cEluZGV4XSB8fCBbXTtcblxuICAgIGlmIChpbmRleE9mLmNhbGwoZ3JvdXBzW2VudHJ5Lmdyb3VwSW5kZXhdLCBlbnRyeSkgIT0gLTEpXG4gICAgICByZXR1cm47XG5cbiAgICBncm91cHNbZW50cnkuZ3JvdXBJbmRleF0ucHVzaChlbnRyeSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGRlcE5hbWUgPSBlbnRyeS5ub3JtYWxpemVkRGVwc1tpXTtcbiAgICAgIHZhciBkZXBFbnRyeSA9IGxvYWRlci5kZWZpbmVkW2RlcE5hbWVdO1xuICAgICAgXG4gICAgICAvLyBub3QgaW4gdGhlIHJlZ2lzdHJ5IG1lYW5zIGFscmVhZHkgbGlua2VkIC8gRVM2XG4gICAgICBpZiAoIWRlcEVudHJ5IHx8IGRlcEVudHJ5LmV2YWx1YXRlZClcbiAgICAgICAgY29udGludWU7XG4gICAgICBcbiAgICAgIC8vIG5vdyB3ZSBrbm93IHRoZSBlbnRyeSBpcyBpbiBvdXIgdW5saW5rZWQgbGlua2FnZSBncm91cFxuICAgICAgdmFyIGRlcEdyb3VwSW5kZXggPSBlbnRyeS5ncm91cEluZGV4ICsgKGRlcEVudHJ5LmRlY2xhcmF0aXZlICE9IGVudHJ5LmRlY2xhcmF0aXZlKTtcblxuICAgICAgLy8gdGhlIGdyb3VwIGluZGV4IG9mIGFuIGVudHJ5IGlzIGFsd2F5cyB0aGUgbWF4aW11bVxuICAgICAgaWYgKGRlcEVudHJ5Lmdyb3VwSW5kZXggPT09IG51bGwgfHwgZGVwRW50cnkuZ3JvdXBJbmRleCA8IGRlcEdyb3VwSW5kZXgpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIGlmIGFscmVhZHkgaW4gYSBncm91cCwgcmVtb3ZlIGZyb20gdGhlIG9sZCBncm91cFxuICAgICAgICBpZiAoZGVwRW50cnkuZ3JvdXBJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgIGdyb3Vwc1tkZXBFbnRyeS5ncm91cEluZGV4XS5zcGxpY2UoaW5kZXhPZi5jYWxsKGdyb3Vwc1tkZXBFbnRyeS5ncm91cEluZGV4XSwgZGVwRW50cnkpLCAxKTtcblxuICAgICAgICAgIC8vIGlmIHRoZSBvbGQgZ3JvdXAgaXMgZW1wdHksIHRoZW4gd2UgaGF2ZSBhIG1peGVkIGRlcG5kZW5jeSBjeWNsZVxuICAgICAgICAgIGlmIChncm91cHNbZGVwRW50cnkuZ3JvdXBJbmRleF0ubGVuZ3RoID09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXhlZCBkZXBlbmRlbmN5IGN5Y2xlIGRldGVjdGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVwRW50cnkuZ3JvdXBJbmRleCA9IGRlcEdyb3VwSW5kZXg7XG4gICAgICB9XG5cbiAgICAgIGJ1aWxkR3JvdXBzKGRlcEVudHJ5LCBsb2FkZXIsIGdyb3Vwcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbGluayhuYW1lLCBsb2FkZXIpIHtcbiAgICB2YXIgc3RhcnRFbnRyeSA9IGxvYWRlci5kZWZpbmVkW25hbWVdO1xuXG4gICAgLy8gc2tpcCBpZiBhbHJlYWR5IGxpbmtlZFxuICAgIGlmIChzdGFydEVudHJ5Lm1vZHVsZSlcbiAgICAgIHJldHVybjtcblxuICAgIHN0YXJ0RW50cnkuZ3JvdXBJbmRleCA9IDA7XG5cbiAgICB2YXIgZ3JvdXBzID0gW107XG5cbiAgICBidWlsZEdyb3VwcyhzdGFydEVudHJ5LCBsb2FkZXIsIGdyb3Vwcyk7XG5cbiAgICB2YXIgY3VyR3JvdXBEZWNsYXJhdGl2ZSA9ICEhc3RhcnRFbnRyeS5kZWNsYXJhdGl2ZSA9PSBncm91cHMubGVuZ3RoICUgMjtcbiAgICBmb3IgKHZhciBpID0gZ3JvdXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdyb3VwLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGdyb3VwW2pdO1xuXG4gICAgICAgIC8vIGxpbmsgZWFjaCBncm91cFxuICAgICAgICBpZiAoY3VyR3JvdXBEZWNsYXJhdGl2ZSlcbiAgICAgICAgICBsaW5rRGVjbGFyYXRpdmVNb2R1bGUoZW50cnksIGxvYWRlcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBsaW5rRHluYW1pY01vZHVsZShlbnRyeSwgbG9hZGVyKTtcbiAgICAgIH1cbiAgICAgIGN1ckdyb3VwRGVjbGFyYXRpdmUgPSAhY3VyR3JvdXBEZWNsYXJhdGl2ZTsgXG4gICAgfVxuICB9XG5cbiAgLy8gbW9kdWxlIGJpbmRpbmcgcmVjb3Jkc1xuICBmdW5jdGlvbiBNb2R1bGUoKSB7fVxuICBkZWZpbmVQcm9wZXJ0eShNb2R1bGUsICd0b1N0cmluZycsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ01vZHVsZSc7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRPckNyZWF0ZU1vZHVsZVJlY29yZChuYW1lLCBtb2R1bGVSZWNvcmRzKSB7XG4gICAgcmV0dXJuIG1vZHVsZVJlY29yZHNbbmFtZV0gfHwgKG1vZHVsZVJlY29yZHNbbmFtZV0gPSB7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgIGV4cG9ydHM6IG5ldyBNb2R1bGUoKSwgLy8gc3RhcnQgZnJvbSBhbiBlbXB0eSBtb2R1bGUgYW5kIGV4dGVuZFxuICAgICAgaW1wb3J0ZXJzOiBbXVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlua0RlY2xhcmF0aXZlTW9kdWxlKGVudHJ5LCBsb2FkZXIpIHtcbiAgICAvLyBvbmx5IGxpbmsgaWYgYWxyZWFkeSBub3QgYWxyZWFkeSBzdGFydGVkIGxpbmtpbmcgKHN0b3BzIGF0IGNpcmN1bGFyKVxuICAgIGlmIChlbnRyeS5tb2R1bGUpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgbW9kdWxlUmVjb3JkcyA9IGxvYWRlci5fbG9hZGVyLm1vZHVsZVJlY29yZHM7XG4gICAgdmFyIG1vZHVsZSA9IGVudHJ5Lm1vZHVsZSA9IGdldE9yQ3JlYXRlTW9kdWxlUmVjb3JkKGVudHJ5Lm5hbWUsIG1vZHVsZVJlY29yZHMpO1xuICAgIHZhciBleHBvcnRzID0gZW50cnkubW9kdWxlLmV4cG9ydHM7XG5cbiAgICB2YXIgZGVjbGFyYXRpb24gPSBlbnRyeS5kZWNsYXJlLmNhbGwoX19nbG9iYWwsIGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICBtb2R1bGUubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbmFtZSlcbiAgICAgICAgICBleHBvcnRzW3BdID0gbmFtZVtwXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBleHBvcnRzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbW9kdWxlLmltcG9ydGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGltcG9ydGVyTW9kdWxlID0gbW9kdWxlLmltcG9ydGVyc1tpXTtcbiAgICAgICAgaWYgKCFpbXBvcnRlck1vZHVsZS5sb2NrZWQpIHtcbiAgICAgICAgICB2YXIgaW1wb3J0ZXJJbmRleCA9IGluZGV4T2YuY2FsbChpbXBvcnRlck1vZHVsZS5kZXBlbmRlbmNpZXMsIG1vZHVsZSk7XG4gICAgICAgICAgaW1wb3J0ZXJNb2R1bGUuc2V0dGVyc1tpbXBvcnRlckluZGV4XShleHBvcnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtb2R1bGUubG9ja2VkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSwgeyBpZDogZW50cnkubmFtZSB9KTtcbiAgICBcbiAgICBtb2R1bGUuc2V0dGVycyA9IGRlY2xhcmF0aW9uLnNldHRlcnM7XG4gICAgbW9kdWxlLmV4ZWN1dGUgPSBkZWNsYXJhdGlvbi5leGVjdXRlO1xuXG4gICAgaWYgKCFtb2R1bGUuc2V0dGVycyB8fCAhbW9kdWxlLmV4ZWN1dGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgU3lzdGVtLnJlZ2lzdGVyIGZvcm0gZm9yICcgKyBlbnRyeS5uYW1lKTtcbiAgICB9XG5cbiAgICAvLyBub3cgbGluayBhbGwgdGhlIG1vZHVsZSBkZXBlbmRlbmNpZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGRlcE5hbWUgPSBlbnRyeS5ub3JtYWxpemVkRGVwc1tpXTtcbiAgICAgIHZhciBkZXBFbnRyeSA9IGxvYWRlci5kZWZpbmVkW2RlcE5hbWVdO1xuICAgICAgdmFyIGRlcE1vZHVsZSA9IG1vZHVsZVJlY29yZHNbZGVwTmFtZV07XG5cbiAgICAgIC8vIHdvcmsgb3V0IGhvdyB0byBzZXQgZGVwRXhwb3J0cyBiYXNlZCBvbiBzY2VuYXJpb3MuLi5cbiAgICAgIHZhciBkZXBFeHBvcnRzO1xuXG4gICAgICBpZiAoZGVwTW9kdWxlKSB7XG4gICAgICAgIGRlcEV4cG9ydHMgPSBkZXBNb2R1bGUuZXhwb3J0cztcbiAgICAgIH1cbiAgICAgIC8vIGR5bmFtaWMsIGFscmVhZHkgbGlua2VkIGluIG91ciByZWdpc3RyeVxuICAgICAgZWxzZSBpZiAoZGVwRW50cnkgJiYgIWRlcEVudHJ5LmRlY2xhcmF0aXZlKSB7XG4gICAgICAgIGRlcEV4cG9ydHMgPSBkZXBFbnRyeS5lc01vZHVsZTtcbiAgICAgIH1cbiAgICAgIC8vIGluIHRoZSBsb2FkZXIgcmVnaXN0cnlcbiAgICAgIGVsc2UgaWYgKCFkZXBFbnRyeSkge1xuICAgICAgICBkZXBFeHBvcnRzID0gbG9hZGVyLmdldChkZXBOYW1lKTtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGhhdmUgYW4gZW50cnkgLT4gbGlua1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxpbmtEZWNsYXJhdGl2ZU1vZHVsZShkZXBFbnRyeSwgbG9hZGVyKTtcbiAgICAgICAgZGVwTW9kdWxlID0gZGVwRW50cnkubW9kdWxlO1xuICAgICAgICBkZXBFeHBvcnRzID0gZGVwTW9kdWxlLmV4cG9ydHM7XG4gICAgICB9XG5cbiAgICAgIC8vIG9ubHkgZGVjbGFyYXRpdmUgbW9kdWxlcyBoYXZlIGR5bmFtaWMgYmluZGluZ3NcbiAgICAgIGlmIChkZXBNb2R1bGUgJiYgZGVwTW9kdWxlLmltcG9ydGVycykge1xuICAgICAgICBkZXBNb2R1bGUuaW1wb3J0ZXJzLnB1c2gobW9kdWxlKTtcbiAgICAgICAgbW9kdWxlLmRlcGVuZGVuY2llcy5wdXNoKGRlcE1vZHVsZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbW9kdWxlLmRlcGVuZGVuY2llcy5wdXNoKG51bGwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBydW4gc2V0dGVycyBmb3IgYWxsIGVudHJpZXMgd2l0aCB0aGUgbWF0Y2hpbmcgZGVwZW5kZW5jeSBuYW1lXG4gICAgICB2YXIgb3JpZ2luYWxJbmRpY2VzID0gZW50cnkub3JpZ2luYWxJbmRpY2VzW2ldO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIGxlbiA9IG9yaWdpbmFsSW5kaWNlcy5sZW5ndGg7IGogPCBsZW47ICsraikge1xuICAgICAgICB2YXIgaW5kZXggPSBvcmlnaW5hbEluZGljZXNbal07XG4gICAgICAgIGlmIChtb2R1bGUuc2V0dGVyc1tpbmRleF0pIHtcbiAgICAgICAgICBtb2R1bGUuc2V0dGVyc1tpbmRleF0oZGVwRXhwb3J0cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBbiBhbmFsb2cgdG8gbG9hZGVyLmdldCBjb3ZlcmluZyBleGVjdXRpb24gb2YgYWxsIHRocmVlIGxheWVycyAocmVhbCBkZWNsYXJhdGl2ZSwgc2ltdWxhdGVkIGRlY2xhcmF0aXZlLCBzaW11bGF0ZWQgZHluYW1pYylcbiAgZnVuY3Rpb24gZ2V0TW9kdWxlKG5hbWUsIGxvYWRlcikge1xuICAgIHZhciBleHBvcnRzO1xuICAgIHZhciBlbnRyeSA9IGxvYWRlci5kZWZpbmVkW25hbWVdO1xuXG4gICAgaWYgKCFlbnRyeSkge1xuICAgICAgZXhwb3J0cyA9IGxvYWRlci5nZXQobmFtZSk7XG4gICAgICBpZiAoIWV4cG9ydHMpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvYWQgZGVwZW5kZW5jeSAnICsgbmFtZSArICcuJyk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICBpZiAoZW50cnkuZGVjbGFyYXRpdmUpXG4gICAgICAgIGVuc3VyZUV2YWx1YXRlZChuYW1lLCBbXSwgbG9hZGVyKTtcbiAgICBcbiAgICAgIGVsc2UgaWYgKCFlbnRyeS5ldmFsdWF0ZWQpXG4gICAgICAgIGxpbmtEeW5hbWljTW9kdWxlKGVudHJ5LCBsb2FkZXIpO1xuXG4gICAgICBleHBvcnRzID0gZW50cnkubW9kdWxlLmV4cG9ydHM7XG4gICAgfVxuXG4gICAgaWYgKCghZW50cnkgfHwgZW50cnkuZGVjbGFyYXRpdmUpICYmIGV4cG9ydHMgJiYgZXhwb3J0cy5fX3VzZURlZmF1bHQpXG4gICAgICByZXR1cm4gZXhwb3J0c1snZGVmYXVsdCddO1xuICAgIFxuICAgIHJldHVybiBleHBvcnRzO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlua0R5bmFtaWNNb2R1bGUoZW50cnksIGxvYWRlcikge1xuICAgIGlmIChlbnRyeS5tb2R1bGUpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgZXhwb3J0cyA9IHt9O1xuXG4gICAgdmFyIG1vZHVsZSA9IGVudHJ5Lm1vZHVsZSA9IHsgZXhwb3J0czogZXhwb3J0cywgaWQ6IGVudHJ5Lm5hbWUgfTtcblxuICAgIC8vIEFNRCByZXF1aXJlcyBleGVjdXRlIHRoZSB0cmVlIGZpcnN0XG4gICAgaWYgKCFlbnRyeS5leGVjdXRpbmdSZXF1aXJlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgZGVwTmFtZSA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzW2ldO1xuICAgICAgICAvLyB3ZSBrbm93IHdlIG9ubHkgbmVlZCB0byBsaW5rIGR5bmFtaWMgZHVlIHRvIGxpbmtpbmcgYWxnb3JpdGhtXG4gICAgICAgIHZhciBkZXBFbnRyeSA9IGxvYWRlci5kZWZpbmVkW2RlcE5hbWVdO1xuICAgICAgICBpZiAoZGVwRW50cnkpXG4gICAgICAgICAgbGlua0R5bmFtaWNNb2R1bGUoZGVwRW50cnksIGxvYWRlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IGV4ZWN1dGVcbiAgICBlbnRyeS5ldmFsdWF0ZWQgPSB0cnVlO1xuICAgIHZhciBvdXRwdXQgPSBlbnRyeS5leGVjdXRlLmNhbGwoX19nbG9iYWwsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZW50cnkuZGVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGVudHJ5LmRlcHNbaV0gIT0gbmFtZSlcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIGdldE1vZHVsZShlbnRyeS5ub3JtYWxpemVkRGVwc1tpXSwgbG9hZGVyKTtcbiAgICAgIH1cbiAgICAgIC8vIHRyeSBhbmQgbm9ybWFsaXplIHRoZSBkZXBlbmRlbmN5IHRvIHNlZSBpZiB3ZSBoYXZlIGFub3RoZXIgZm9ybVxuICAgICAgdmFyIG5hbWVOb3JtYWxpemVkID0gbG9hZGVyLm5vcm1hbGl6ZVN5bmMobmFtZSwgZW50cnkubmFtZSk7XG4gICAgICBpZiAoaW5kZXhPZi5jYWxsKGVudHJ5Lm5vcm1hbGl6ZWREZXBzLCBuYW1lTm9ybWFsaXplZCkgIT0gLTEpXG4gICAgICAgIHJldHVybiBnZXRNb2R1bGUobmFtZU5vcm1hbGl6ZWQsIGxvYWRlcik7XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcignTW9kdWxlICcgKyBuYW1lICsgJyBub3QgZGVjbGFyZWQgYXMgYSBkZXBlbmRlbmN5IG9mICcgKyBlbnRyeS5uYW1lKTtcbiAgICB9LCBleHBvcnRzLCBtb2R1bGUpO1xuICAgIFxuICAgIGlmIChvdXRwdXQpXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IG91dHB1dDtcblxuICAgIC8vIGNyZWF0ZSB0aGUgZXNNb2R1bGUgb2JqZWN0LCB3aGljaCBhbGxvd3MgRVM2IG5hbWVkIGltcG9ydHMgb2YgZHluYW1pY3NcbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHM7XG5cbiAgICAvLyBfX2VzTW9kdWxlIGZsYWcgdHJlYXRzIGFzIGFscmVhZHktbmFtZWRcbiAgICBpZiAoZXhwb3J0cyAmJiBleHBvcnRzLl9fZXNNb2R1bGUpXG4gICAgICBlbnRyeS5lc01vZHVsZSA9IGV4cG9ydHM7XG4gICAgLy8gc2V0IG1vZHVsZSBhcyAnZGVmYXVsdCcgZXhwb3J0LCB0aGVuIGZha2UgbmFtZWQgZXhwb3J0cyBieSBpdGVyYXRpbmcgcHJvcGVydGllc1xuICAgIGVsc2UgaWYgKGVudHJ5LmVzbUV4cG9ydHMgJiYgZXhwb3J0cyAhPT0gX19nbG9iYWwpXG4gICAgICBlbnRyeS5lc01vZHVsZSA9IGdldEVTTW9kdWxlKGV4cG9ydHMpO1xuICAgIC8vIGp1c3QgdXNlIHRoZSAnZGVmYXVsdCcgZXhwb3J0XG4gICAgZWxzZVxuICAgICAgZW50cnkuZXNNb2R1bGUgPSB7ICdkZWZhdWx0JzogZXhwb3J0cyB9O1xuICB9XG5cbiAgLypcbiAgICogR2l2ZW4gYSBtb2R1bGUsIGFuZCB0aGUgbGlzdCBvZiBtb2R1bGVzIGZvciB0aGlzIGN1cnJlbnQgYnJhbmNoLFxuICAgKiAgZW5zdXJlIHRoYXQgZWFjaCBvZiB0aGUgZGVwZW5kZW5jaWVzIG9mIHRoaXMgbW9kdWxlIGlzIGV2YWx1YXRlZFxuICAgKiAgKHVubGVzcyBvbmUgaXMgYSBjaXJjdWxhciBkZXBlbmRlbmN5IGFscmVhZHkgaW4gdGhlIGxpc3Qgb2Ygc2VlblxuICAgKiAgbW9kdWxlcywgaW4gd2hpY2ggY2FzZSB3ZSBleGVjdXRlIGl0KVxuICAgKlxuICAgKiBUaGVuIHdlIGV2YWx1YXRlIHRoZSBtb2R1bGUgaXRzZWxmIGRlcHRoLWZpcnN0IGxlZnQgdG8gcmlnaHQgXG4gICAqIGV4ZWN1dGlvbiB0byBtYXRjaCBFUzYgbW9kdWxlc1xuICAgKi9cbiAgZnVuY3Rpb24gZW5zdXJlRXZhbHVhdGVkKG1vZHVsZU5hbWUsIHNlZW4sIGxvYWRlcikge1xuICAgIHZhciBlbnRyeSA9IGxvYWRlci5kZWZpbmVkW21vZHVsZU5hbWVdO1xuXG4gICAgLy8gaWYgYWxyZWFkeSBzZWVuLCB0aGF0IG1lYW5zIGl0J3MgYW4gYWxyZWFkeS1ldmFsdWF0ZWQgbm9uIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICBpZiAoIWVudHJ5IHx8IGVudHJ5LmV2YWx1YXRlZCB8fCAhZW50cnkuZGVjbGFyYXRpdmUpXG4gICAgICByZXR1cm47XG5cbiAgICAvLyB0aGlzIG9ubHkgYXBwbGllcyB0byBkZWNsYXJhdGl2ZSBtb2R1bGVzIHdoaWNoIGxhdGUtZXhlY3V0ZVxuXG4gICAgc2Vlbi5wdXNoKG1vZHVsZU5hbWUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBlbnRyeS5ub3JtYWxpemVkRGVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBkZXBOYW1lID0gZW50cnkubm9ybWFsaXplZERlcHNbaV07XG4gICAgICBpZiAoaW5kZXhPZi5jYWxsKHNlZW4sIGRlcE5hbWUpID09IC0xKSB7XG4gICAgICAgIGlmICghbG9hZGVyLmRlZmluZWRbZGVwTmFtZV0pXG4gICAgICAgICAgbG9hZGVyLmdldChkZXBOYW1lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGVuc3VyZUV2YWx1YXRlZChkZXBOYW1lLCBzZWVuLCBsb2FkZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeS5ldmFsdWF0ZWQpXG4gICAgICByZXR1cm47XG5cbiAgICBlbnRyeS5ldmFsdWF0ZWQgPSB0cnVlO1xuICAgIGVudHJ5Lm1vZHVsZS5leGVjdXRlLmNhbGwoX19nbG9iYWwpO1xuICB9XG5cbiAgLy8gb3ZlcnJpZGUgdGhlIGRlbGV0ZSBtZXRob2QgdG8gYWxzbyBjbGVhciB0aGUgcmVnaXN0ZXIgY2FjaGVzXG4gIGhvb2soJ2RlbGV0ZScsIGZ1bmN0aW9uKGRlbCkge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBkZWxldGUgdGhpcy5fbG9hZGVyLm1vZHVsZVJlY29yZHNbbmFtZV07XG4gICAgICBkZWxldGUgdGhpcy5kZWZpbmVkW25hbWVdO1xuICAgICAgcmV0dXJuIGRlbC5jYWxsKHRoaXMsIG5hbWUpO1xuICAgIH07XG4gIH0pO1xuXG4gIGhvb2soJ2ZldGNoJywgZnVuY3Rpb24oZmV0Y2gpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgaWYgKHRoaXMuZGVmaW5lZFtsb2FkLm5hbWVdKSB7XG4gICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ2RlZmluZWQnO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIGxvYWQubWV0YWRhdGEuZGVwcyA9IGxvYWQubWV0YWRhdGEuZGVwcyB8fCBbXTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGZldGNoLmNhbGwodGhpcywgbG9hZCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9vaygndHJhbnNsYXRlJywgZnVuY3Rpb24odHJhbnNsYXRlKSB7XG4gICAgLy8gd2UgcnVuIHRoZSBtZXRhIGRldGVjdGlvbiBoZXJlIChyZWdpc3RlciBpcyBhZnRlciBtZXRhKVxuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICBsb2FkLm1ldGFkYXRhLmRlcHMgPSBsb2FkLm1ldGFkYXRhLmRlcHMgfHwgW107XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRyYW5zbGF0ZS5jYWxsKHRoaXMsIGxvYWQpKS50aGVuKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICAvLyBydW4gZGV0ZWN0aW9uIGZvciByZWdpc3RlciBmb3JtYXRcbiAgICAgICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdyZWdpc3RlcicgfHwgIWxvYWQubWV0YWRhdGEuZm9ybWF0ICYmIGRldGVjdFJlZ2lzdGVyRm9ybWF0KGxvYWQuc291cmNlKSlcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmZvcm1hdCA9ICdyZWdpc3Rlcic7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICBob29rKCdpbnN0YW50aWF0ZScsIGZ1bmN0aW9uKGluc3RhbnRpYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAnZGV0ZWN0JylcbiAgICAgICAgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIGFzc3VtZXMgcHJldmlvdXMgaW5zdGFudGlhdGUgaXMgc3luY1xuICAgICAgLy8gKGNvcmUganNvbiBzdXBwb3J0KVxuICAgICAgaW5zdGFudGlhdGUuY2FsbCh0aGlzLCBsb2FkKTtcblxuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG5cbiAgICAgIHZhciBlbnRyeTtcblxuICAgICAgLy8gZmlyc3Qgd2UgY2hlY2sgaWYgdGhpcyBtb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGluIHRoZSByZWdpc3RyeVxuICAgICAgaWYgKGxvYWRlci5kZWZpbmVkW2xvYWQubmFtZV0pIHtcbiAgICAgICAgZW50cnkgPSBsb2FkZXIuZGVmaW5lZFtsb2FkLm5hbWVdO1xuICAgICAgICAvLyBkb24ndCBzdXBwb3J0IGRlcHMgZm9yIEVTIG1vZHVsZXNcbiAgICAgICAgaWYgKCFlbnRyeS5kZWNsYXJhdGl2ZSlcbiAgICAgICAgICBlbnRyeS5kZXBzID0gZW50cnkuZGVwcy5jb25jYXQobG9hZC5tZXRhZGF0YS5kZXBzKTtcbiAgICAgIH1cblxuICAgICAgLy8gcGlja2VkIHVwIGFscmVhZHkgYnkgYW4gYW5vbnltb3VzIFN5c3RlbS5yZWdpc3RlciBzY3JpcHQgaW5qZWN0aW9uXG4gICAgICAvLyBvciB2aWEgdGhlIGR5bmFtaWMgZm9ybWF0c1xuICAgICAgZWxzZSBpZiAobG9hZC5tZXRhZGF0YS5lbnRyeSkge1xuICAgICAgICBlbnRyeSA9IGxvYWQubWV0YWRhdGEuZW50cnk7XG4gICAgICAgIGVudHJ5LmRlcHMgPSBlbnRyeS5kZXBzLmNvbmNhdChsb2FkLm1ldGFkYXRhLmRlcHMpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb250YWlucyBTeXN0ZW0ucmVnaXN0ZXIgY2FsbHNcbiAgICAgIC8vIChkb250IHJ1biBidW5kbGVzIGluIHRoZSBidWlsZGVyKVxuICAgICAgZWxzZSBpZiAoIShsb2FkZXIuYnVpbGRlciAmJiBsb2FkLm1ldGFkYXRhLmJ1bmRsZSkgXG4gICAgICAgICAgJiYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdyZWdpc3RlcicgfHwgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ2VzbScgfHwgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ2VzNicpKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAodHlwZW9mIF9fZXhlYyAhPSAndW5kZWZpbmVkJylcbiAgICAgICAgICBfX2V4ZWMuY2FsbChsb2FkZXIsIGxvYWQpO1xuXG4gICAgICAgIGlmICghbG9hZC5tZXRhZGF0YS5lbnRyeSAmJiAhbG9hZC5tZXRhZGF0YS5idW5kbGUpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGxvYWQubmFtZSArICcgZGV0ZWN0ZWQgYXMgJyArIGxvYWQubWV0YWRhdGEuZm9ybWF0ICsgJyBidXQgZGlkblxcJ3QgZXhlY3V0ZS4nKTtcblxuICAgICAgICBlbnRyeSA9IGxvYWQubWV0YWRhdGEuZW50cnk7XG5cbiAgICAgICAgLy8gc3VwcG9ydCBtZXRhZGF0YSBkZXBzIGZvciBTeXN0ZW0ucmVnaXN0ZXJcbiAgICAgICAgaWYgKGVudHJ5ICYmIGxvYWQubWV0YWRhdGEuZGVwcylcbiAgICAgICAgICBlbnRyeS5kZXBzID0gZW50cnkuZGVwcy5jb25jYXQobG9hZC5tZXRhZGF0YS5kZXBzKTtcbiAgICAgIH1cblxuICAgICAgLy8gbmFtZWQgYnVuZGxlcyBhcmUganVzdCBhbiBlbXB0eSBtb2R1bGVcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgICAgICBlbnRyeS5kZXBzID0gbG9hZC5tZXRhZGF0YS5kZXBzO1xuICAgICAgICBlbnRyeS5leGVjdXRlID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIH1cblxuICAgICAgLy8gcGxhY2UgdGhpcyBtb2R1bGUgb250byBkZWZpbmVkIGZvciBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgICBsb2FkZXIuZGVmaW5lZFtsb2FkLm5hbWVdID0gZW50cnk7XG4gICAgICBcbiAgICAgIHZhciBncm91cGVkID0gZ3JvdXAoZW50cnkuZGVwcyk7XG4gICAgICBcbiAgICAgIGVudHJ5LmRlcHMgPSBncm91cGVkLm5hbWVzO1xuICAgICAgZW50cnkub3JpZ2luYWxJbmRpY2VzID0gZ3JvdXBlZC5pbmRpY2VzO1xuICAgICAgZW50cnkubmFtZSA9IGxvYWQubmFtZTtcbiAgICAgIGVudHJ5LmVzbUV4cG9ydHMgPSBsb2FkLm1ldGFkYXRhLmVzbUV4cG9ydHMgIT09IGZhbHNlO1xuXG4gICAgICAvLyBmaXJzdCwgbm9ybWFsaXplIGFsbCBkZXBlbmRlbmNpZXNcbiAgICAgIHZhciBub3JtYWxpemVQcm9taXNlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBlbnRyeS5kZXBzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgbm9ybWFsaXplUHJvbWlzZXMucHVzaChQcm9taXNlLnJlc29sdmUobG9hZGVyLm5vcm1hbGl6ZShlbnRyeS5kZXBzW2ldLCBsb2FkLm5hbWUpKSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChub3JtYWxpemVQcm9taXNlcykudGhlbihmdW5jdGlvbihub3JtYWxpemVkRGVwcykge1xuXG4gICAgICAgIGVudHJ5Lm5vcm1hbGl6ZWREZXBzID0gbm9ybWFsaXplZERlcHM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXBzOiBlbnRyeS5kZXBzLFxuICAgICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgZW5zdXJlIHRoYXQgdGhlIG1vZHVsZSBhbmQgYWxsIGl0cyBcbiAgICAgICAgICAgIC8vIGRlcGVuZGVuY2llcyBhcmUgbGlua2VkICh3aXRoIGRlcGVuZGVuY3kgZ3JvdXAgaGFuZGxpbmcpXG4gICAgICAgICAgICBsaW5rKGxvYWQubmFtZSwgbG9hZGVyKTtcblxuICAgICAgICAgICAgLy8gbm93IGhhbmRsZSBkZXBlbmRlbmN5IGV4ZWN1dGlvbiBpbiBjb3JyZWN0IG9yZGVyXG4gICAgICAgICAgICBlbnN1cmVFdmFsdWF0ZWQobG9hZC5uYW1lLCBbXSwgbG9hZGVyKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHJlZ2lzdHJ5XG4gICAgICAgICAgICBsb2FkZXIuZGVmaW5lZFtsb2FkLm5hbWVdID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGRlZmluZWQgbW9kdWxlIG9iamVjdFxuICAgICAgICAgICAgcmV0dXJuIGxvYWRlci5uZXdNb2R1bGUoZW50cnkuZGVjbGFyYXRpdmUgPyBlbnRyeS5tb2R1bGUuZXhwb3J0cyA6IGVudHJ5LmVzTW9kdWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcbn0pKCk7XG5ob29rKCdyZWR1Y2VSZWdpc3Rlcl8nLCBmdW5jdGlvbihyZWR1Y2VSZWdpc3Rlcikge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCwgcmVnaXN0ZXIpIHtcbiAgICBpZiAocmVnaXN0ZXIgfHwgIWxvYWQubWV0YWRhdGEuZXhwb3J0cylcbiAgICAgIHJldHVybiByZWR1Y2VSZWdpc3Rlci5jYWxsKHRoaXMsIGxvYWQsIHJlZ2lzdGVyKTtcblxuICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ2dsb2JhbCc7XG4gICAgdmFyIGVudHJ5ID0gbG9hZC5tZXRhZGF0YS5lbnRyeSA9IGNyZWF0ZUVudHJ5KCk7XG4gICAgZW50cnkuZGVwcyA9IGxvYWQubWV0YWRhdGEuZGVwcztcbiAgICB2YXIgZ2xvYmFsVmFsdWUgPSByZWFkTWVtYmVyRXhwcmVzc2lvbihsb2FkLm1ldGFkYXRhLmV4cG9ydHMsIF9fZ2xvYmFsKTtcbiAgICBlbnRyeS5leGVjdXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsVmFsdWU7XG4gICAgfTtcbiAgfTtcbn0pO1xuXG5ob29rQ29uc3RydWN0b3IoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgIGNvbnN0cnVjdG9yLmNhbGwobG9hZGVyKTtcblxuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgICAvLyBiYXJlIG1pbmltdW0gaWdub3JlcyBmb3IgSUU4XG4gICAgdmFyIGlnbm9yZWRHbG9iYWxQcm9wcyA9IFsnX2cnLCAnc2Vzc2lvblN0b3JhZ2UnLCAnbG9jYWxTdG9yYWdlJywgJ2NsaXBib2FyZERhdGEnLCAnZnJhbWVzJywgJ2ZyYW1lRWxlbWVudCcsICdleHRlcm5hbCcsIFxuICAgICAgJ21vekFuaW1hdGlvblN0YXJ0VGltZScsICd3ZWJraXRTdG9yYWdlSW5mbycsICd3ZWJraXRJbmRleGVkREInLCAnbW96SW5uZXJTY3JlZW5ZJywgJ21veklubmVyU2NyZWVuWCddO1xuXG4gICAgdmFyIGdsb2JhbFNuYXBzaG90O1xuXG4gICAgZnVuY3Rpb24gZm9yRWFjaEdsb2JhbChjYWxsYmFjaykge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKVxuICAgICAgICBPYmplY3Qua2V5cyhfX2dsb2JhbCkuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgICBlbHNlXG4gICAgICAgIGZvciAodmFyIGcgaW4gX19nbG9iYWwpIHtcbiAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoX19nbG9iYWwsIGcpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FsbGJhY2soZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JFYWNoR2xvYmFsVmFsdWUoY2FsbGJhY2spIHtcbiAgICAgIGZvckVhY2hHbG9iYWwoZnVuY3Rpb24oZ2xvYmFsTmFtZSkge1xuICAgICAgICBpZiAoaW5kZXhPZi5jYWxsKGlnbm9yZWRHbG9iYWxQcm9wcywgZ2xvYmFsTmFtZSkgIT0gLTEpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IF9fZ2xvYmFsW2dsb2JhbE5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgaWdub3JlZEdsb2JhbFByb3BzLnB1c2goZ2xvYmFsTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soZ2xvYmFsTmFtZSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZGVyLnNldCgnQEBnbG9iYWwtaGVscGVycycsIGxvYWRlci5uZXdNb2R1bGUoe1xuICAgICAgcHJlcGFyZUdsb2JhbDogZnVuY3Rpb24obW9kdWxlTmFtZSwgZXhwb3J0TmFtZSwgZ2xvYmFscykge1xuICAgICAgICAvLyBkaXNhYmxlIG1vZHVsZSBkZXRlY3Rpb25cbiAgICAgICAgdmFyIGN1ckRlZmluZSA9IF9fZ2xvYmFsLmRlZmluZTtcbiAgICAgICAgXG4gICAgICAgIF9fZ2xvYmFsLmRlZmluZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBzZXQgZ2xvYmFsc1xuICAgICAgICB2YXIgb2xkR2xvYmFscztcbiAgICAgICAgaWYgKGdsb2JhbHMpIHtcbiAgICAgICAgICBvbGRHbG9iYWxzID0ge307XG4gICAgICAgICAgZm9yICh2YXIgZyBpbiBnbG9iYWxzKSB7XG4gICAgICAgICAgICBvbGRHbG9iYWxzW2ddID0gX19nbG9iYWxbZ107XG4gICAgICAgICAgICBfX2dsb2JhbFtnXSA9IGdsb2JhbHNbZ107XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcmUgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnbG9iYWwgb2JqZWN0IGluIG9yZGVyIHRvIGRldGVjdCBjaGFuZ2VzXG4gICAgICAgIGlmICghZXhwb3J0TmFtZSkge1xuICAgICAgICAgIGdsb2JhbFNuYXBzaG90ID0ge307XG5cbiAgICAgICAgICBmb3JFYWNoR2xvYmFsVmFsdWUoZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGdsb2JhbFNuYXBzaG90W25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXR1cm4gZnVuY3Rpb24gdG8gcmV0cmlldmUgZ2xvYmFsXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgZ2xvYmFsVmFsdWU7XG5cbiAgICAgICAgICBpZiAoZXhwb3J0TmFtZSkge1xuICAgICAgICAgICAgZ2xvYmFsVmFsdWUgPSByZWFkTWVtYmVyRXhwcmVzc2lvbihleHBvcnROYW1lLCBfX2dsb2JhbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNpbmdsZUdsb2JhbDtcbiAgICAgICAgICAgIHZhciBtdWx0aXBsZUV4cG9ydHM7XG4gICAgICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xuXG4gICAgICAgICAgICBmb3JFYWNoR2xvYmFsVmFsdWUoZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGdsb2JhbFNuYXBzaG90W25hbWVdID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICBleHBvcnRzW25hbWVdID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzaW5nbGVHbG9iYWwgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW11bHRpcGxlRXhwb3J0cyAmJiBzaW5nbGVHbG9iYWwgIT09IHZhbHVlKVxuICAgICAgICAgICAgICAgICAgbXVsdGlwbGVFeHBvcnRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaW5nbGVHbG9iYWwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBnbG9iYWxWYWx1ZSA9IG11bHRpcGxlRXhwb3J0cyA/IGV4cG9ydHMgOiBzaW5nbGVHbG9iYWw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmV2ZXJ0IGdsb2JhbHNcbiAgICAgICAgICBpZiAob2xkR2xvYmFscykge1xuICAgICAgICAgICAgZm9yICh2YXIgZyBpbiBvbGRHbG9iYWxzKVxuICAgICAgICAgICAgICBfX2dsb2JhbFtnXSA9IG9sZEdsb2JhbHNbZ107XG4gICAgICAgICAgfVxuICAgICAgICAgIF9fZ2xvYmFsLmRlZmluZSA9IGN1ckRlZmluZTtcblxuICAgICAgICAgIHJldHVybiBnbG9iYWxWYWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59KTtcbmhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgY29uc3RydWN0b3IuY2FsbChsb2FkZXIpO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhdGlvbilcbiAgICAgIHZhciB3aW5kb3dPcmlnaW4gPSBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0bmFtZSArIChsb2NhdGlvbi5wb3J0ID8gJzonICsgbG9jYXRpb24ucG9ydCA6ICcnKTtcblxuICAgIGxvYWRlci5zZXQoJ0BAY2pzLWhlbHBlcnMnLCBsb2FkZXIubmV3TW9kdWxlKHtcbiAgICAgIGdldFBhdGhWYXJzOiBmdW5jdGlvbihtb2R1bGVJZCkge1xuICAgICAgICAvLyByZW1vdmUgYW55IHBsdWdpbiBzeW50YXhcbiAgICAgICAgdmFyIHBsdWdpbkluZGV4ID0gbW9kdWxlSWQubGFzdEluZGV4T2YoJyEnKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lO1xuICAgICAgICBpZiAocGx1Z2luSW5kZXggIT0gLTEpXG4gICAgICAgICAgZmlsZW5hbWUgPSBtb2R1bGVJZC5zdWJzdHIoMCwgcGx1Z2luSW5kZXgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZmlsZW5hbWUgPSBtb2R1bGVJZDtcblxuICAgICAgICB2YXIgZGlybmFtZSA9IGZpbGVuYW1lLnNwbGl0KCcvJyk7XG4gICAgICAgIGRpcm5hbWUucG9wKCk7XG4gICAgICAgIGRpcm5hbWUgPSBkaXJuYW1lLmpvaW4oJy8nKTtcblxuICAgICAgICBpZiAoZmlsZW5hbWUuc3Vic3RyKDAsIDgpID09ICdmaWxlOi8vLycpIHtcbiAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnN1YnN0cig3KTtcbiAgICAgICAgICBkaXJuYW1lID0gZGlybmFtZS5zdWJzdHIoNyk7XG5cbiAgICAgICAgICAvLyBvbiB3aW5kb3dzIHJlbW92ZSBsZWFkaW5nICcvJ1xuICAgICAgICAgIGlmIChpc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgZGlybmFtZSA9IGRpcm5hbWUuc3Vic3RyKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aW5kb3dPcmlnaW4gJiYgZmlsZW5hbWUuc3Vic3RyKDAsIHdpbmRvd09yaWdpbi5sZW5ndGgpID09PSB3aW5kb3dPcmlnaW4pIHtcbiAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnN1YnN0cih3aW5kb3dPcmlnaW4ubGVuZ3RoKTtcbiAgICAgICAgICBkaXJuYW1lID0gZGlybmFtZS5zdWJzdHIod2luZG93T3JpZ2luLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgICBkaXJuYW1lOiBkaXJuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSkpXG4gIH07XG59KTsvKlxuICogQU1EIEhlbHBlciBmdW5jdGlvbiBtb2R1bGVcbiAqIFNlcGFyYXRlZCBpbnRvIGl0cyBvd24gZmlsZSBhcyB0aGlzIGlzIHRoZSBwYXJ0IG5lZWRlZCBmb3IgZnVsbCBBTUQgc3VwcG9ydCBpbiBTRlggYnVpbGRzXG4gKiBOQiBzaW5jZSBpbXBsZW1lbnRhdGlvbnMgaGF2ZSBub3cgZGl2ZXJnZWQgdGhpcyBjYW4gYmUgbWVyZ2VkIGJhY2sgd2l0aCBhbWQuanNcbiAqL1xuXG5ob29rKCdmZXRjaCcsIGZ1bmN0aW9uKGZldGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgLy8gc2NyaXB0IGxvYWQgaW1wbGllcyBkZWZpbmUgZ2xvYmFsIGxlYWtcbiAgICBpZiAobG9hZC5tZXRhZGF0YS5zY3JpcHRMb2FkICYmIGlzQnJvd3NlcilcbiAgICAgIF9fZ2xvYmFsLmRlZmluZSA9IHRoaXMuYW1kRGVmaW5lO1xuICAgIHJldHVybiBmZXRjaC5jYWxsKHRoaXMsIGxvYWQpO1xuICB9O1xufSk7XG4gXG5ob29rQ29uc3RydWN0b3IoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgIGNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG5cbiAgICB2YXIgY29tbWVudFJlZ0V4ID0gLyhcXC9cXCooW1xcc1xcU10qPylcXCpcXC98KFteOl18XilcXC9cXC8oLiopJCkvbWc7XG4gICAgdmFyIGNqc1JlcXVpcmVQcmUgPSBcIig/Ol58W14kX2EtekEtWlxcXFx4QTAtXFxcXHVGRkZGLl0pXCI7XG4gICAgdmFyIGNqc1JlcXVpcmVQb3N0ID0gXCJcXFxccypcXFxcKFxcXFxzKihcXFwiKFteXFxcIl0rKVxcXCJ8JyhbXiddKyknKVxcXFxzKlxcXFwpXCI7XG4gICAgdmFyIGZuQnJhY2tldFJlZ0V4ID0gL1xcKChbXlxcKV0qKVxcKS87XG4gICAgdmFyIHdzUmVnRXggPSAvXlxccyt8XFxzKyQvZztcbiAgICBcbiAgICB2YXIgcmVxdWlyZVJlZ0V4cyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZ2V0Q0pTRGVwcyhzb3VyY2UsIHJlcXVpcmVJbmRleCkge1xuXG4gICAgICAvLyByZW1vdmUgY29tbWVudHNcbiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKGNvbW1lbnRSZWdFeCwgJycpO1xuXG4gICAgICAvLyBkZXRlcm1pbmUgdGhlIHJlcXVpcmUgYWxpYXNcbiAgICAgIHZhciBwYXJhbXMgPSBzb3VyY2UubWF0Y2goZm5CcmFja2V0UmVnRXgpO1xuICAgICAgdmFyIHJlcXVpcmVBbGlhcyA9IChwYXJhbXNbMV0uc3BsaXQoJywnKVtyZXF1aXJlSW5kZXhdIHx8ICdyZXF1aXJlJykucmVwbGFjZSh3c1JlZ0V4LCAnJyk7XG5cbiAgICAgIC8vIGZpbmQgb3IgZ2VuZXJhdGUgdGhlIHJlZ2V4IGZvciB0aGlzIHJlcXVpcmVBbGlhc1xuICAgICAgdmFyIHJlcXVpcmVSZWdFeCA9IHJlcXVpcmVSZWdFeHNbcmVxdWlyZUFsaWFzXSB8fCAocmVxdWlyZVJlZ0V4c1tyZXF1aXJlQWxpYXNdID0gbmV3IFJlZ0V4cChjanNSZXF1aXJlUHJlICsgcmVxdWlyZUFsaWFzICsgY2pzUmVxdWlyZVBvc3QsICdnJykpO1xuXG4gICAgICByZXF1aXJlUmVnRXgubGFzdEluZGV4ID0gMDtcblxuICAgICAgdmFyIGRlcHMgPSBbXTtcblxuICAgICAgdmFyIG1hdGNoO1xuICAgICAgd2hpbGUgKG1hdGNoID0gcmVxdWlyZVJlZ0V4LmV4ZWMoc291cmNlKSlcbiAgICAgICAgZGVwcy5wdXNoKG1hdGNoWzJdIHx8IG1hdGNoWzNdKTtcblxuICAgICAgcmV0dXJuIGRlcHM7XG4gICAgfVxuXG4gICAgLypcbiAgICAgIEFNRC1jb21wYXRpYmxlIHJlcXVpcmVcbiAgICAgIFRvIGNvcHkgUmVxdWlyZUpTLCBzZXQgd2luZG93LnJlcXVpcmUgPSB3aW5kb3cucmVxdWlyZWpzID0gbG9hZGVyLmFtZFJlcXVpcmVcbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcXVpcmUobmFtZXMsIGNhbGxiYWNrLCBlcnJiYWNrLCByZWZlcmVyKSB7XG4gICAgICAvLyBpbiBhbWQsIGZpcnN0IGFyZyBjYW4gYmUgYSBjb25maWcgb2JqZWN0Li4uIHdlIGp1c3QgaWdub3JlXG4gICAgICBpZiAodHlwZW9mIG5hbWVzID09ICdvYmplY3QnICYmICEobmFtZXMgaW5zdGFuY2VvZiBBcnJheSkpXG4gICAgICAgIHJldHVybiByZXF1aXJlLmFwcGx5KG51bGwsIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDEsIGFyZ3VtZW50cy5sZW5ndGggLSAxKSk7XG5cbiAgICAgIC8vIGFtZCByZXF1aXJlXG4gICAgICBpZiAodHlwZW9mIG5hbWVzID09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBuYW1lcyA9IFtuYW1lc107XG4gICAgICBpZiAobmFtZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YXIgZHluYW1pY1JlcXVpcmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgZHluYW1pY1JlcXVpcmVzLnB1c2gobG9hZGVyWydpbXBvcnQnXShuYW1lc1tpXSwgcmVmZXJlcikpO1xuICAgICAgICBQcm9taXNlLmFsbChkeW5hbWljUmVxdWlyZXMpLnRoZW4oZnVuY3Rpb24obW9kdWxlcykge1xuICAgICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIG1vZHVsZXMpO1xuICAgICAgICB9LCBlcnJiYWNrKTtcbiAgICAgIH1cblxuICAgICAgLy8gY29tbW9uanMgcmVxdWlyZVxuICAgICAgZWxzZSBpZiAodHlwZW9mIG5hbWVzID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBkZWZhdWx0SlNFeHRlbnNpb24gPSBsb2FkZXIuZGVmYXVsdEpTRXh0ZW5zaW9ucyAmJiBuYW1lcy5zdWJzdHIobmFtZXMubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICAgIHZhciBub3JtYWxpemVkID0gbG9hZGVyLmRlY2Fub25pY2FsaXplKG5hbWVzLCByZWZlcmVyKTtcbiAgICAgICAgaWYgKGRlZmF1bHRKU0V4dGVuc2lvbiAmJiBub3JtYWxpemVkLnN1YnN0cihub3JtYWxpemVkLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnN1YnN0cigwLCBub3JtYWxpemVkLmxlbmd0aCAtIDMpO1xuICAgICAgICB2YXIgbW9kdWxlID0gbG9hZGVyLmdldChub3JtYWxpemVkKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgbm90IGFscmVhZHkgbG9hZGVkIGxvYWRpbmcgXCInICsgbmFtZXMgKyAnXCIgZnJvbSBcIicgKyByZWZlcmVyICsgJ1wiLicpO1xuICAgICAgICByZXR1cm4gbW9kdWxlLl9fdXNlRGVmYXVsdCA/IG1vZHVsZVsnZGVmYXVsdCddIDogbW9kdWxlO1xuICAgICAgfVxuXG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcmVxdWlyZScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlZmluZShuYW1lLCBkZXBzLCBmYWN0b3J5KSB7XG4gICAgICBpZiAodHlwZW9mIG5hbWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgZmFjdG9yeSA9IGRlcHM7XG4gICAgICAgIGRlcHMgPSBuYW1lO1xuICAgICAgICBuYW1lID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghKGRlcHMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgZmFjdG9yeSA9IGRlcHM7XG4gICAgICAgIGRlcHMgPSBbJ3JlcXVpcmUnLCAnZXhwb3J0cycsICdtb2R1bGUnXS5zcGxpY2UoMCwgZmFjdG9yeS5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZmFjdG9yeSA9IChmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFjdG9yeTsgfVxuICAgICAgICB9KShmYWN0b3J5KTtcblxuICAgICAgLy8gaW4gSUU4LCBhIHRyYWlsaW5nIGNvbW1hIGJlY29tZXMgYSB0cmFpbGluZyB1bmRlZmluZWQgZW50cnlcbiAgICAgIGlmIChkZXBzW2RlcHMubGVuZ3RoIC0gMV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgZGVwcy5wb3AoKTtcblxuICAgICAgLy8gcmVtb3ZlIHN5c3RlbSBkZXBlbmRlbmNpZXNcbiAgICAgIHZhciByZXF1aXJlSW5kZXgsIGV4cG9ydHNJbmRleCwgbW9kdWxlSW5kZXg7XG4gICAgICBcbiAgICAgIGlmICgocmVxdWlyZUluZGV4ID0gaW5kZXhPZi5jYWxsKGRlcHMsICdyZXF1aXJlJykpICE9IC0xKSB7XG4gICAgICAgIFxuICAgICAgICBkZXBzLnNwbGljZShyZXF1aXJlSW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIG9ubHkgdHJhY2UgY2pzIHJlcXVpcmVzIGZvciBub24tbmFtZWRcbiAgICAgICAgLy8gbmFtZWQgZGVmaW5lcyBhc3N1bWUgdGhlIHRyYWNlIGhhcyBhbHJlYWR5IGJlZW4gZG9uZVxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgZGVwcyA9IGRlcHMuY29uY2F0KGdldENKU0RlcHMoZmFjdG9yeS50b1N0cmluZygpLCByZXF1aXJlSW5kZXgpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKChleHBvcnRzSW5kZXggPSBpbmRleE9mLmNhbGwoZGVwcywgJ2V4cG9ydHMnKSkgIT0gLTEpXG4gICAgICAgIGRlcHMuc3BsaWNlKGV4cG9ydHNJbmRleCwgMSk7XG4gICAgICBcbiAgICAgIGlmICgobW9kdWxlSW5kZXggPSBpbmRleE9mLmNhbGwoZGVwcywgJ21vZHVsZScpKSAhPSAtMSlcbiAgICAgICAgZGVwcy5zcGxpY2UobW9kdWxlSW5kZXgsIDEpO1xuXG4gICAgICBmdW5jdGlvbiBleGVjdXRlKHJlcSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgICAgIHZhciBkZXBWYWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGRlcFZhbHVlcy5wdXNoKHJlcShkZXBzW2ldKSk7XG5cbiAgICAgICAgbW9kdWxlLnVyaSA9IG1vZHVsZS5pZDtcblxuICAgICAgICBtb2R1bGUuY29uZmlnID0gZnVuY3Rpb24oKSB7fTtcblxuICAgICAgICAvLyBhZGQgYmFjayBpbiBzeXN0ZW0gZGVwZW5kZW5jaWVzXG4gICAgICAgIGlmIChtb2R1bGVJbmRleCAhPSAtMSlcbiAgICAgICAgICBkZXBWYWx1ZXMuc3BsaWNlKG1vZHVsZUluZGV4LCAwLCBtb2R1bGUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV4cG9ydHNJbmRleCAhPSAtMSlcbiAgICAgICAgICBkZXBWYWx1ZXMuc3BsaWNlKGV4cG9ydHNJbmRleCwgMCwgZXhwb3J0cyk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVxdWlyZUluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgZnVuY3Rpb24gY29udGV4dHVhbFJlcXVpcmUobmFtZXMsIGNhbGxiYWNrLCBlcnJiYWNrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hbWVzID09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICByZXR1cm4gcmVxKG5hbWVzKTtcbiAgICAgICAgICAgIHJldHVybiByZXF1aXJlLmNhbGwobG9hZGVyLCBuYW1lcywgY2FsbGJhY2ssIGVycmJhY2ssIG1vZHVsZS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHR1YWxSZXF1aXJlLnRvVXJsID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgLy8gbm9ybWFsaXplIHdpdGhvdXQgZGVmYXVsdEpTRXh0ZW5zaW9uc1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIG5hbWUuc3Vic3RyKG5hbWUubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICAgICAgICB2YXIgdXJsID0gbG9hZGVyLmRlY2Fub25pY2FsaXplKG5hbWUsIG1vZHVsZS5pZCk7XG4gICAgICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIHVybC5zdWJzdHIodXJsLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyKDAsIHVybC5sZW5ndGggLSAzKTtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBkZXBWYWx1ZXMuc3BsaWNlKHJlcXVpcmVJbmRleCwgMCwgY29udGV4dHVhbFJlcXVpcmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGdsb2JhbCByZXF1aXJlIHRvIEFNRCByZXF1aXJlXG4gICAgICAgIHZhciBjdXJSZXF1aXJlID0gX19nbG9iYWwucmVxdWlyZTtcbiAgICAgICAgX19nbG9iYWwucmVxdWlyZSA9IHJlcXVpcmU7XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IGZhY3RvcnkuYXBwbHkoZXhwb3J0c0luZGV4ID09IC0xID8gX19nbG9iYWwgOiBleHBvcnRzLCBkZXBWYWx1ZXMpO1xuXG4gICAgICAgIF9fZ2xvYmFsLnJlcXVpcmUgPSBjdXJSZXF1aXJlO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3V0cHV0ID09ICd1bmRlZmluZWQnICYmIG1vZHVsZSlcbiAgICAgICAgICBvdXRwdXQgPSBtb2R1bGUuZXhwb3J0cztcblxuICAgICAgICBpZiAodHlwZW9mIG91dHB1dCAhPSAndW5kZWZpbmVkJylcbiAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgICAgZW50cnkubmFtZSA9IG5hbWUgJiYgKGxvYWRlci5kZWNhbm9uaWNhbGl6ZSB8fCBsb2FkZXIubm9ybWFsaXplKS5jYWxsKGxvYWRlciwgbmFtZSk7XG4gICAgICBlbnRyeS5kZXBzID0gZGVwcztcbiAgICAgIGVudHJ5LmV4ZWN1dGUgPSBleGVjdXRlO1xuXG4gICAgICBsb2FkZXIucHVzaFJlZ2lzdGVyXyh7XG4gICAgICAgIGFtZDogdHJ1ZSxcbiAgICAgICAgZW50cnk6IGVudHJ5XG4gICAgICB9KTtcbiAgICB9XG4gICAgZGVmaW5lLmFtZCA9IHt9O1xuXG4gICAgLy8gcmVkdWN0aW9uIGZ1bmN0aW9uIHRvIGF0dGFjaCBkZWZpbmVzIHRvIGEgbG9hZCByZWNvcmRcbiAgICBob29rKCdyZWR1Y2VSZWdpc3Rlcl8nLCBmdW5jdGlvbihyZWR1Y2VSZWdpc3Rlcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQsIHJlZ2lzdGVyKSB7XG4gICAgICAgIC8vIG9ubHkgaGFuZGxlIEFNRCByZWdpc3RlcnMgaGVyZVxuICAgICAgICBpZiAoIXJlZ2lzdGVyIHx8ICFyZWdpc3Rlci5hbWQpXG4gICAgICAgICAgcmV0dXJuIHJlZHVjZVJlZ2lzdGVyLmNhbGwodGhpcywgbG9hZCwgcmVnaXN0ZXIpO1xuXG4gICAgICAgIHZhciBjdXJNZXRhID0gbG9hZCAmJiBsb2FkLm1ldGFkYXRhO1xuICAgICAgICB2YXIgZW50cnkgPSByZWdpc3Rlci5lbnRyeTtcblxuICAgICAgICBpZiAoY3VyTWV0YSlcbiAgICAgICAgICBjdXJNZXRhLmZvcm1hdCA9ICdhbWQnO1xuXG4gICAgICAgIC8vIGFub255bW91cyBkZWZpbmVcbiAgICAgICAgaWYgKCFlbnRyeS5uYW1lKSB7XG4gICAgICAgICAgaWYgKCFjdXJNZXRhKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCBhbm9ueW1vdXMgQU1EIGRlZmluZS4nKTtcblxuICAgICAgICAgIGlmIChjdXJNZXRhLmVudHJ5ICYmICFjdXJNZXRhLmVudHJ5Lm5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIGFub255bW91cyBkZWZpbmVzIGluIG1vZHVsZSAnICsgbG9hZC5uYW1lKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjdXJNZXRhLmVudHJ5ID0gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFtZWQgZGVmaW5lXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgYW55IG90aGVyIGRlZmluZXMsIFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoaXMgYmUgYW4gYW5vbnltb3VzIGRlZmluZVxuICAgICAgICAgIC8vIHRoaXMgaXMganVzdCB0byBzdXBwb3J0IHNpbmdsZSBtb2R1bGVzIG9mIHRoZSBmb3JtOlxuICAgICAgICAgIC8vIGRlZmluZSgnanF1ZXJ5JylcbiAgICAgICAgICAvLyBzdGlsbCBsb2FkaW5nIGFub255bW91c2x5XG4gICAgICAgICAgLy8gYmVjYXVzZSBpdCBpcyBkb25lIHdpZGVseSBlbm91Z2ggdG8gYmUgdXNlZnVsXG4gICAgICAgICAgLy8gYXMgc29vbiBhcyB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIGRlZmluZSwgdGhpcyBnZXRzIHJlbW92ZWQgdGhvdWdoXG4gICAgICAgICAgaWYgKGN1ck1ldGEpIHtcbiAgICAgICAgICAgIGlmICghY3VyTWV0YS5lbnRyeSAmJiAhY3VyTWV0YS5idW5kbGUpXG4gICAgICAgICAgICAgIGN1ck1ldGEuZW50cnkgPSBlbnRyeTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1ck1ldGEuZW50cnkgJiYgY3VyTWV0YS5lbnRyeS5uYW1lKVxuICAgICAgICAgICAgICBjdXJNZXRhLmVudHJ5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAvLyBub3RlIHRoaXMgaXMgbm93IGEgYnVuZGxlXG4gICAgICAgICAgICBjdXJNZXRhLmJ1bmRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZGVmaW5lIHRoZSBtb2R1bGUgdGhyb3VnaCB0aGUgcmVnaXN0ZXIgcmVnaXN0cnlcbiAgICAgICAgICBpZiAoIShlbnRyeS5uYW1lIGluIHRoaXMuZGVmaW5lZCkpXG4gICAgICAgICAgICB0aGlzLmRlZmluZWRbZW50cnkubmFtZV0gPSBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGxvYWRlci5hbWREZWZpbmUgPSBkZWZpbmU7XG4gICAgbG9hZGVyLmFtZFJlcXVpcmUgPSByZXF1aXJlO1xuICB9O1xufSk7LypcbiAgU3lzdGVtSlMgTG9hZGVyIFBsdWdpbiBTdXBwb3J0XG5cbiAgU3VwcG9ydHMgcGx1Z2luIGxvYWRlciBzeW50YXggd2l0aCBcIiFcIiwgb3IgdmlhIG1ldGFkYXRhLmxvYWRlclxuXG4gIFRoZSBwbHVnaW4gbmFtZSBpcyBsb2FkZWQgYXMgYSBtb2R1bGUgaXRzZWxmLCBhbmQgY2FuIG92ZXJyaWRlIHN0YW5kYXJkIGxvYWRlciBob29rc1xuICBmb3IgdGhlIHBsdWdpbiByZXNvdXJjZS4gU2VlIHRoZSBwbHVnaW4gc2VjdGlvbiBvZiB0aGUgc3lzdGVtanMgcmVhZG1lLlxuKi9cblxuKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBnZXRQYXJlbnROYW1lKGxvYWRlciwgcGFyZW50TmFtZSkge1xuICAgIC8vIGlmIHBhcmVudCBpcyBhIHBsdWdpbiwgbm9ybWFsaXplIGFnYWluc3QgdGhlIHBhcmVudCBwbHVnaW4gYXJndW1lbnQgb25seVxuICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICB2YXIgcGFyZW50UGx1Z2luSW5kZXg7XG4gICAgICBpZiAobG9hZGVyLnBsdWdpbkZpcnN0KSB7XG4gICAgICAgIGlmICgocGFyZW50UGx1Z2luSW5kZXggPSBwYXJlbnROYW1lLmxhc3RJbmRleE9mKCchJykpICE9IC0xKVxuICAgICAgICAgIHJldHVybiBwYXJlbnROYW1lLnN1YnN0cihwYXJlbnRQbHVnaW5JbmRleCArIDEpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICgocGFyZW50UGx1Z2luSW5kZXggPSBwYXJlbnROYW1lLmluZGV4T2YoJyEnKSkgIT0gLTEpXG4gICAgICAgICAgcmV0dXJuIHBhcmVudE5hbWUuc3Vic3RyKDAsIHBhcmVudFBsdWdpbkluZGV4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcmVudE5hbWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VQbHVnaW4obG9hZGVyLCBuYW1lKSB7XG4gICAgdmFyIGFyZ3VtZW50TmFtZTtcbiAgICB2YXIgcGx1Z2luTmFtZTtcblxuICAgIHZhciBwbHVnaW5JbmRleCA9IG5hbWUubGFzdEluZGV4T2YoJyEnKTtcblxuICAgIGlmIChwbHVnaW5JbmRleCA9PSAtMSlcbiAgICAgIHJldHVybjtcblxuICAgIGlmIChsb2FkZXIucGx1Z2luRmlyc3QpIHtcbiAgICAgIGFyZ3VtZW50TmFtZSA9IG5hbWUuc3Vic3RyKHBsdWdpbkluZGV4ICsgMSk7XG4gICAgICBwbHVnaW5OYW1lID0gbmFtZS5zdWJzdHIoMCwgcGx1Z2luSW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFyZ3VtZW50TmFtZSA9IG5hbWUuc3Vic3RyKDAsIHBsdWdpbkluZGV4KTtcbiAgICAgIHBsdWdpbk5hbWUgPSBuYW1lLnN1YnN0cihwbHVnaW5JbmRleCArIDEpIHx8IGFyZ3VtZW50TmFtZS5zdWJzdHIoYXJndW1lbnROYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXJndW1lbnQ6IGFyZ3VtZW50TmFtZSxcbiAgICAgIHBsdWdpbjogcGx1Z2luTmFtZVxuICAgIH07XG4gIH1cblxuICAvLyBwdXQgbmFtZSBiYWNrIHRvZ2V0aGVyIGFmdGVyIHBhcnRzIGhhdmUgYmVlbiBub3JtYWxpemVkXG4gIGZ1bmN0aW9uIGNvbWJpbmVQbHVnaW5QYXJ0cyhsb2FkZXIsIGFyZ3VtZW50TmFtZSwgcGx1Z2luTmFtZSwgZGVmYXVsdEV4dGVuc2lvbikge1xuICAgIGlmIChkZWZhdWx0RXh0ZW5zaW9uICYmIGFyZ3VtZW50TmFtZS5zdWJzdHIoYXJndW1lbnROYW1lLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgYXJndW1lbnROYW1lID0gYXJndW1lbnROYW1lLnN1YnN0cigwLCBhcmd1bWVudE5hbWUubGVuZ3RoIC0gMyk7XG5cbiAgICBpZiAobG9hZGVyLnBsdWdpbkZpcnN0KSB7XG4gICAgICByZXR1cm4gcGx1Z2luTmFtZSArICchJyArIGFyZ3VtZW50TmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gYXJndW1lbnROYW1lICsgJyEnICsgcGx1Z2luTmFtZTtcbiAgICB9XG4gIH1cblxuICAvLyBub3RlIGlmIG5vcm1hbGl6ZSB3aWxsIGFkZCBhIGRlZmF1bHQganMgZXh0ZW5zaW9uXG4gIC8vIGlmIHNvLCByZW1vdmUgZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAgLy8gdGhpcyBpcyBzdHJhbmdlIGFuZCBzdWNrcywgYnV0IHdpbGwgYmUgZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBjaGVja0RlZmF1bHRFeHRlbnNpb24obG9hZGVyLCBhcmcpIHtcbiAgICByZXR1cm4gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgYXJnLnN1YnN0cihhcmcubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7IFxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTm9ybWFsaXplU3luYyhub3JtYWxpemVTeW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIHBhcmVudE5hbWUsIGlzUGx1Z2luKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgIFxuICAgICAgcGFyZW50TmFtZSA9IGdldFBhcmVudE5hbWUodGhpcywgcGFyZW50TmFtZSk7XG4gICAgICB2YXIgcGFyc2VkID0gcGFyc2VQbHVnaW4obG9hZGVyLCBuYW1lKTtcblxuICAgICAgaWYgKCFwYXJzZWQpXG4gICAgICAgIHJldHVybiBub3JtYWxpemVTeW5jLmNhbGwodGhpcywgbmFtZSwgcGFyZW50TmFtZSwgaXNQbHVnaW4pO1xuXG4gICAgICAvLyBpZiB0aGlzIGlzIGEgcGx1Z2luLCBub3JtYWxpemUgdGhlIHBsdWdpbiBuYW1lIGFuZCB0aGUgYXJndW1lbnRcbiAgICAgIHZhciBhcmd1bWVudE5hbWUgPSBsb2FkZXIubm9ybWFsaXplU3luYyhwYXJzZWQuYXJndW1lbnQsIHBhcmVudE5hbWUsIHRydWUpO1xuICAgICAgdmFyIHBsdWdpbk5hbWUgPSBsb2FkZXIubm9ybWFsaXplU3luYyhwYXJzZWQucGx1Z2luLCBwYXJlbnROYW1lLCB0cnVlKTtcbiAgICAgIHJldHVybiBjb21iaW5lUGx1Z2luUGFydHMobG9hZGVyLCBhcmd1bWVudE5hbWUsIHBsdWdpbk5hbWUsIGNoZWNrRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBhcnNlZC5hcmd1bWVudCkpO1xuICAgIH07XG4gIH1cbiAgXG4gIGhvb2soJ2RlY2Fub25pY2FsaXplJywgY3JlYXRlTm9ybWFsaXplU3luYyk7XG4gIGhvb2soJ25vcm1hbGl6ZVN5bmMnLCBjcmVhdGVOb3JtYWxpemVTeW5jKTtcblxuICBob29rKCdub3JtYWxpemUnLCBmdW5jdGlvbihub3JtYWxpemUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obmFtZSwgcGFyZW50TmFtZSwgaXNQbHVnaW4pIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuXG4gICAgICBwYXJlbnROYW1lID0gZ2V0UGFyZW50TmFtZSh0aGlzLCBwYXJlbnROYW1lKTtcblxuICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlUGx1Z2luKGxvYWRlciwgbmFtZSk7XG5cbiAgICAgIGlmICghcGFyc2VkKVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplLmNhbGwobG9hZGVyLCBuYW1lLCBwYXJlbnROYW1lLCBpc1BsdWdpbik7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIGxvYWRlci5ub3JtYWxpemUocGFyc2VkLmFyZ3VtZW50LCBwYXJlbnROYW1lLCB0cnVlKSxcbiAgICAgICAgbG9hZGVyLm5vcm1hbGl6ZShwYXJzZWQucGx1Z2luLCBwYXJlbnROYW1lKVxuICAgICAgXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVQbHVnaW5QYXJ0cyhsb2FkZXIsIG5vcm1hbGl6ZWRbMF0sIG5vcm1hbGl6ZWRbMV0sIGNoZWNrRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBhcnNlZC5hcmd1bWVudCkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBob29rKCdsb2NhdGUnLCBmdW5jdGlvbihsb2NhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG5cbiAgICAgIHZhciBuYW1lID0gbG9hZC5uYW1lO1xuXG4gICAgICAvLyBwbHVnaW4gc3ludGF4XG4gICAgICB2YXIgcGx1Z2luU3ludGF4SW5kZXg7XG4gICAgICBpZiAobG9hZGVyLnBsdWdpbkZpcnN0KSB7XG4gICAgICAgIGlmICgocGx1Z2luU3ludGF4SW5kZXggPSBuYW1lLmluZGV4T2YoJyEnKSkgIT0gLTEpIHtcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmxvYWRlciA9IG5hbWUuc3Vic3RyKDAsIHBsdWdpblN5bnRheEluZGV4KTtcbiAgICAgICAgICBsb2FkLm5hbWUgPSBuYW1lLnN1YnN0cihwbHVnaW5TeW50YXhJbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKChwbHVnaW5TeW50YXhJbmRleCA9IG5hbWUubGFzdEluZGV4T2YoJyEnKSkgIT0gLTEpIHtcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmxvYWRlciA9IG5hbWUuc3Vic3RyKHBsdWdpblN5bnRheEluZGV4ICsgMSk7XG4gICAgICAgICAgbG9hZC5uYW1lID0gbmFtZS5zdWJzdHIoMCwgcGx1Z2luU3ludGF4SW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsb2NhdGUuY2FsbChsb2FkZXIsIGxvYWQpXG4gICAgICAudGhlbihmdW5jdGlvbihhZGRyZXNzKSB7XG4gICAgICAgIHZhciBwbHVnaW4gPSBsb2FkLm1ldGFkYXRhLmxvYWRlcjtcblxuICAgICAgICBpZiAoIXBsdWdpbilcbiAgICAgICAgICByZXR1cm4gYWRkcmVzcztcblxuICAgICAgICAvLyBvbmx5IGZldGNoIHRoZSBwbHVnaW4gaXRzZWxmIGlmIHRoaXMgbmFtZSBpc24ndCBkZWZpbmVkXG4gICAgICAgIGlmIChsb2FkZXIuZGVmaW5lZCAmJiBsb2FkZXIuZGVmaW5lZFtuYW1lXSlcbiAgICAgICAgICByZXR1cm4gYWRkcmVzcztcblxuICAgICAgICB2YXIgcGx1Z2luTG9hZGVyID0gbG9hZGVyLnBsdWdpbkxvYWRlciB8fCBsb2FkZXI7XG5cbiAgICAgICAgLy8gbG9hZCB0aGUgcGx1Z2luIG1vZHVsZSBhbmQgcnVuIHN0YW5kYXJkIGxvY2F0ZVxuICAgICAgICByZXR1cm4gcGx1Z2luTG9hZGVyWydpbXBvcnQnXShwbHVnaW4pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGxvYWRlck1vZHVsZSkge1xuICAgICAgICAgIC8vIHN0b3JlIHRoZSBwbHVnaW4gbW9kdWxlIGl0c2VsZiBvbiB0aGUgbWV0YWRhdGFcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZSA9IGxvYWRlck1vZHVsZTtcblxuICAgICAgICAgIGxvYWQuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgICAgaWYgKGxvYWRlck1vZHVsZS5sb2NhdGUpXG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyTW9kdWxlLmxvY2F0ZS5jYWxsKGxvYWRlciwgbG9hZCk7XG5cbiAgICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICBob29rKCdmZXRjaCcsIGZ1bmN0aW9uKGZldGNoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgaWYgKGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlICYmIGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlLmZldGNoICYmIGxvYWQubWV0YWRhdGEuZm9ybWF0ICE9ICdkZWZpbmVkJykge1xuICAgICAgICBsb2FkLm1ldGFkYXRhLnNjcmlwdExvYWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlLmZldGNoLmNhbGwobG9hZGVyLCBsb2FkLCBmdW5jdGlvbihsb2FkKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoLmNhbGwobG9hZGVyLCBsb2FkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZldGNoLmNhbGwobG9hZGVyLCBsb2FkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICBob29rKCd0cmFuc2xhdGUnLCBmdW5jdGlvbih0cmFuc2xhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICBpZiAobG9hZC5tZXRhZGF0YS5sb2FkZXJNb2R1bGUgJiYgbG9hZC5tZXRhZGF0YS5sb2FkZXJNb2R1bGUudHJhbnNsYXRlICYmIGxvYWQubWV0YWRhdGEuZm9ybWF0ICE9ICdkZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlLnRyYW5zbGF0ZS5jYWxsKGxvYWRlciwgbG9hZCkpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgdmFyIHNvdXJjZU1hcCA9IGxvYWQubWV0YWRhdGEuc291cmNlTWFwO1xuXG4gICAgICAgICAgLy8gc2FuaXRpemUgc291cmNlTWFwIGlmIGFuIG9iamVjdCBub3QgYSBKU09OIHN0cmluZ1xuICAgICAgICAgIGlmIChzb3VyY2VNYXApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlTWFwICE9ICdvYmplY3QnKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2xvYWQubWV0YWRhdGEuc291cmNlTWFwIG11c3QgYmUgc2V0IHRvIGFuIG9iamVjdC4nKTtcblxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsTmFtZSA9IGxvYWQubmFtZS5zcGxpdCgnIScpWzBdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBmb3JjZSBzZXQgdGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBmaWxlXG4gICAgICAgICAgICBzb3VyY2VNYXAuZmlsZSA9IG9yaWdpbmFsTmFtZSArICchdHJhbnNwaWxlZCc7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIHNldCB0aGUgc291cmNlcyBsaXN0IGlmIG9ubHkgb25lIHNvdXJjZVxuICAgICAgICAgICAgaWYgKCFzb3VyY2VNYXAuc291cmNlcyB8fCBzb3VyY2VNYXAuc291cmNlcy5sZW5ndGggPD0gMSlcbiAgICAgICAgICAgICAgc291cmNlTWFwLnNvdXJjZXMgPSBbb3JpZ2luYWxOYW1lXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpZiBydW5uaW5nIG9uIGZpbGU6Ly8vIFVSTHMsIHNvdXJjZXNDb250ZW50IGlzIG5lY2Vzc2FyeVxuICAgICAgICAgIC8vIGxvYWQubWV0YWRhdGEuc291cmNlTWFwLnNvdXJjZXNDb250ZW50ID0gW2xvYWQuc291cmNlXTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICdzdHJpbmcnKVxuICAgICAgICAgICAgbG9hZC5zb3VyY2UgPSByZXN1bHQ7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgd2Fybi5jYWxsKHRoaXMsICdQbHVnaW4gJyArIGxvYWQubWV0YWRhdGEubG9hZGVyICsgJyBzaG91bGQgcmV0dXJuIHRoZSBzb3VyY2UgaW4gdHJhbnNsYXRlLCBpbnN0ZWFkIG9mIHNldHRpbmcgbG9hZC5zb3VyY2UgZGlyZWN0bHkuIFRoaXMgc3VwcG9ydCB3aWxsIGJlIGRlcHJlY2F0ZWQuJyk7XG5cbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRlLmNhbGwobG9hZGVyLCBsb2FkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZS5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9vaygnaW5zdGFudGlhdGUnLCBmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcblxuICAgICAgaWYgKGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlICYmIGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlLmluc3RhbnRpYXRlICYmICFsb2FkZXIuYnVpbGRlciAmJiBsb2FkLm1ldGFkYXRhLmZvcm1hdCAhPSAnZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobG9hZC5tZXRhZGF0YS5sb2FkZXJNb2R1bGUuaW5zdGFudGlhdGUuY2FsbChsb2FkZXIsIGxvYWQpKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIGxvYWQubWV0YWRhdGEuZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgICAgICAgIGxvYWQubWV0YWRhdGEuZW50cnkuZXhlY3V0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9hZC5tZXRhZGF0YS5lbnRyeS5kZXBzID0gbG9hZC5tZXRhZGF0YS5kZXBzO1xuICAgICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ2RlZmluZWQnO1xuICAgICAgICAgIHJldHVybiBpbnN0YW50aWF0ZS5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgICAgIH0pO1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gaW5zdGFudGlhdGUuY2FsbChsb2FkZXIsIGxvYWQpO1xuICAgIH07XG4gIH0pO1xuXG59KSgpOy8qXG4gKiBDb25kaXRpb25zIEV4dGVuc2lvblxuICpcbiAqICAgQWxsb3dzIGEgY29uZGl0aW9uIG1vZHVsZSB0byBhbHRlciB0aGUgcmVzb2x1dGlvbiBvZiBhbiBpbXBvcnQgdmlhIHN5bnRheDpcbiAqXG4gKiAgICAgaW1wb3J0ICQgZnJvbSAnanF1ZXJ5LyN7YnJvd3Nlcn0nO1xuICpcbiAqICAgV2lsbCBmaXJzdCBsb2FkIHRoZSBtb2R1bGUgJ2Jyb3dzZXInIHZpYSBgU3lzdGVtSlMuaW1wb3J0KCdicm93c2VyJylgIGFuZCBcbiAqICAgdGFrZSB0aGUgZGVmYXVsdCBleHBvcnQgb2YgdGhhdCBtb2R1bGUuXG4gKiAgIElmIHRoZSBkZWZhdWx0IGV4cG9ydCBpcyBub3QgYSBzdHJpbmcsIGFuIGVycm9yIGlzIHRocm93bi5cbiAqIFxuICogICBXZSB0aGVuIHN1YnN0aXR1dGUgdGhlIHN0cmluZyBpbnRvIHRoZSByZXF1aXJlIHRvIGdldCB0aGUgY29uZGl0aW9uYWwgcmVzb2x1dGlvblxuICogICBlbmFibGluZyBlbnZpcm9ubWVudC1zcGVjaWZpYyB2YXJpYXRpb25zIGxpa2U6XG4gKiBcbiAqICAgICBpbXBvcnQgJCBmcm9tICdqcXVlcnkvaWUnXG4gKiAgICAgaW1wb3J0ICQgZnJvbSAnanF1ZXJ5L2ZpcmVmb3gnXG4gKiAgICAgaW1wb3J0ICQgZnJvbSAnanF1ZXJ5L2Nocm9tZSdcbiAqICAgICBpbXBvcnQgJCBmcm9tICdqcXVlcnkvc2FmYXJpJ1xuICpcbiAqICAgSXQgY2FuIGJlIHVzZWZ1bCBmb3IgYSBjb25kaXRpb24gbW9kdWxlIHRvIGRlZmluZSBtdWx0aXBsZSBjb25kaXRpb25zLlxuICogICBUaGlzIGNhbiBiZSBkb25lIHZpYSB0aGUgYHxgIG1vZGlmaWVyIHRvIHNwZWNpZnkgYW4gZXhwb3J0IG1lbWJlciBleHByZXNzaW9uOlxuICpcbiAqICAgICBpbXBvcnQgJ2pxdWVyeS8jey4vYnJvd3Nlci5qc3xncmFkZS52ZXJzaW9ufSdcbiAqXG4gKiAgIFdoZXJlIHRoZSBgZ3JhZGVgIGV4cG9ydCBgdmVyc2lvbmAgbWVtYmVyIGluIHRoZSBgYnJvd3Nlci5qc2AgbW9kdWxlICBpcyBzdWJzdGl0dXRlZC5cbiAqXG4gKlxuICogQm9vbGVhbiBDb25kaXRpb25hbHNcbiAqXG4gKiAgIEZvciBwb2x5ZmlsbCBtb2R1bGVzLCB0aGF0IGFyZSB1c2VkIGFzIGltcG9ydHMgYnV0IGhhdmUgbm8gbW9kdWxlIHZhbHVlLFxuICogICBhIGJpbmFyeSBjb25kaXRpb25hbCBhbGxvd3MgYSBtb2R1bGUgbm90IHRvIGJlIGxvYWRlZCBhdCBhbGwgaWYgbm90IG5lZWRlZDpcbiAqXG4gKiAgICAgaW1wb3J0ICdlczUtc2hpbSM/Li9jb25kaXRpb25zLmpzfG5lZWRzLWVzNXNoaW0nXG4gKlxuICogICBUaGVzZSBjb25kaXRpb25zIGNhbiBhbHNvIGJlIG5lZ2F0ZWQgdmlhOlxuICogICAgIFxuICogICAgIGltcG9ydCAnZXM1LXNoaW0jP34uL2NvbmRpdGlvbnMuanN8ZXM2J1xuICpcbiAqL1xuXG4gIGZ1bmN0aW9uIHBhcnNlQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgIHZhciBjb25kaXRpb25FeHBvcnQsIGNvbmRpdGlvbk1vZHVsZSwgbmVnYXRpb247XG5cbiAgICB2YXIgbmVnYXRpb24gPSBjb25kaXRpb25bMF0gPT0gJ34nO1xuICAgIHZhciBjb25kaXRpb25FeHBvcnRJbmRleCA9IGNvbmRpdGlvbi5sYXN0SW5kZXhPZignfCcpO1xuICAgIGlmIChjb25kaXRpb25FeHBvcnRJbmRleCAhPSAtMSkge1xuICAgICAgY29uZGl0aW9uRXhwb3J0ID0gY29uZGl0aW9uLnN1YnN0cihjb25kaXRpb25FeHBvcnRJbmRleCArIDEpO1xuICAgICAgY29uZGl0aW9uTW9kdWxlID0gY29uZGl0aW9uLnN1YnN0cihuZWdhdGlvbiwgY29uZGl0aW9uRXhwb3J0SW5kZXggLSBuZWdhdGlvbikgfHwgJ0BzeXN0ZW0tZW52JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25kaXRpb25FeHBvcnQgPSBudWxsO1xuICAgICAgY29uZGl0aW9uTW9kdWxlID0gY29uZGl0aW9uLnN1YnN0cihuZWdhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZHVsZTogY29uZGl0aW9uTW9kdWxlLFxuICAgICAgcHJvcDogY29uZGl0aW9uRXhwb3J0LFxuICAgICAgbmVnYXRlOiBuZWdhdGlvblxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBzZXJpYWxpemVDb25kaXRpb24oY29uZGl0aW9uT2JqKSB7XG4gICAgcmV0dXJuIChjb25kaXRpb25PYmoubmVnYXRlID8gJ34nIDogJycpICsgY29uZGl0aW9uT2JqLm1vZHVsZSArIChjb25kaXRpb25PYmoucHJvcCA/ICd8JyArIGNvbmRpdGlvbk9iai5wcm9wIDogJycpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUNvbmRpdGlvbihjb25kaXRpb25PYmosIHBhcmVudE5hbWUsIGJvb2wpIHtcbiAgICByZXR1cm4gdGhpc1snaW1wb3J0J10oY29uZGl0aW9uT2JqLm1vZHVsZSwgcGFyZW50TmFtZSlcbiAgICAudGhlbihmdW5jdGlvbihtKSB7XG4gICAgICBpZiAoY29uZGl0aW9uT2JqLnByb3ApXG4gICAgICAgIG0gPSByZWFkTWVtYmVyRXhwcmVzc2lvbihjb25kaXRpb25PYmoucHJvcCwgbSk7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgbSA9PSAnb2JqZWN0JyAmJiBtICsgJycgPT0gJ01vZHVsZScpXG4gICAgICAgIG0gPSBtWydkZWZhdWx0J107XG5cbiAgICAgIGlmIChib29sICYmIHR5cGVvZiBtICE9ICdib29sZWFuJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29uZGl0aW9uICcgKyBzZXJpYWxpemVDb25kaXRpb24oY29uZGl0aW9uT2JqKSArICcgZGlkIG5vdCByZXNvbHZlIHRvIGEgYm9vbGVhbi4nKTtcblxuICAgICAgcmV0dXJuIGNvbmRpdGlvbk9iai5uZWdhdGUgPyAhbSA6IG07XG4gICAgfSk7XG4gIH1cblxuICB2YXIgaW50ZXJwb2xhdGlvblJlZ0V4ID0gLyNcXHtbXlxcfV0rXFx9LztcbiAgZnVuY3Rpb24gaW50ZXJwb2xhdGVDb25kaXRpb25hbChuYW1lLCBwYXJlbnROYW1lKSB7XG4gICAgLy8gZmlyc3Qgd2Ugbm9ybWFsaXplIHRoZSBjb25kaXRpb25hbFxuICAgIHZhciBjb25kaXRpb25hbE1hdGNoID0gbmFtZS5tYXRjaChpbnRlcnBvbGF0aW9uUmVnRXgpO1xuXG4gICAgaWYgKCFjb25kaXRpb25hbE1hdGNoKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuYW1lKTtcblxuICAgIHZhciBjb25kaXRpb25PYmogPSBwYXJzZUNvbmRpdGlvbihjb25kaXRpb25hbE1hdGNoWzBdLnN1YnN0cigyLCBjb25kaXRpb25hbE1hdGNoWzBdLmxlbmd0aCAtIDMpKTtcblxuICAgIC8vIGluIGJ1aWxkcywgcmV0dXJuIG5vcm1hbGl6ZWQgY29uZGl0aW9uYWxcbiAgICBpZiAodGhpcy5idWlsZGVyKVxuICAgICAgcmV0dXJuIHRoaXNbJ25vcm1hbGl6ZSddKGNvbmRpdGlvbk9iai5tb2R1bGUsIHBhcmVudE5hbWUpXG4gICAgICAudGhlbihmdW5jdGlvbihjb25kaXRpb25Nb2R1bGUpIHtcbiAgICAgICAgY29uZGl0aW9uT2JqLm1vZHVsZSA9IGNvbmRpdGlvbk1vZHVsZTtcbiAgICAgICAgcmV0dXJuIG5hbWUucmVwbGFjZShpbnRlcnBvbGF0aW9uUmVnRXgsICcjeycgKyBzZXJpYWxpemVDb25kaXRpb24oY29uZGl0aW9uT2JqKSArICd9Jyk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiByZXNvbHZlQ29uZGl0aW9uLmNhbGwodGhpcywgY29uZGl0aW9uT2JqLCBwYXJlbnROYW1lLCBmYWxzZSlcbiAgICAudGhlbihmdW5jdGlvbihjb25kaXRpb25WYWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiBjb25kaXRpb25WYWx1ZSAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjb25kaXRpb24gdmFsdWUgZm9yICcgKyBuYW1lICsgJyBkb2VzblxcJ3QgcmVzb2x2ZSB0byBhIHN0cmluZy4nKTtcblxuICAgICAgaWYgKGNvbmRpdGlvblZhbHVlLmluZGV4T2YoJy8nKSAhPSAtMSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlZCB0byBpbnRlcnBvbGF0ZSBjb25kaXRpb25hbCAnICsgbmFtZSArIChwYXJlbnROYW1lID8gJyBpbiAnICsgcGFyZW50TmFtZSA6ICcnKSArICdcXG5cXHRUaGUgY29uZGl0aW9uIHZhbHVlICcgKyBjb25kaXRpb25WYWx1ZSArICcgY2Fubm90IGNvbnRhaW4gYSBcIi9cIiBzZXBhcmF0b3IuJyk7XG5cbiAgICAgIHJldHVybiBuYW1lLnJlcGxhY2UoaW50ZXJwb2xhdGlvblJlZ0V4LCBjb25kaXRpb25WYWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBib29sZWFuQ29uZGl0aW9uYWwobmFtZSwgcGFyZW50TmFtZSkge1xuICAgIC8vIGZpcnN0IHdlIG5vcm1hbGl6ZSB0aGUgY29uZGl0aW9uYWxcbiAgICB2YXIgYm9vbGVhbkluZGV4ID0gbmFtZS5sYXN0SW5kZXhPZignIz8nKTtcblxuICAgIGlmIChib29sZWFuSW5kZXggPT0gLTEpXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5hbWUpO1xuXG4gICAgdmFyIGNvbmRpdGlvbk9iaiA9IHBhcnNlQ29uZGl0aW9uKG5hbWUuc3Vic3RyKGJvb2xlYW5JbmRleCArIDIpKTtcblxuICAgIC8vIGluIGJ1aWxkcywgcmV0dXJuIG5vcm1hbGl6ZWQgY29uZGl0aW9uYWxcbiAgICBpZiAodGhpcy5idWlsZGVyKVxuICAgICAgcmV0dXJuIHRoaXNbJ25vcm1hbGl6ZSddKGNvbmRpdGlvbk9iai5tb2R1bGUsIHBhcmVudE5hbWUpXG4gICAgICAudGhlbihmdW5jdGlvbihjb25kaXRpb25Nb2R1bGUpIHtcbiAgICAgICAgY29uZGl0aW9uT2JqLm1vZHVsZSA9IGNvbmRpdGlvbk1vZHVsZTtcbiAgICAgICAgcmV0dXJuIG5hbWUuc3Vic3RyKDAsIGJvb2xlYW5JbmRleCkgKyAnIz8nICsgc2VyaWFsaXplQ29uZGl0aW9uKGNvbmRpdGlvbk9iaik7XG4gICAgICB9KTtcblxuICAgIHJldHVybiByZXNvbHZlQ29uZGl0aW9uLmNhbGwodGhpcywgY29uZGl0aW9uT2JqLCBwYXJlbnROYW1lLCB0cnVlKVxuICAgIC50aGVuKGZ1bmN0aW9uKGNvbmRpdGlvblZhbHVlKSB7XG4gICAgICByZXR1cm4gY29uZGl0aW9uVmFsdWUgPyBuYW1lLnN1YnN0cigwLCBib29sZWFuSW5kZXgpIDogJ0BlbXB0eSc7XG4gICAgfSk7XG4gIH1cblxuICAvLyBub3JtYWxpemVTeW5jIGRvZXMgbm90IHBhcnNlIGNvbmRpdGlvbmFscyBhdCBhbGwgYWx0aG91Z2ggaXQgY291bGRcbiAgaG9vaygnbm9ybWFsaXplJywgZnVuY3Rpb24obm9ybWFsaXplKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgcmV0dXJuIGJvb2xlYW5Db25kaXRpb25hbC5jYWxsKGxvYWRlciwgbmFtZSwgcGFyZW50TmFtZSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5jYWxsKGxvYWRlciwgbmFtZSwgcGFyZW50TmFtZSwgcGFyZW50QWRkcmVzcyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24obm9ybWFsaXplZCkge1xuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGVDb25kaXRpb25hbC5jYWxsKGxvYWRlciwgbm9ybWFsaXplZCwgcGFyZW50TmFtZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcbi8qXG4gKiBBbGlhcyBFeHRlbnNpb25cbiAqXG4gKiBBbGxvd3MgYSBtb2R1bGUgdG8gYmUgYSBwbGFpbiBjb3B5IG9mIGFub3RoZXIgbW9kdWxlIGJ5IG1vZHVsZSBuYW1lXG4gKlxuICogU3lzdGVtSlMubWV0YVsnbXlib290c3RyYXBhbGlhcyddID0geyBhbGlhczogJ2Jvb3RzdHJhcCcgfTtcbiAqXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgLy8gYWxpYXNlc1xuICBob29rKCdmZXRjaCcsIGZ1bmN0aW9uKGZldGNoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBhbGlhcyA9IGxvYWQubWV0YWRhdGEuYWxpYXM7XG4gICAgICB2YXIgYWxpYXNEZXBzID0gbG9hZC5tZXRhZGF0YS5kZXBzIHx8IFtdO1xuICAgICAgaWYgKGFsaWFzKSB7XG4gICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ2RlZmluZWQnO1xuICAgICAgICB2YXIgZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgICAgICB0aGlzLmRlZmluZWRbbG9hZC5uYW1lXSA9IGVudHJ5O1xuICAgICAgICBlbnRyeS5kZWNsYXJhdGl2ZSA9IHRydWU7XG4gICAgICAgIGVudHJ5LmRlcHMgPSBhbGlhc0RlcHMuY29uY2F0KFthbGlhc10pO1xuICAgICAgICBlbnRyeS5kZWNsYXJlID0gZnVuY3Rpb24oX2V4cG9ydCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXR0ZXJzOiBbZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gbW9kdWxlKVxuICAgICAgICAgICAgICAgIF9leHBvcnQocCwgbW9kdWxlW3BdKTtcbiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5fX3VzZURlZmF1bHQpXG4gICAgICAgICAgICAgICAgZW50cnkubW9kdWxlLmV4cG9ydHMuX191c2VEZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7fVxuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZldGNoLmNhbGwodGhpcywgbG9hZCk7XG4gICAgfTtcbiAgfSk7XG59KSgpOy8qXG4gKiBNZXRhIEV4dGVuc2lvblxuICpcbiAqIFNldHMgZGVmYXVsdCBtZXRhZGF0YSBvbiBhIGxvYWQgcmVjb3JkIChsb2FkLm1ldGFkYXRhKSBmcm9tXG4gKiBsb2FkZXIubWV0YWRhdGEgdmlhIFN5c3RlbUpTLm1ldGEgZnVuY3Rpb24uXG4gKlxuICpcbiAqIEFsc28gcHJvdmlkZXMgYW4gaW5saW5lIG1ldGEgc3ludGF4IGZvciBtb2R1bGUgbWV0YSBpbiBzb3VyY2UuXG4gKlxuICogRWc6XG4gKlxuICogbG9hZGVyLm1ldGEoe1xuICogICAnbXkvbW9kdWxlJzogeyBkZXBzOiBbJ2pxdWVyeSddIH1cbiAqICAgJ215LyonOiB7IGZvcm1hdDogJ2FtZCcgfVxuICogfSk7XG4gKlxuICogV2hpY2ggaW4gdHVybiBwb3B1bGF0ZXMgbG9hZGVyLm1ldGFkYXRhLlxuICpcbiAqIGxvYWQubWV0YWRhdGEuZGVwcyBhbmQgbG9hZC5tZXRhZGF0YS5mb3JtYXQgd2lsbCB0aGVuIGJlIHNldFxuICogZm9yICdteS9tb2R1bGUnXG4gKlxuICogVGhlIHNhbWUgbWV0YSBjb3VsZCBiZSBzZXQgd2l0aCBhIG15L21vZHVsZS5qcyBmaWxlIGNvbnRhaW5pbmc6XG4gKlxuICogbXkvbW9kdWxlLmpzXG4gKiAgIFwiZm9ybWF0IGFtZFwiO1xuICogICBcImRlcHNbXSBqcXVlcnlcIjtcbiAqICAgXCJnbG9iYWxzLnNvbWUgdmFsdWVcIlxuICogICBjb25zb2xlLmxvZygndGhpcyBpcyBteS9tb2R1bGUnKTtcbiAqXG4gKiBDb25maWd1cmF0aW9uIG1ldGEgYWx3YXlzIHRha2VzIHByZWZlcmVuY2UgdG8gaW5saW5lIG1ldGEuXG4gKlxuICogTXVsdGlwbGUgbWF0Y2hlcyBpbiB3aWxkY2FyZHMgYXJlIHN1cHBvcnRlZCBhbmQgYW1tZW5kIHRoZSBtZXRhLlxuICpcbiAqXG4gKiBUaGUgYmVuZWZpdHMgb2YgdGhlIGZ1bmN0aW9uIGZvcm0gaXMgdGhhdCBwYXRocyBhcmUgVVJMLW5vcm1hbGl6ZWRcbiAqIHN1cHBvcnRpbmcgc2F5XG4gKlxuICogbG9hZGVyLm1ldGEoeyAnLi9hcHAnOiB7IGZvcm1hdDogJ2NqcycgfSB9KTtcbiAqXG4gKiBJbnN0ZWFkIG9mIG5lZWRpbmcgdG8gc2V0IGFnYWluc3QgdGhlIGFic29sdXRlIFVSTCAoaHR0cHM6Ly9zaXRlLmNvbS9hcHAuanMpXG4gKlxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICBob29rQ29uc3RydWN0b3IoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLm1ldGEgPSB7fTtcbiAgICAgIGNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBtZXRhID0gdGhpcy5tZXRhO1xuICAgICAgdmFyIG5hbWUgPSBsb2FkLm5hbWU7XG5cbiAgICAgIC8vIE5CIGZvciBwZXJmLCBtYXliZSBpbnRyb2R1Y2UgYSBmYXN0LXBhdGggd2lsZGNhcmQgbG9va3VwIGNhY2hlIGhlcmVcbiAgICAgIC8vIHdoaWNoIGlzIGNoZWNrZWQgZmlyc3RcblxuICAgICAgLy8gYXBwbHkgd2lsZGNhcmQgbWV0YXNcbiAgICAgIHZhciBiZXN0RGVwdGggPSAwO1xuICAgICAgdmFyIHdpbGRjYXJkSW5kZXg7XG4gICAgICBmb3IgKHZhciBtb2R1bGUgaW4gbWV0YSkge1xuICAgICAgICB3aWxkY2FyZEluZGV4ID0gbW9kdWxlLmluZGV4T2YoJyonKTtcbiAgICAgICAgaWYgKHdpbGRjYXJkSW5kZXggPT09IC0xKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAobW9kdWxlLnN1YnN0cigwLCB3aWxkY2FyZEluZGV4KSA9PT0gbmFtZS5zdWJzdHIoMCwgd2lsZGNhcmRJbmRleClcbiAgICAgICAgICAgICYmIG1vZHVsZS5zdWJzdHIod2lsZGNhcmRJbmRleCArIDEpID09PSBuYW1lLnN1YnN0cihuYW1lLmxlbmd0aCAtIG1vZHVsZS5sZW5ndGggKyB3aWxkY2FyZEluZGV4ICsgMSkpIHtcbiAgICAgICAgICB2YXIgZGVwdGggPSBtb2R1bGUuc3BsaXQoJy8nKS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGRlcHRoID4gYmVzdERlcHRoKVxuICAgICAgICAgICAgYmVzdERlcHRoID0gZGVwdGg7XG4gICAgICAgICAgZXh0ZW5kTWV0YShsb2FkLm1ldGFkYXRhLCBtZXRhW21vZHVsZV0sIGJlc3REZXB0aCAhPSBkZXB0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgZXhhY3QgbWV0YVxuICAgICAgaWYgKG1ldGFbbmFtZV0pXG4gICAgICAgIGV4dGVuZE1ldGEobG9hZC5tZXRhZGF0YSwgbWV0YVtuYW1lXSk7XG5cbiAgICAgIHJldHVybiBsb2NhdGUuY2FsbCh0aGlzLCBsb2FkKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBkZXRlY3QgYW55IG1ldGEgaGVhZGVyIHN5bnRheFxuICAvLyBvbmx5IHNldCBpZiBub3QgYWxyZWFkeSBzZXRcbiAgdmFyIG1ldGFSZWdFeCA9IC9eKFxccypcXC9cXCpbXlxcKl0qKFxcKig/IVxcLylbXlxcKl0qKSpcXCpcXC98XFxzKlxcL1xcL1teXFxuXSp8XFxzKlwiW15cIl0rXCJcXHMqOz98XFxzKidbXiddKydcXHMqOz8pKy87XG4gIHZhciBtZXRhUGFydFJlZ0V4ID0gL1xcL1xcKlteXFwqXSooXFwqKD8hXFwvKVteXFwqXSopKlxcKlxcL3xcXC9cXC9bXlxcbl0qfFwiW15cIl0rXCJcXHMqOz98J1teJ10rJ1xccyo7Py9nO1xuXG4gIGZ1bmN0aW9uIHNldE1ldGFQcm9wZXJ0eSh0YXJnZXQsIHAsIHZhbHVlKSB7XG4gICAgdmFyIHBQYXJ0cyA9IHAuc3BsaXQoJy4nKTtcbiAgICB2YXIgY3VyUGFydDtcbiAgICB3aGlsZSAocFBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGN1clBhcnQgPSBwUGFydHMuc2hpZnQoKTtcbiAgICAgIHRhcmdldCA9IHRhcmdldFtjdXJQYXJ0XSA9IHRhcmdldFtjdXJQYXJ0XSB8fCB7fTtcbiAgICB9XG4gICAgY3VyUGFydCA9IHBQYXJ0cy5zaGlmdCgpO1xuICAgIGlmICghKGN1clBhcnQgaW4gdGFyZ2V0KSlcbiAgICAgIHRhcmdldFtjdXJQYXJ0XSA9IHZhbHVlO1xuICB9XG5cbiAgaG9vaygndHJhbnNsYXRlJywgZnVuY3Rpb24odHJhbnNsYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIC8vIE5CIG1ldGEgd2lsbCBiZSBwb3N0LXRyYW5zbGF0ZSBwZW5kaW5nIHRyYW5zcGlsZXIgY29udmVyc2lvbiB0byBwbHVnaW5zXG4gICAgICB2YXIgbWV0YSA9IGxvYWQuc291cmNlLm1hdGNoKG1ldGFSZWdFeCk7XG4gICAgICBpZiAobWV0YSkge1xuICAgICAgICB2YXIgbWV0YVBhcnRzID0gbWV0YVswXS5tYXRjaChtZXRhUGFydFJlZ0V4KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGFQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjdXJQYXJ0ID0gbWV0YVBhcnRzW2ldO1xuICAgICAgICAgIHZhciBsZW4gPSBjdXJQYXJ0Lmxlbmd0aDtcblxuICAgICAgICAgIHZhciBmaXJzdENoYXIgPSBjdXJQYXJ0LnN1YnN0cigwLCAxKTtcbiAgICAgICAgICBpZiAoY3VyUGFydC5zdWJzdHIobGVuIC0gMSwgMSkgPT0gJzsnKVxuICAgICAgICAgICAgbGVuLS07XG5cbiAgICAgICAgICBpZiAoZmlyc3RDaGFyICE9ICdcIicgJiYgZmlyc3RDaGFyICE9IFwiJ1wiKVxuICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICB2YXIgbWV0YVN0cmluZyA9IGN1clBhcnQuc3Vic3RyKDEsIGN1clBhcnQubGVuZ3RoIC0gMyk7XG4gICAgICAgICAgdmFyIG1ldGFOYW1lID0gbWV0YVN0cmluZy5zdWJzdHIoMCwgbWV0YVN0cmluZy5pbmRleE9mKCcgJykpO1xuXG4gICAgICAgICAgaWYgKG1ldGFOYW1lKSB7XG4gICAgICAgICAgICB2YXIgbWV0YVZhbHVlID0gbWV0YVN0cmluZy5zdWJzdHIobWV0YU5hbWUubGVuZ3RoICsgMSwgbWV0YVN0cmluZy5sZW5ndGggLSBtZXRhTmFtZS5sZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgaWYgKG1ldGFOYW1lLnN1YnN0cihtZXRhTmFtZS5sZW5ndGggLSAyLCAyKSA9PSAnW10nKSB7XG4gICAgICAgICAgICAgIG1ldGFOYW1lID0gbWV0YU5hbWUuc3Vic3RyKDAsIG1ldGFOYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICAgICBsb2FkLm1ldGFkYXRhW21ldGFOYW1lXSA9IGxvYWQubWV0YWRhdGFbbWV0YU5hbWVdIHx8IFtdO1xuICAgICAgICAgICAgICBsb2FkLm1ldGFkYXRhW21ldGFOYW1lXS5wdXNoKG1ldGFWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsb2FkLm1ldGFkYXRhW21ldGFOYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBiYWNrd2FyZHMgY29tcGF0IGZvciBwcmV2aW91cyBcImRlcHNcIiBzeW50YXhcbiAgICAgICAgICAgICAgd2Fybi5jYWxsKHRoaXMsICdNb2R1bGUgJyArIGxvYWQubmFtZSArICcgY29udGFpbnMgZGVwcmVjYXRlZCBcImRlcHMgJyArIG1ldGFWYWx1ZSArICdcIiBtZXRhIHN5bnRheC5cXG5UaGlzIHNob3VsZCBiZSB1cGRhdGVkIHRvIFwiZGVwc1tdICcgKyBtZXRhVmFsdWUgKyAnXCIgZm9yIHB1c2hpbmcgdG8gYXJyYXkgbWV0YS4nKTtcbiAgICAgICAgICAgICAgbG9hZC5tZXRhZGF0YVttZXRhTmFtZV0ucHVzaChtZXRhVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHNldE1ldGFQcm9wZXJ0eShsb2FkLm1ldGFkYXRhLCBtZXRhTmFtZSwgbWV0YVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2FkLm1ldGFkYXRhW21ldGFTdHJpbmddID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYW5zbGF0ZS5jYWxsKHRoaXMsIGxvYWQpO1xuICAgIH07XG4gIH0pO1xufSkoKTtcbi8qXG4gIFN5c3RlbSBidW5kbGVzXG5cbiAgQWxsb3dzIGEgYnVuZGxlIG1vZHVsZSB0byBiZSBzcGVjaWZpZWQgd2hpY2ggd2lsbCBiZSBkeW5hbWljYWxseSBcbiAgbG9hZGVkIGJlZm9yZSB0cnlpbmcgdG8gbG9hZCBhIGdpdmVuIG1vZHVsZS5cblxuICBGb3IgZXhhbXBsZTpcbiAgU3lzdGVtSlMuYnVuZGxlc1snbXlidW5kbGUnXSA9IFsnanF1ZXJ5JywgJ2Jvb3RzdHJhcC9qcy9ib290c3RyYXAnXVxuXG4gIFdpbGwgcmVzdWx0IGluIGEgbG9hZCB0byBcIm15YnVuZGxlXCIgd2hlbmV2ZXIgYSBsb2FkIHRvIFwianF1ZXJ5XCJcbiAgb3IgXCJib290c3RyYXAvanMvYm9vdHN0cmFwXCIgaXMgbWFkZS5cblxuICBJbiB0aGlzIHdheSwgdGhlIGJ1bmRsZSBiZWNvbWVzIHRoZSByZXF1ZXN0IHRoYXQgcHJvdmlkZXMgdGhlIG1vZHVsZVxuKi9cblxuKGZ1bmN0aW9uKCkge1xuICAvLyBidW5kbGVzIHN1cHBvcnQgKGp1c3QgbGlrZSBSZXF1aXJlSlMpXG4gIC8vIGJ1bmRsZSBuYW1lIGlzIG1vZHVsZSBuYW1lIG9mIGJ1bmRsZSBpdHNlbGZcbiAgLy8gYnVuZGxlIGlzIGFycmF5IG9mIG1vZHVsZXMgZGVmaW5lZCBieSB0aGUgYnVuZGxlXG4gIC8vIHdoZW4gYSBtb2R1bGUgaW4gdGhlIGJ1bmRsZSBpcyByZXF1ZXN0ZWQsIHRoZSBidW5kbGUgaXMgbG9hZGVkIGluc3RlYWRcbiAgLy8gb2YgdGhlIGZvcm0gU3lzdGVtSlMuYnVuZGxlc1snbXlidW5kbGUnXSA9IFsnanF1ZXJ5JywgJ2Jvb3RzdHJhcC9qcy9ib290c3RyYXAnXVxuICBob29rQ29uc3RydWN0b3IoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5idW5kbGVzID0ge307XG4gICAgICB0aGlzLl9sb2FkZXIubG9hZGVkQnVuZGxlcyA9IHt9O1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIGFzc2lnbiBidW5kbGUgbWV0YWRhdGEgZm9yIGJ1bmRsZSBsb2Fkc1xuICBob29rKCdsb2NhdGUnLCBmdW5jdGlvbihsb2NhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICB2YXIgbWF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoIShsb2FkLm5hbWUgaW4gbG9hZGVyLmRlZmluZWQpKVxuICAgICAgICBmb3IgKHZhciBiIGluIGxvYWRlci5idW5kbGVzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkZXIuYnVuZGxlc1tiXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGN1ck1vZHVsZSA9IGxvYWRlci5idW5kbGVzW2JdW2ldO1xuXG4gICAgICAgICAgICBpZiAoY3VyTW9kdWxlID09IGxvYWQubmFtZSkge1xuICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdpbGRjYXJkIGluIGJ1bmRsZXMgZG9lcyBub3QgaW5jbHVkZSAvIGJvdW5kYXJpZXNcbiAgICAgICAgICAgIGlmIChjdXJNb2R1bGUuaW5kZXhPZignKicpICE9IC0xKSB7XG4gICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGN1ck1vZHVsZS5zcGxpdCgnKicpO1xuICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgICAgICAgICBsb2FkZXIuYnVuZGxlc1tiXS5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGxvYWQubmFtZS5zdWJzdHJpbmcoMCwgcGFydHNbMF0ubGVuZ3RoKSA9PSBwYXJ0c1swXSAmJlxuICAgICAgICAgICAgICAgICAgbG9hZC5uYW1lLnN1YnN0cihsb2FkLm5hbWUubGVuZ3RoIC0gcGFydHNbMV0ubGVuZ3RoLCBwYXJ0c1sxXS5sZW5ndGgpID09IHBhcnRzWzFdICYmXG4gICAgICAgICAgICAgICAgICBsb2FkLm5hbWUuc3Vic3RyKHBhcnRzWzBdLmxlbmd0aCwgbG9hZC5uYW1lLmxlbmd0aCAtIHBhcnRzWzFdLmxlbmd0aCAtIHBhcnRzWzBdLmxlbmd0aCkuaW5kZXhPZignLycpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWF0Y2hlZClcbiAgICAgICAgICAgIHJldHVybiBsb2FkZXJbJ2ltcG9ydCddKGIpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxvY2F0ZS5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9jYXRlLmNhbGwobG9hZGVyLCBsb2FkKTtcbiAgICB9O1xuICB9KTtcbn0pKCk7XG4vKlxuICogRGVwZW5kZW5jeSBUcmVlIENhY2hlXG4gKiBcbiAqIEFsbG93cyBhIGJ1aWxkIHRvIHByZS1wb3B1bGF0ZSBhIGRlcGVuZGVuY3kgdHJhY2UgdHJlZSBvbiB0aGUgbG9hZGVyIG9mIFxuICogdGhlIGV4cGVjdGVkIGRlcGVuZGVuY3kgdHJlZSwgdG8gYmUgbG9hZGVkIHVwZnJvbnQgd2hlbiByZXF1ZXN0aW5nIHRoZVxuICogbW9kdWxlLCBhdm9pbmRpbmcgdGhlIG4gcm91bmQgdHJpcHMgbGF0ZW5jeSBvZiBtb2R1bGUgbG9hZGluZywgd2hlcmUgXG4gKiBuIGlzIHRoZSBkZXBlbmRlbmN5IHRyZWUgZGVwdGguXG4gKlxuICogZWc6XG4gKiBTeXN0ZW1KUy5kZXBDYWNoZSA9IHtcbiAqICAnYXBwJzogWydub3JtYWxpemVkJywgJ2RlcHMnXSxcbiAqICAnbm9ybWFsaXplZCc6IFsnYW5vdGhlciddLFxuICogICdkZXBzJzogWyd0cmVlJ11cbiAqIH07XG4gKiBcbiAqIFN5c3RlbUpTLmltcG9ydCgnYXBwJykgXG4gKiAvLyBzaW11bHRhbmVvdXNseSBzdGFydHMgbG9hZGluZyBhbGwgb2Y6XG4gKiAvLyAnbm9ybWFsaXplZCcsICdkZXBzJywgJ2Fub3RoZXInLCAndHJlZSdcbiAqIC8vIGJlZm9yZSBcImFwcFwiIHNvdXJjZSBpcyBldmVuIGxvYWRlZFxuICpcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gIGhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmRlcENhY2hlID0ge307XG4gICAgfVxuICB9KTtcblxuICBob29rKCdsb2NhdGUnLCBmdW5jdGlvbihsb2NhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICAvLyBsb2FkIGRpcmVjdCBkZXBzLCBpbiB0dXJuIHdpbGwgcGljayB1cCB0aGVpciB0cmFjZSB0cmVlc1xuICAgICAgdmFyIGRlcHMgPSBsb2FkZXIuZGVwQ2FjaGVbbG9hZC5uYW1lXTtcbiAgICAgIGlmIChkZXBzKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgbG9hZGVyWydpbXBvcnQnXShkZXBzW2ldLCBsb2FkLm5hbWUpO1xuXG4gICAgICByZXR1cm4gbG9jYXRlLmNhbGwobG9hZGVyLCBsb2FkKTtcbiAgICB9O1xuICB9KTtcbn0pKCk7XG4gIFxuLypcbiAqIFNjcmlwdC1vbmx5IGFkZGl0aW9uIHVzZWQgZm9yIHByb2R1Y3Rpb24gbG9hZGVyXG4gKlxuICovXG5ob29rQ29uc3RydWN0b3IoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KTtcblxuaG9vaygnZmV0Y2gnLCBmdW5jdGlvbihmZXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgIGxvYWQubWV0YWRhdGEuc2NyaXB0TG9hZCA9IHRydWU7XG4gICAgcmV0dXJuIGZldGNoLmNhbGwodGhpcywgbG9hZCk7XG4gIH07XG59KTtTeXN0ZW0gPSBuZXcgU3lzdGVtSlNMb2FkZXIoKTtcblxuX19nbG9iYWwuU3lzdGVtSlMgPSBTeXN0ZW07XG5TeXN0ZW0udmVyc2lvbiA9ICcwLjE5LjIzIENTUCc7XG4gIC8vIC0tIGV4cG9ydGluZyAtLVxuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBMb2FkZXI7XG5cbiAgX19nbG9iYWwuUmVmbGVjdCA9IF9fZ2xvYmFsLlJlZmxlY3QgfHwge307XG4gIF9fZ2xvYmFsLlJlZmxlY3QuTG9hZGVyID0gX19nbG9iYWwuUmVmbGVjdC5Mb2FkZXIgfHwgTG9hZGVyO1xuICBfX2dsb2JhbC5SZWZsZWN0Lmdsb2JhbCA9IF9fZ2xvYmFsLlJlZmxlY3QuZ2xvYmFsIHx8IF9fZ2xvYmFsO1xuICBfX2dsb2JhbC5Mb2FkZXJQb2x5ZmlsbCA9IExvYWRlcjtcblxuICBpZiAoIVN5c3RlbSkge1xuICAgIFN5c3RlbSA9IG5ldyBTeXN0ZW1Mb2FkZXIoKTtcbiAgICBTeXN0ZW0uY29uc3RydWN0b3IgPSBTeXN0ZW1Mb2FkZXI7XG4gIH1cblxuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuICAgIG1vZHVsZS5leHBvcnRzID0gU3lzdGVtO1xuXG4gIF9fZ2xvYmFsLlN5c3RlbSA9IFN5c3RlbTtcblxufSkodHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogZ2xvYmFsKTt9XG5cbi8vIGF1dG8tbG9hZCBQcm9taXNlIGFuZCBVUkwgcG9seWZpbGxzIGlmIG5lZWRlZCBpbiB0aGUgYnJvd3NlclxudHJ5IHtcbiAgdmFyIGhhc1VSTCA9IHR5cGVvZiBVUkxQb2x5ZmlsbCAhPSAndW5kZWZpbmVkJyB8fCBuZXcgVVJMKCd0ZXN0Oi8vLycpLnByb3RvY29sID09ICd0ZXN0Oic7XG59XG5jYXRjaChlKSB7fVxuXG5pZiAodHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNVUkwpIHtcbiAgLy8gZG9jdW1lbnQud3JpdGVcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAkX19jdXJTY3JpcHQgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV07XG4gICAgdmFyIGN1clBhdGggPSAkX19jdXJTY3JpcHQuc3JjO1xuICAgIHZhciBiYXNlUGF0aCA9IGN1clBhdGguc3Vic3RyKDAsIGN1clBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgIHdpbmRvdy5zeXN0ZW1KU0Jvb3RzdHJhcCA9IGJvb3RzdHJhcDtcbiAgICBkb2N1bWVudC53cml0ZShcbiAgICAgICc8JyArICdzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIicgKyBiYXNlUGF0aCArICdzeXN0ZW0tcG9seWZpbGxzLmpzXCI+JyArICc8JyArICcvc2NyaXB0PidcbiAgICApO1xuICB9XG4gIC8vIGltcG9ydFNjcmlwdHNcbiAgZWxzZSBpZiAodHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIGJhc2VQYXRoID0gJyc7XG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXycpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUuc3RhY2sucmVwbGFjZSgvKD86YXR8QCkuKihodHRwLispOltcXGRdKzpbXFxkXSsvLCBmdW5jdGlvbihtLCB1cmwpIHtcbiAgICAgICAgYmFzZVBhdGggPSB1cmwucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnLycpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGltcG9ydFNjcmlwdHMoYmFzZVBhdGggKyAnc3lzdGVtLXBvbHlmaWxscy5qcycpO1xuICAgIGJvb3RzdHJhcCgpO1xuICB9XG4gIGVsc2Uge1xuICAgIGJvb3RzdHJhcCgpO1xuICB9XG59XG5lbHNlIHtcbiAgYm9vdHN0cmFwKCk7XG59XG5cblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
