'use strict';

System.register([], function (_export, _context) {
  return {
    setters: [],
    execute: function () {
      /* */
      (function (process) {
        if (process.env.OBJECT_IMPL) global.TYPED_ARRAY_SUPPORT = false;
        var B = require('../index').Buffer;
        var test = require('tape');
        test('buffer.toJSON', function (t) {
          var data = [1, 2, 3, 4];
          t.deepEqual(new B(data).toJSON(), {
            type: 'Buffer',
            data: [1, 2, 3, 4]
          });
          t.end();
        });
        test('buffer.copy', function (t) {
          var buf1 = new B(26);
          var buf2 = new B(26);
          for (var i = 0; i < 26; i++) {
            buf1[i] = i + 97;
            buf2[i] = 33;
          }
          buf1.copy(buf2, 8, 16, 20);
          t.equal(buf2.toString('ascii', 0, 25), '!!!!!!!!qrst!!!!!!!!!!!!!');
          t.end();
        });
        test('test offset returns are correct', function (t) {
          var b = new B(16);
          t.equal(4, b.writeUInt32LE(0, 0));
          t.equal(6, b.writeUInt16LE(0, 4));
          t.equal(7, b.writeUInt8(0, 6));
          t.equal(8, b.writeInt8(0, 7));
          t.equal(16, b.writeDoubleLE(0, 8));
          t.end();
        });
        test('concat() a varying number of buffers', function (t) {
          var zero = [];
          var one = [new B('asdf')];
          var long = [];
          for (var i = 0; i < 10; i++) {
            long.push(new B('asdf'));
          }
          var flatZero = B.concat(zero);
          var flatOne = B.concat(one);
          var flatLong = B.concat(long);
          var flatLongLen = B.concat(long, 40);
          t.equal(flatZero.length, 0);
          t.equal(flatOne.toString(), 'asdf');
          t.deepEqual(flatOne, one[0]);
          t.equal(flatLong.toString(), new Array(10 + 1).join('asdf'));
          t.equal(flatLongLen.toString(), new Array(10 + 1).join('asdf'));
          t.end();
        });
        test('fill', function (t) {
          var b = new B(10);
          b.fill(2);
          t.equal(b.toString('hex'), '02020202020202020202');
          t.end();
        });
        test('fill (string)', function (t) {
          var b = new B(10);
          b.fill('abc');
          t.equal(b.toString(), 'abcabcabca');
          b.fill('է');
          t.equal(b.toString(), 'էէէէէ');
          t.end();
        });
        test('copy() empty buffer with sourceEnd=0', function (t) {
          var source = new B([42]);
          var destination = new B([43]);
          source.copy(destination, 0, 0, 0);
          t.equal(destination.readUInt8(0), 43);
          t.end();
        });
        test('copy() after slice()', function (t) {
          var source = new B(200);
          var dest = new B(200);
          var expected = new B(200);
          for (var i = 0; i < 200; i++) {
            source[i] = i;
            dest[i] = 0;
          }
          source.slice(2).copy(dest);
          source.copy(expected, 0, 2);
          t.deepEqual(dest, expected);
          t.end();
        });
        test('copy() ascending', function (t) {
          var b = new B('abcdefghij');
          b.copy(b, 0, 3, 10);
          t.equal(b.toString(), 'defghijhij');
          t.end();
        });
        test('copy() descending', function (t) {
          var b = new B('abcdefghij');
          b.copy(b, 3, 0, 7);
          t.equal(b.toString(), 'abcabcdefg');
          t.end();
        });
        test('buffer.slice sets indexes', function (t) {
          t.equal(new B('hallo').slice(0, 5).toString(), 'hallo');
          t.end();
        });
        test('buffer.slice out of range', function (t) {
          t.plan(2);
          t.equal(new B('hallo').slice(0, 10).toString(), 'hallo');
          t.equal(new B('hallo').slice(10, 2).toString(), '');
          t.end();
        });
      })(require('process'));
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5wbS9idWZmZXJAMy42LjAvdGVzdC9tZXRob2RzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQSxPQUFDLFVBQVMsT0FBVCxFQUFrQjtBQUNqQixZQUFJLFFBQVEsR0FBUixDQUFZLFdBQVosRUFDRixPQUFPLG1CQUFQLEdBQTZCLEtBQTdCLENBREY7QUFFQSxZQUFJLElBQUksUUFBUSxVQUFSLEVBQW9CLE1BQXBCLENBSFM7QUFJakIsWUFBSSxPQUFPLFFBQVEsTUFBUixDQUFQLENBSmE7QUFLakIsYUFBSyxlQUFMLEVBQXNCLFVBQVMsQ0FBVCxFQUFZO0FBQ2hDLGNBQUksT0FBTyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBUCxDQUQ0QjtBQUVoQyxZQUFFLFNBQUYsQ0FBWSxJQUFJLENBQUosQ0FBTSxJQUFOLEVBQVksTUFBWixFQUFaLEVBQWtDO0FBQ2hDLGtCQUFNLFFBQU47QUFDQSxrQkFBTSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBTjtXQUZGLEVBRmdDO0FBTWhDLFlBQUUsR0FBRixHQU5nQztTQUFaLENBQXRCLENBTGlCO0FBYWpCLGFBQUssYUFBTCxFQUFvQixVQUFTLENBQVQsRUFBWTtBQUM5QixjQUFJLE9BQU8sSUFBSSxDQUFKLENBQU0sRUFBTixDQUFQLENBRDBCO0FBRTlCLGNBQUksT0FBTyxJQUFJLENBQUosQ0FBTSxFQUFOLENBQVAsQ0FGMEI7QUFHOUIsZUFBSyxJQUFJLElBQUksQ0FBSixFQUFPLElBQUksRUFBSixFQUFRLEdBQXhCLEVBQTZCO0FBQzNCLGlCQUFLLENBQUwsSUFBVSxJQUFJLEVBQUosQ0FEaUI7QUFFM0IsaUJBQUssQ0FBTCxJQUFVLEVBQVYsQ0FGMkI7V0FBN0I7QUFJQSxlQUFLLElBQUwsQ0FBVSxJQUFWLEVBQWdCLENBQWhCLEVBQW1CLEVBQW5CLEVBQXVCLEVBQXZCLEVBUDhCO0FBUTlCLFlBQUUsS0FBRixDQUFR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WUFBRSxLQUFGLENBQVEsSUFBSyxDQUFKLENBQU0sT0FBTixDQUFELENBQWlCLEtBQWpCLENBQXVCLENBQXZCLEVBQTBCLEVBQTFCLEVBQThCLFFBQTlCLEVBQVIsRUFBa0QsT0FBbEQsRUFGNEM7QUFHNUMsWUFBRSxLQUFGLENBQVEsSUFBSyxDQUFKLENBQU0sT0FBTixDQUFELENBQWlCLEtBQWpCLENBQXVCLEVBQXZCLEVBQTJCLENBQTNCLEVBQThCLFFBQTlCLEVBQVIsRUFBa0QsRUFBbEQsRUFINEM7QUFJNUMsWUFBRSxHQUFGLEdBSjRDO1NBQVosQ0FBbEMsQ0FyR2lCO09BQWxCLENBQUQsQ0EyR0csUUFBUSxTQUFSLENBM0dIIiwiZmlsZSI6Im5wbS9idWZmZXJAMy42LjAvdGVzdC9tZXRob2RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICBpZiAocHJvY2Vzcy5lbnYuT0JKRUNUX0lNUEwpXG4gICAgZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBmYWxzZTtcbiAgdmFyIEIgPSByZXF1aXJlKCcuLi9pbmRleCcpLkJ1ZmZlcjtcbiAgdmFyIHRlc3QgPSByZXF1aXJlKCd0YXBlJyk7XG4gIHRlc3QoJ2J1ZmZlci50b0pTT04nLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIGRhdGEgPSBbMSwgMiwgMywgNF07XG4gICAgdC5kZWVwRXF1YWwobmV3IEIoZGF0YSkudG9KU09OKCksIHtcbiAgICAgIHR5cGU6ICdCdWZmZXInLFxuICAgICAgZGF0YTogWzEsIDIsIDMsIDRdXG4gICAgfSk7XG4gICAgdC5lbmQoKTtcbiAgfSk7XG4gIHRlc3QoJ2J1ZmZlci5jb3B5JywgZnVuY3Rpb24odCkge1xuICAgIHZhciBidWYxID0gbmV3IEIoMjYpO1xuICAgIHZhciBidWYyID0gbmV3IEIoMjYpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjY7IGkrKykge1xuICAgICAgYnVmMVtpXSA9IGkgKyA5NztcbiAgICAgIGJ1ZjJbaV0gPSAzMztcbiAgICB9XG4gICAgYnVmMS5jb3B5KGJ1ZjIsIDgsIDE2LCAyMCk7XG4gICAgdC5lcXVhbChidWYyLnRvU3RyaW5nKCdhc2NpaScsIDAsIDI1KSwgJyEhISEhISEhcXJzdCEhISEhISEhISEhISEnKTtcbiAgICB0LmVuZCgpO1xuICB9KTtcbiAgdGVzdCgndGVzdCBvZmZzZXQgcmV0dXJucyBhcmUgY29ycmVjdCcsIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgYiA9IG5ldyBCKDE2KTtcbiAgICB0LmVxdWFsKDQsIGIud3JpdGVVSW50MzJMRSgwLCAwKSk7XG4gICAgdC5lcXVhbCg2LCBiLndyaXRlVUludDE2TEUoMCwgNCkpO1xuICAgIHQuZXF1YWwoNywgYi53cml0ZVVJbnQ4KDAsIDYpKTtcbiAgICB0LmVxdWFsKDgsIGIud3JpdGVJbnQ4KDAsIDcpKTtcbiAgICB0LmVxdWFsKDE2LCBiLndyaXRlRG91YmxlTEUoMCwgOCkpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdjb25jYXQoKSBhIHZhcnlpbmcgbnVtYmVyIG9mIGJ1ZmZlcnMnLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHplcm8gPSBbXTtcbiAgICB2YXIgb25lID0gW25ldyBCKCdhc2RmJyldO1xuICAgIHZhciBsb25nID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBsb25nLnB1c2gobmV3IEIoJ2FzZGYnKSk7XG4gICAgfVxuICAgIHZhciBmbGF0WmVybyA9IEIuY29uY2F0KHplcm8pO1xuICAgIHZhciBmbGF0T25lID0gQi5jb25jYXQob25lKTtcbiAgICB2YXIgZmxhdExvbmcgPSBCLmNvbmNhdChsb25nKTtcbiAgICB2YXIgZmxhdExvbmdMZW4gPSBCLmNvbmNhdChsb25nLCA0MCk7XG4gICAgdC5lcXVhbChmbGF0WmVyby5sZW5ndGgsIDApO1xuICAgIHQuZXF1YWwoZmxhdE9uZS50b1N0cmluZygpLCAnYXNkZicpO1xuICAgIHQuZGVlcEVxdWFsKGZsYXRPbmUsIG9uZVswXSk7XG4gICAgdC5lcXVhbChmbGF0TG9uZy50b1N0cmluZygpLCAobmV3IEFycmF5KDEwICsgMSkuam9pbignYXNkZicpKSk7XG4gICAgdC5lcXVhbChmbGF0TG9uZ0xlbi50b1N0cmluZygpLCAobmV3IEFycmF5KDEwICsgMSkuam9pbignYXNkZicpKSk7XG4gICAgdC5lbmQoKTtcbiAgfSk7XG4gIHRlc3QoJ2ZpbGwnLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIGIgPSBuZXcgQigxMCk7XG4gICAgYi5maWxsKDIpO1xuICAgIHQuZXF1YWwoYi50b1N0cmluZygnaGV4JyksICcwMjAyMDIwMjAyMDIwMjAyMDIwMicpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdmaWxsIChzdHJpbmcpJywgZnVuY3Rpb24odCkge1xuICAgIHZhciBiID0gbmV3IEIoMTApO1xuICAgIGIuZmlsbCgnYWJjJyk7XG4gICAgdC5lcXVhbChiLnRvU3RyaW5nKCksICdhYmNhYmNhYmNhJyk7XG4gICAgYi5maWxsKCfVpycpO1xuICAgIHQuZXF1YWwoYi50b1N0cmluZygpLCAn1afVp9Wn1afVpycpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdjb3B5KCkgZW1wdHkgYnVmZmVyIHdpdGggc291cmNlRW5kPTAnLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHNvdXJjZSA9IG5ldyBCKFs0Ml0pO1xuICAgIHZhciBkZXN0aW5hdGlvbiA9IG5ldyBCKFs0M10pO1xuICAgIHNvdXJjZS5jb3B5KGRlc3RpbmF0aW9uLCAwLCAwLCAwKTtcbiAgICB0LmVxdWFsKGRlc3RpbmF0aW9uLnJlYWRVSW50OCgwKSwgNDMpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdjb3B5KCkgYWZ0ZXIgc2xpY2UoKScsIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgc291cmNlID0gbmV3IEIoMjAwKTtcbiAgICB2YXIgZGVzdCA9IG5ldyBCKDIwMCk7XG4gICAgdmFyIGV4cGVjdGVkID0gbmV3IEIoMjAwKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwMDsgaSsrKSB7XG4gICAgICBzb3VyY2VbaV0gPSBpO1xuICAgICAgZGVzdFtpXSA9IDA7XG4gICAgfVxuICAgIHNvdXJjZS5zbGljZSgyKS5jb3B5KGRlc3QpO1xuICAgIHNvdXJjZS5jb3B5KGV4cGVjdGVkLCAwLCAyKTtcbiAgICB0LmRlZXBFcXVhbChkZXN0LCBleHBlY3RlZCk7XG4gICAgdC5lbmQoKTtcbiAgfSk7XG4gIHRlc3QoJ2NvcHkoKSBhc2NlbmRpbmcnLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIGIgPSBuZXcgQignYWJjZGVmZ2hpaicpO1xuICAgIGIuY29weShiLCAwLCAzLCAxMCk7XG4gICAgdC5lcXVhbChiLnRvU3RyaW5nKCksICdkZWZnaGlqaGlqJyk7XG4gICAgdC5lbmQoKTtcbiAgfSk7XG4gIHRlc3QoJ2NvcHkoKSBkZXNjZW5kaW5nJywgZnVuY3Rpb24odCkge1xuICAgIHZhciBiID0gbmV3IEIoJ2FiY2RlZmdoaWonKTtcbiAgICBiLmNvcHkoYiwgMywgMCwgNyk7XG4gICAgdC5lcXVhbChiLnRvU3RyaW5nKCksICdhYmNhYmNkZWZnJyk7XG4gICAgdC5lbmQoKTtcbiAgfSk7XG4gIHRlc3QoJ2J1ZmZlci5zbGljZSBzZXRzIGluZGV4ZXMnLCBmdW5jdGlvbih0KSB7XG4gICAgdC5lcXVhbCgobmV3IEIoJ2hhbGxvJykpLnNsaWNlKDAsIDUpLnRvU3RyaW5nKCksICdoYWxsbycpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdidWZmZXIuc2xpY2Ugb3V0IG9mIHJhbmdlJywgZnVuY3Rpb24odCkge1xuICAgIHQucGxhbigyKTtcbiAgICB0LmVxdWFsKChuZXcgQignaGFsbG8nKSkuc2xpY2UoMCwgMTApLnRvU3RyaW5nKCksICdoYWxsbycpO1xuICAgIHQuZXF1YWwoKG5ldyBCKCdoYWxsbycpKS5zbGljZSgxMCwgMikudG9TdHJpbmcoKSwgJycpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
