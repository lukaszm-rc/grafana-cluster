'use strict';

System.register([], function (_export, _context) {
  return {
    setters: [],
    execute: function () {
      /* */
      (function (process) {
        if (process.env.OBJECT_IMPL) global.TYPED_ARRAY_SUPPORT = false;
        var B = require('../index').Buffer;
        var test = require('tape');
        test('detect utf16 surrogate pairs', function (t) {
          var text = 'üò∏' + 'üí≠' + 'üëç';
          var buf = new B(text);
          t.equal(text, buf.toString());
          t.end();
        });
        test('detect utf16 surrogate pairs over U+20000 until U+10FFFF', function (t) {
          var text = '†Æ∑' + 'Òüí≠' + 'Ùèøø';
          var buf = new B(text);
          t.equal(text, buf.toString());
          t.end();
        });
        test('replace orphaned utf16 surrogate lead code point', function (t) {
          var text = 'üò∏' + 'ÔøΩ' + 'üëç';
          var buf = new B(text);
          t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0xef, 0xbf, 0xbd, 0xf0, 0x9f, 0x91, 0x8d]));
          t.end();
        });
        test('replace orphaned utf16 surrogate trail code point', function (t) {
          var text = 'üò∏' + 'ÔøΩ' + 'üëç';
          var buf = new B(text);
          t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0xef, 0xbf, 0xbd, 0xf0, 0x9f, 0x91, 0x8d]));
          t.end();
        });
        test('do not write partial utf16 code units', function (t) {
          var f = new B([0, 0, 0, 0, 0]);
          t.equal(f.length, 5);
          var size = f.write('„ÅÇ„ÅÑ„ÅÜ„Åà„Åä', 'utf16le');
          t.equal(size, 4);
          t.deepEqual(f, new B([0x42, 0x30, 0x44, 0x30, 0x00]));
          t.end();
        });
        test('handle partial utf16 code points when encoding to utf8 the way node does', function (t) {
          var text = 'üò∏' + 'üëç';
          var buf = new B(8);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0xf0, 0x9f, 0x91, 0x8d]));
          buf = new B(7);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0x00, 0x00, 0x00]));
          buf = new B(6);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0x00, 0x00]));
          buf = new B(5);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0x00]));
          buf = new B(4);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8]));
          buf = new B(3);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x00, 0x00, 0x00]));
          buf = new B(2);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x00, 0x00]));
          buf = new B(1);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x00]));
          t.end();
        });
        test('handle invalid utf16 code points when encoding to utf8 the way node does', function (t) {
          var text = 'a' + 'ÔøΩÔøΩ' + 'b';
          var buf = new B(8);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0xef, 0xbf, 0xbd, 0x62]));
          buf = new B(7);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0xef, 0xbf, 0xbd]));
          buf = new B(6);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0x00, 0x00]));
          buf = new B(5);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0x00]));
          buf = new B(4);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd]));
          buf = new B(3);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61, 0x00, 0x00]));
          buf = new B(2);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61, 0x00]));
          buf = new B(1);
          buf.fill(0);
          buf.write(text);
          t.deepEqual(buf, new B([0x61]));
          t.end();
        });
      })(require('process'));
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5wbS9idWZmZXJAMy42LjAvdGVzdC9mcm9tLXN0cmluZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0EsT0FBQyxVQUFTLE9BQVQsRUFBa0I7QUFDakIsWUFBSSxRQUFRLEdBQVIsQ0FBWSxXQUFaLEVBQ0YsT0FBTyxtQkFBUCxHQUE2QixLQUE3QixDQURGO0FBRUEsWUFBSSxJQUFJLFFBQVEsVUFBUixFQUFvQixNQUFwQixDQUhTO0FBSWpCLFlBQUksT0FBTyxRQUFRLE1BQVIsQ0FBUCxDQUphO0FBS2pCLGFBQUssOEJBQUwsRUFBcUMsVUFBUyxDQUFULEVBQVk7QUFDL0MsY0FBSSxPQUFPLE9BQWlCLElBQWpCLEdBQWtDLElBQWxDLENBRG9DO0FBRS9DLGNBQUksTUFBTSxJQUFJLENBQUosQ0FBTSxJQUFOLENBQU4sQ0FGMkM7QUFHL0MsWUFBRSxLQUFGLENBQVEsSUFBUixFQUFjLElBQUksUUFBSixFQUFkLEVBSCtDO0FBSS9DLFlBQUUsR0FBRixHQUorQztTQUFaLENBQXJDLENBTGlCO0FBV2pCLGFBQUssMERBQUwsRUFBaUUsVUFBUyxDQUFULEVBQVk7QUFDM0UsY0FBSSxPQUFPLE9BQWlCLElBQWpCLEdBQWtDLElBQWxDLENBRGdFO0FBRTNFLGNBQUksTUFBTSxJQUFJLENBQUosQ0FBTSxJQUFOLENBQU4sQ0FGdUU7QUFHM0UsWUFBRSxLQUFGLENBQVEsSUFBUixFQUFjLElBQUksUUFBSixFQUFkLEVBSDJFO0FBSTNFLFlBQUUsR0FBRixHQUoyRTtTQUFaLENBQWpFLENBWGlCO0FBaUJqQixhQUFLLGtEQUFMLEVBQXlELFVBQVMsQ0FBVCxFQUFZO0FBQ25FLGNBQUksT0FBTyxPQUFpQixHQUFqQixHQUE0QixJQUE1QixDQUR3RDtBQUVuRSxjQUFJLE1BQU0sSUFBSSxDQUFKLENBQU0sSUFBTixDQUFOLENBRitEO0FBR25FLFlBQUUsU0FBRixDQUFZLEdBQVosRUFBaUIsSUFBSSxDQUFKLENBQU0sQ0FBQyxJQUFELEVBQU8s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RSxTQUFGLENBQVksR0FBWixFQUFpQixJQUFJLENBQUosQ0FBTSxDQUFDLElBQUQsRUFBTyxJQUFQLENBQU4sQ0FBakIsRUE3QjJGO0FBOEIzRixnQkFBTSxJQUFJLENBQUosQ0FBTSxDQUFOLENBQU4sQ0E5QjJGO0FBK0IzRixjQUFJLElBQUosQ0FBUyxDQUFULEVBL0IyRjtBQWdDM0YsY0FBSSxLQUFKLENBQVUsSUFBVixFQWhDMkY7QUFpQzNGLFlBQUUsU0FBRixDQUFZLEdBQVosRUFBaUIsSUFBSSxDQUFKLENBQU0sQ0FBQyxJQUFELENBQU4sQ0FBakIsRUFqQzJGO0FBa0MzRixZQUFFLEdBQUYsR0FsQzJGO1NBQVosQ0FBakYsQ0F6RWlCO09BQWxCLENBQUQsQ0E2R0csUUFBUSxTQUFSLENBN0dIIiwiZmlsZSI6Im5wbS9idWZmZXJAMy42LjAvdGVzdC9mcm9tLXN0cmluZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk9CSkVDVF9JTVBMKVxuICAgIGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZmFsc2U7XG4gIHZhciBCID0gcmVxdWlyZSgnLi4vaW5kZXgnKS5CdWZmZXI7XG4gIHZhciB0ZXN0ID0gcmVxdWlyZSgndGFwZScpO1xuICB0ZXN0KCdkZXRlY3QgdXRmMTYgc3Vycm9nYXRlIHBhaXJzJywgZnVuY3Rpb24odCkge1xuICAgIHZhciB0ZXh0ID0gJ1xcdUQ4M0RcXHVERTM4JyArICdcXHVEODNEXFx1RENBRCcgKyAnXFx1RDgzRFxcdURDNEQnO1xuICAgIHZhciBidWYgPSBuZXcgQih0ZXh0KTtcbiAgICB0LmVxdWFsKHRleHQsIGJ1Zi50b1N0cmluZygpKTtcbiAgICB0LmVuZCgpO1xuICB9KTtcbiAgdGVzdCgnZGV0ZWN0IHV0ZjE2IHN1cnJvZ2F0ZSBwYWlycyBvdmVyIFUrMjAwMDAgdW50aWwgVSsxMEZGRkYnLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHRleHQgPSAnXFx1RDg0MlxcdURGQjcnICsgJ1xcdUQ5M0RcXHVEQ0FEJyArICdcXHVEQkZGXFx1REZGRic7XG4gICAgdmFyIGJ1ZiA9IG5ldyBCKHRleHQpO1xuICAgIHQuZXF1YWwodGV4dCwgYnVmLnRvU3RyaW5nKCkpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdyZXBsYWNlIG9ycGhhbmVkIHV0ZjE2IHN1cnJvZ2F0ZSBsZWFkIGNvZGUgcG9pbnQnLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHRleHQgPSAnXFx1RDgzRFxcdURFMzgnICsgJ1xcdUQ4M0QnICsgJ1xcdUQ4M0RcXHVEQzREJztcbiAgICB2YXIgYnVmID0gbmV3IEIodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHhmMCwgMHg5ZiwgMHg5OCwgMHhiOCwgMHhlZiwgMHhiZiwgMHhiZCwgMHhmMCwgMHg5ZiwgMHg5MSwgMHg4ZF0pKTtcbiAgICB0LmVuZCgpO1xuICB9KTtcbiAgdGVzdCgncmVwbGFjZSBvcnBoYW5lZCB1dGYxNiBzdXJyb2dhdGUgdHJhaWwgY29kZSBwb2ludCcsIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgdGV4dCA9ICdcXHVEODNEXFx1REUzOCcgKyAnXFx1RENBRCcgKyAnXFx1RDgzRFxcdURDNEQnO1xuICAgIHZhciBidWYgPSBuZXcgQih0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweGYwLCAweDlmLCAweDk4LCAweGI4LCAweGVmLCAweGJmLCAweGJkLCAweGYwLCAweDlmLCAweDkxLCAweDhkXSkpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdkbyBub3Qgd3JpdGUgcGFydGlhbCB1dGYxNiBjb2RlIHVuaXRzJywgZnVuY3Rpb24odCkge1xuICAgIHZhciBmID0gbmV3IEIoWzAsIDAsIDAsIDAsIDBdKTtcbiAgICB0LmVxdWFsKGYubGVuZ3RoLCA1KTtcbiAgICB2YXIgc2l6ZSA9IGYud3JpdGUoJ+OBguOBhOOBhuOBiOOBiicsICd1dGYxNmxlJyk7XG4gICAgdC5lcXVhbChzaXplLCA0KTtcbiAgICB0LmRlZXBFcXVhbChmLCBuZXcgQihbMHg0MiwgMHgzMCwgMHg0NCwgMHgzMCwgMHgwMF0pKTtcbiAgICB0LmVuZCgpO1xuICB9KTtcbiAgdGVzdCgnaGFuZGxlIHBhcnRpYWwgdXRmMTYgY29kZSBwb2ludHMgd2hlbiBlbmNvZGluZyB0byB1dGY4IHRoZSB3YXkgbm9kZSBkb2VzJywgZnVuY3Rpb24odCkge1xuICAgIHZhciB0ZXh0ID0gJ1xcdUQ4M0RcXHVERTM4JyArICdcXHVEODNEXFx1REM0RCc7XG4gICAgdmFyIGJ1ZiA9IG5ldyBCKDgpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweGYwLCAweDlmLCAweDk4LCAweGI4LCAweGYwLCAweDlmLCAweDkxLCAweDhkXSkpO1xuICAgIGJ1ZiA9IG5ldyBCKDcpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweGYwLCAweDlmLCAweDk4LCAweGI4LCAweDAwLCAweDAwLCAweDAwXSkpO1xuICAgIGJ1ZiA9IG5ldyBCKDYpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweGYwLCAweDlmLCAweDk4LCAweGI4LCAweDAwLCAweDAwXSkpO1xuICAgIGJ1ZiA9IG5ldyBCKDUpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweGYwLCAweDlmLCAweDk4LCAweGI4LCAweDAwXSkpO1xuICAgIGJ1ZiA9IG5ldyBCKDQpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweGYwLCAweDlmLCAweDk4LCAweGI4XSkpO1xuICAgIGJ1ZiA9IG5ldyBCKDMpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweDAwLCAweDAwLCAweDAwXSkpO1xuICAgIGJ1ZiA9IG5ldyBCKDIpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweDAwLCAweDAwXSkpO1xuICAgIGJ1ZiA9IG5ldyBCKDEpO1xuICAgIGJ1Zi5maWxsKDApO1xuICAgIGJ1Zi53cml0ZSh0ZXh0KTtcbiAgICB0LmRlZXBFcXVhbChidWYsIG5ldyBCKFsweDAwXSkpO1xuICAgIHQuZW5kKCk7XG4gIH0pO1xuICB0ZXN0KCdoYW5kbGUgaW52YWxpZCB1dGYxNiBjb2RlIHBvaW50cyB3aGVuIGVuY29kaW5nIHRvIHV0ZjggdGhlIHdheSBub2RlIGRvZXMnLCBmdW5jdGlvbih0KSB7XG4gICAgdmFyIHRleHQgPSAnYScgKyAnXFx1REUzOFxcdUQ4M0QnICsgJ2InO1xuICAgIHZhciBidWYgPSBuZXcgQig4KTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MSwgMHhlZiwgMHhiZiwgMHhiZCwgMHhlZiwgMHhiZiwgMHhiZCwgMHg2Ml0pKTtcbiAgICBidWYgPSBuZXcgQig3KTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MSwgMHhlZiwgMHhiZiwgMHhiZCwgMHhlZiwgMHhiZiwgMHhiZF0pKTtcbiAgICBidWYgPSBuZXcgQig2KTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MSwgMHhlZiwgMHhiZiwgMHhiZCwgMHgwMCwgMHgwMF0pKTtcbiAgICBidWYgPSBuZXcgQig1KTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MSwgMHhlZiwgMHhiZiwgMHhiZCwgMHgwMF0pKTtcbiAgICBidWYgPSBuZXcgQig0KTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MSwgMHhlZiwgMHhiZiwgMHhiZF0pKTtcbiAgICBidWYgPSBuZXcgQigzKTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MSwgMHgwMCwgMHgwMF0pKTtcbiAgICBidWYgPSBuZXcgQigyKTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MSwgMHgwMF0pKTtcbiAgICBidWYgPSBuZXcgQigxKTtcbiAgICBidWYuZmlsbCgwKTtcbiAgICBidWYud3JpdGUodGV4dCk7XG4gICAgdC5kZWVwRXF1YWwoYnVmLCBuZXcgQihbMHg2MV0pKTtcbiAgICB0LmVuZCgpO1xuICB9KTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
