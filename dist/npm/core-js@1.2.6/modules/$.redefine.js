'use strict';

System.register([], function (_export, _context) {
  var global, hide, SRC, TO_STRING, $toString, TPL;
  return {
    setters: [],
    execute: function () {
      global = require('./$.global');
      hide = require('./$.hide');
      SRC = require('./$.uid')('src');
      TO_STRING = 'toString';
      $toString = Function[TO_STRING];
      TPL = ('' + $toString).split(TO_STRING);

      require('./$.core').inspectSource = function (it) {
        return $toString.call(it);
      };
      (module.exports = function (O, key, val, safe) {
        if (typeof val == 'function') {
          val.hasOwnProperty(SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
          val.hasOwnProperty('name') || hide(val, 'name', key);
        }
        if (O === global) {
          O[key] = val;
        } else {
          if (!safe) delete O[key];
          hide(O, key, val);
        }
      })(Function.prototype, TO_STRING, function toString() {
        return typeof this == 'function' && this[SRC] || $toString.call(this);
      });
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5wbS9jb3JlLWpzQDEuMi42L21vZHVsZXMvJC5yZWRlZmluZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0ksZUFBUyxRQUFRLFlBQVI7QUFDVCxhQUFPLFFBQVEsVUFBUjtBQUNQLFlBQU0sUUFBUSxTQUFSLEVBQW1CLEtBQW5CO0FBQ04sa0JBQVk7QUFDWixrQkFBWSxTQUFTLFNBQVQ7QUFDWixZQUFNLENBQUMsS0FBSyxTQUFMLENBQUQsQ0FBaUIsS0FBakIsQ0FBdUIsU0FBdkI7O0FBQ1YsY0FBUSxVQUFSLEVBQW9CLGFBQXBCLEdBQW9DLFVBQVMsRUFBVCxFQUFhO0FBQy9DLGVBQU8sVUFBVSxJQUFWLENBQWUsRUFBZixDQUFQLENBRCtDO09BQWI7QUFHcEMsT0FBQyxPQUFPLE9BQVAsR0FBaUIsVUFBUyxDQUFULEVBQVksR0FBWixFQUFpQixHQUFqQixFQUFzQixJQUF0QixFQUE0QjtBQUM1QyxZQUFJLE9BQU8sR0FBUCxJQUFjLFVBQWQsRUFBMEI7QUFDNUIsY0FBSSxjQUFKLENBQW1CLEdBQW5CLEtBQTJCLEtBQUssR0FBTCxFQUFVLEdBQVYsRUFBZSxFQUFFLEdBQUYsSUFBUyxLQUFLLEVBQUUsR0FBRixDQUFMLEdBQWMsSUFBSSxJQUFKLENBQVMsT0FBTyxHQUFQLENBQVQsQ0FBdkIsQ0FBMUMsQ0FENEI7QUFFNUIsY0FBSSxjQUFKLENBQW1CLE1BQW5CLEtBQThCLEtBQUssR0FBTCxFQUFVLE1BQVYsRUFBa0IsR0FBbEIsQ0FBOUIsQ0FGNEI7U0FBOUI7QUFJQSxZQUFJLE1BQU0sTUFBTixFQUFjO0FBQ2hCLFlBQUUsR0FBRixJQUFTLEdBQVQsQ0FEZ0I7U0FBbEIsTUFFTztBQUNMLGNBQUksQ0FBQyxJQUFELEVBQ0YsT0FBTyxFQUFFLEdBQUYsQ0FBUCxDQURGO0FBRUEsZUFBSyxDQUFMLEVBQVEsR0FBUixFQUFhLEdBQWIsRUFISztTQUZQO09BTGdCLENBQWxCLENBWUcsU0FBUyxTQUFULEVBQW9CLFNBWnZCLEVBWWtDLFNBQVMsUUFBVCxHQUFvQjtBQUNwRCxlQUFPLE9BQU8sSUFBUCxJQUFlLFVBQWYsSUFBNkIsS0FBSyxHQUFMLENBQTdCLElBQTBDLFVBQVUsSUFBVixDQUFlLElBQWYsQ0FBMUMsQ0FENkM7T0FBcEIsQ0FabEMiLCJmaWxlIjoibnBtL2NvcmUtanNAMS4yLjYvbW9kdWxlcy8kLnJlZGVmaW5lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogKi8gXG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLFxuICAgIGhpZGUgPSByZXF1aXJlKCcuLyQuaGlkZScpLFxuICAgIFNSQyA9IHJlcXVpcmUoJy4vJC51aWQnKSgnc3JjJyksXG4gICAgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJyxcbiAgICAkdG9TdHJpbmcgPSBGdW5jdGlvbltUT19TVFJJTkddLFxuICAgIFRQTCA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcbnJlcXVpcmUoJy4vJC5jb3JlJykuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uKGl0KSB7XG4gIHJldHVybiAkdG9TdHJpbmcuY2FsbChpdCk7XG59O1xuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywga2V5LCB2YWwsIHNhZmUpIHtcbiAgaWYgKHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhbC5oYXNPd25Qcm9wZXJ0eShTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgICB2YWwuaGFzT3duUHJvcGVydHkoJ25hbWUnKSB8fCBoaWRlKHZhbCwgJ25hbWUnLCBrZXkpO1xuICB9XG4gIGlmIChPID09PSBnbG9iYWwpIHtcbiAgICBPW2tleV0gPSB2YWw7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFzYWZlKVxuICAgICAgZGVsZXRlIE9ba2V5XTtcbiAgICBoaWRlKE8sIGtleSwgdmFsKTtcbiAgfVxufSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzW1NSQ10gfHwgJHRvU3RyaW5nLmNhbGwodGhpcyk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
