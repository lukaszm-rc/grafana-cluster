'use strict';

System.register([], function (_export, _context) {
  var toInteger, defined;
  return {
    setters: [],
    execute: function () {
      toInteger = require('./$.to-integer');
      defined = require('./$.defined');

      module.exports = function (TO_STRING) {
        return function (that, pos) {
          var s = String(defined(that)),
              i = toInteger(pos),
              l = s.length,
              a,
              b;
          if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
          a = s.charCodeAt(i);
          return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
        };
      };
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5wbS9jb3JlLWpzQDEuMi42L21vZHVsZXMvJC5zdHJpbmctYXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNJLGtCQUFZLFFBQVEsZ0JBQVI7QUFDWixnQkFBVSxRQUFRLGFBQVI7O0FBQ2QsYUFBTyxPQUFQLEdBQWlCLFVBQVMsU0FBVCxFQUFvQjtBQUNuQyxlQUFPLFVBQVMsSUFBVCxFQUFlLEdBQWYsRUFBb0I7QUFDekIsY0FBSSxJQUFJLE9BQU8sUUFBUSxJQUFSLENBQVAsQ0FBSjtjQUNBLElBQUksVUFBVSxHQUFWLENBQUo7Y0FDQSxJQUFJLEVBQUUsTUFBRjtjQUNKLENBSEo7Y0FJSSxDQUpKLENBRHlCO0FBTXpCLGNBQUksSUFBSSxDQUFKLElBQVMsS0FBSyxDQUFMLEVBQ1gsT0FBTyxZQUFZLEVBQVosR0FBaUIsU0FBakIsQ0FEVDtBQUVBLGNBQUksRUFBRSxVQUFGLENBQWEsQ0FBYixDQUFKLENBUnlCO0FBU3pCLGlCQUFPLElBQUksTUFBSixJQUFjLElBQUksTUFBSixJQUFjLElBQUksQ0FBSixLQUFVLENBQVYsSUFBZSxDQUFDLElBQUksRUFBRSxVQUFGLENBQWEsSUFBSSxDQUFKLENBQWpCLENBQUQsR0FBNEIsTUFBNUIsSUFBc0MsSUFBSSxNQUFKLEdBQWEsWUFBWSxFQUFFLE1BQUYsQ0FBUyxDQUFULENBQVosR0FBMEIsQ0FBMUIsR0FBOEIsWUFBWSxFQUFFLEtBQUYsQ0FBUSxDQUFSLEVBQVcsSUFBSSxDQUFKLENBQXZCLEdBQWdDLENBQUMsSUFBSSxNQUFKLElBQWMsRUFBZCxDQUFELElBQXNCLElBQUksTUFBSixDQUF0QixHQUFvQyxPQUFwQyxDQVQxSTtTQUFwQixDQUQ0QjtPQUFwQiIsImZpbGUiOiJucG0vY29yZS1qc0AxLjIuNi9tb2R1bGVzLyQuc3RyaW5nLWF0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogKi8gXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi8kLnRvLWludGVnZXInKSxcbiAgICBkZWZpbmVkID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3MpIHtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKSxcbiAgICAgICAgaSA9IHRvSW50ZWdlcihwb3MpLFxuICAgICAgICBsID0gcy5sZW5ndGgsXG4gICAgICAgIGEsXG4gICAgICAgIGI7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gbClcbiAgICAgIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
