'use strict';

System.register([], function (_export, _context) {
  var toInteger, defined;
  return {
    setters: [],
    execute: function () {
      toInteger = require('./$.to-integer');
      defined = require('./$.defined');

      module.exports = function (TO_STRING) {
        return function (that, pos) {
          var s = String(defined(that)),
              i = toInteger(pos),
              l = s.length,
              a,
              b;
          if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
          a = s.charCodeAt(i);
          return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
        };
      };
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnN0cmluZy1hdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0ksa0JBQVksUUFBUSxnQkFBUjtBQUNaLGdCQUFVLFFBQVEsYUFBUjs7QUFDZCxhQUFPLE9BQVAsR0FBaUIsVUFBUyxTQUFULEVBQW9CO0FBQ25DLGVBQU8sVUFBUyxJQUFULEVBQWUsR0FBZixFQUFvQjtBQUN6QixjQUFJLElBQUksT0FBTyxRQUFRLElBQVIsQ0FBUCxDQUFKO2NBQ0EsSUFBSSxVQUFVLEdBQVYsQ0FBSjtjQUNBLElBQUksRUFBRSxNQUFGO2NBQ0osQ0FISjtjQUlJLENBSkosQ0FEeUI7QUFNekIsY0FBSSxJQUFJLENBQUosSUFBUyxLQUFLLENBQUwsRUFDWCxPQUFPLFlBQVksRUFBWixHQUFpQixTQUFqQixDQURUO0FBRUEsY0FBSSxFQUFFLFVBQUYsQ0FBYSxDQUFiLENBQUosQ0FSeUI7QUFTekIsaUJBQU8sSUFBSSxNQUFKLElBQWMsSUFBSSxNQUFKLElBQWMsSUFBSSxDQUFKLEtBQVUsQ0FBVixJQUFlLENBQUMsSUFBSSxFQUFFLFVBQUYsQ0FBYSxJQUFJLENBQUosQ0FBakIsQ0FBRCxHQUE0QixNQUE1QixJQUFzQyxJQUFJLE1BQUosR0FBYSxZQUFZLEVBQUUsTUFBRixDQUFTLENBQVQsQ0FBWixHQUEwQixDQUExQixHQUE4QixZQUFZLEVBQUUsS0FBRixDQUFRLENBQVIsRUFBVyxJQUFJLENBQUosQ0FBdkIsR0FBZ0MsQ0FBQyxJQUFJLE1BQUosSUFBYyxFQUFkLENBQUQsSUFBc0IsSUFBSSxNQUFKLENBQXRCLEdBQW9DLE9BQXBDLENBVDFJO1NBQXBCLENBRDRCO09BQXBCIiwiZmlsZSI6Im5wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnN0cmluZy1hdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qICovIFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vJC50by1pbnRlZ2VyJyksXG4gICAgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSksXG4gICAgICAgIGkgPSB0b0ludGVnZXIocG9zKSxcbiAgICAgICAgbCA9IHMubGVuZ3RoLFxuICAgICAgICBhLFxuICAgICAgICBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpXG4gICAgICByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZiA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYSA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
