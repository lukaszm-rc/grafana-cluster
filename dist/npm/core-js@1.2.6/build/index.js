'use strict';
/* */
"format cjs";

System.register([], function (_export, _context) {
  return {
    setters: [],
    execute: function () {
      (function () {
        var banner, ref$, readFile, writeFile, unlink, path, webpack, list, experimental, libraryBlacklist, es5SpecialCase;
        banner = require('./config').banner;
        ref$ = require('fs'), readFile = ref$.readFile, writeFile = ref$.writeFile, unlink = ref$.unlink;
        path = require('path');
        webpack = require('webpack');
        list = ['es5', 'es6.symbol', 'es6.object.assign', 'es6.object.is', 'es6.object.set-prototype-of', 'es6.object.to-string', 'es6.object.freeze', 'es6.object.seal', 'es6.object.prevent-extensions', 'es6.object.is-frozen', 'es6.object.is-sealed', 'es6.object.is-extensible', 'es6.object.get-own-property-descriptor', 'es6.object.get-prototype-of', 'es6.object.keys', 'es6.object.get-own-property-names', 'es6.function.name', 'es6.function.has-instance', 'es6.number.constructor', 'es6.number.epsilon', 'es6.number.is-finite', 'es6.number.is-integer', 'es6.number.is-nan', 'es6.number.is-safe-integer', 'es6.number.max-safe-integer', 'es6.number.min-safe-integer', 'es6.number.parse-float', 'es6.number.parse-int', 'es6.math.acosh', 'es6.math.asinh', 'es6.math.atanh', 'es6.math.cbrt', 'es6.math.clz32', 'es6.math.cosh', 'es6.math.expm1', 'es6.math.fround', 'es6.math.hypot', 'es6.math.imul', 'es6.math.log10', 'es6.math.log1p', 'es6.math.log2', 'es6.math.sign', 'es6.math.sinh', 'es6.math.tanh', 'es6.math.trunc', 'es6.string.from-code-point', 'es6.string.raw', 'es6.string.trim', 'es6.string.code-point-at', 'es6.string.ends-with', 'es6.string.includes', 'es6.string.repeat', 'es6.string.starts-with', 'es6.string.iterator', 'es6.array.from', 'es6.array.of', 'es6.array.iterator', 'es6.array.species', 'es6.array.copy-within', 'es6.array.fill', 'es6.array.find', 'es6.array.find-index', 'es6.regexp.constructor', 'es6.regexp.flags', 'es6.regexp.match', 'es6.regexp.replace', 'es6.regexp.search', 'es6.regexp.split', 'es6.promise', 'es6.map', 'es6.set', 'es6.weak-map', 'es6.weak-set', 'es6.reflect.apply', 'es6.reflect.construct', 'es6.reflect.define-property', 'es6.reflect.delete-property', 'es6.reflect.enumerate', 'es6.reflect.get', 'es6.reflect.get-own-property-descriptor', 'es6.reflect.get-prototype-of', 'es6.reflect.has', 'es6.reflect.is-extensible', 'es6.reflect.own-keys', 'es6.reflect.prevent-extensions', 'es6.reflect.set', 'es6.reflect.set-prototype-of', 'es6.date.to-string', 'es6.typed.array-buffer', 'es6.typed.data-view', 'es6.typed.int8-array', 'es6.typed.uint8-array', 'es6.typed.uint8-clamped-array', 'es6.typed.int16-array', 'es6.typed.uint16-array', 'es6.typed.int32-array', 'es6.typed.uint32-array', 'es6.typed.float32-array', 'es6.typed.float64-array', 'es7.array.includes', 'es7.string.at', 'es7.string.pad-left', 'es7.string.pad-right', 'es7.string.trim-left', 'es7.string.trim-right', 'es7.regexp.escape', 'es7.object.get-own-property-descriptors', 'es7.object.values', 'es7.object.entries', 'es7.map.to-json', 'es7.set.to-json', 'web.immediate', 'web.dom.iterable', 'web.timers', 'core.dict', 'core.get-iterator-method', 'core.get-iterator', 'core.is-iterable', 'core.delay', 'core.function.part', 'core.object.is-object', 'core.object.classof', 'core.object.define', 'core.object.make', 'core.number.iterator', 'core.string.escape-html', 'core.string.unescape-html', 'core.log', 'js.array.statics'];
        experimental = ['es6.date.to-string', 'es6.typed.array-buffer', 'es6.typed.data-view', 'es6.typed.int8-array', 'es6.typed.uint8-array', 'es6.typed.uint8-clamped-array', 'es6.typed.int16-array', 'es6.typed.uint16-array', 'es6.typed.int32-array', 'es6.typed.uint32-array', 'es6.typed.float32-array', 'es6.typed.float64-array'];
        libraryBlacklist = ['es6.object.to-string', 'es6.function.name', 'es6.regexp.constructor', 'es6.regexp.flags', 'es6.regexp.match', 'es6.regexp.replace', 'es6.regexp.search', 'es6.regexp.split', 'es6.number.constructor'];
        es5SpecialCase = ['es6.object.freeze', 'es6.object.seal', 'es6.object.prevent-extensions', 'es6.object.is-frozen', 'es6.object.is-sealed', 'es6.object.is-extensible', 'es6.string.trim'];
        module.exports = function (arg$, next) {
          var modules, ref$, blacklist, library;
          modules = (ref$ = arg$.modules) != null ? ref$ : [], blacklist = (ref$ = arg$.blacklist) != null ? ref$ : [], library = (ref$ = arg$.library) != null ? ref$ : false;
          (function () {
            var check,
                i$,
                x$,
                ref$,
                len$,
                y$,
                ns,
                name,
                j$,
                len1$,
                TARGET,
                this$ = this;
            check = function check(err) {
              if (err) {
                next(err, '');
                return true;
              }
            };
            if (this.exp) {
              for (i$ = 0, len$ = (ref$ = experimental).length; i$ < len$; ++i$) {
                x$ = ref$[i$];
                this[x$] = true;
              }
            }
            if (this.es5) {
              for (i$ = 0, len$ = (ref$ = es5SpecialCase).length; i$ < len$; ++i$) {
                y$ = ref$[i$];
                this[y$] = true;
              }
            }
            for (ns in this) {
              if (this[ns]) {
                for (i$ = 0, len$ = (ref$ = list).length; i$ < len$; ++i$) {
                  name = ref$[i$];
                  if (name.indexOf(ns + ".") === 0 && !in$(name, experimental)) {
                    this[name] = true;
                  }
                }
              }
            }
            if (library) {
              blacklist = blacklist.concat(libraryBlacklist);
            }
            for (i$ = 0, len$ = blacklist.length; i$ < len$; ++i$) {
              ns = blacklist[i$];
              for (j$ = 0, len1$ = (ref$ = list).length; j$ < len1$; ++j$) {
                name = ref$[j$];
                if (name === ns || name.indexOf(ns + ".") === 0) {
                  this[name] = false;
                }
              }
            }
            TARGET = "./__tmp" + Math.random() + "__.js";
            webpack({
              entry: list.filter(function (it) {
                return this$[it];
              }).map(function (it) {
                return path.join(__dirname, '../', (library ? '/library' : '') + "/modules/" + it);
              }),
              output: {
                path: '',
                filename: TARGET
              }
            }, function (err, info) {
              if (check(err)) {
                return;
              }
              readFile(TARGET, function (err, script) {
                if (check(err)) {
                  return;
                }
                unlink(TARGET, function (err) {
                  if (check(err)) {
                    return;
                  }
                  next(null, "" + banner + "\n!function(__e, __g, undefined){\n'use strict';\n" + script + "\n// CommonJS export\nif(typeof module != 'undefined' && module.exports)module.exports = __e;\n// RequireJS export\nelse if(typeof define == 'function' && define.amd)define(function(){return __e});\n// Export to global object\nelse __g.core = __e;\n}(1, 1);");
                });
              });
            });
          }).call(modules.reduce(function (memo, it) {
            memo[it] = true;
            return memo;
          }, {}));
        };
        function in$(x, xs) {
          var i = -1,
              l = xs.length >>> 0;
          while (++i < l) {
            if (x === xs[i]) return true;
          }return false;
        }
      }).call(undefined);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5wbS9jb3JlLWpzQDEuMi42L2J1aWxkL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7Ozs7OztBQUNBLE9BQUMsWUFBVztBQUNWLFlBQUksTUFBSixFQUNJLElBREosRUFFSSxRQUZKLEVBR0ksU0FISixFQUlJLE1BSkosRUFLSSxJQUxKLEVBTUksT0FOSixFQU9JLElBUEosRUFRSSxZQVJKLEVBU0ksZ0JBVEosRUFVSSxjQVZKLENBRFU7QUFZVixpQkFBUyxRQUFRLFVBQVIsRUFBb0IsTUFBcEIsQ0FaQztBQWFWLGVBQU8sUUFBUSxJQUFSLENBQVAsRUFBc0IsV0FBVyxLQUFLLFFBQUwsRUFBZSxZQUFZLEtBQUssU0FBTCxFQUFnQixTQUFTLEtBQUssTUFBTCxDQWIzRTtBQWNWLGVBQU8sUUFBUSxNQUFSLENBQVAsQ0FkVTtBQWVWLGtCQUFVLFFBQVEsU0FBUixDQUFWLENBZlU7QUFnQlYsZUFBTyxDQUFDLEtBQUQsRUFBUSxZQUFSLEVBQXNCLG1CQUF0QixFQUEyQyxlQUEzQyxFQUE0RCw2QkFBNUQsRUFBMkYsc0JBQTNGLEVBQW1ILG1CQUFuSCxFQUF3SSxpQkFBeEksRUFBMkosK0JBQTNKLEVBQTRMLHNCQUE1TCxFQUFvTixzQkFBcE4sRUFBNE8sMEJBQTVPLEVBQXdRLHdDQUF4USxFQUFrVCw2QkFBbFQsRUFBaVYsaUJBQWpWLEVBQW9XLG1DQUFwVyxFQUF5WSxtQkFBelksRUFBOFosMkJBQTlaLEVBQTJiLHdCQUEzYixFQUFxZCxvQkFBcmQsRUFBMmUsc0JBQTNlLEVBQW1nQix1QkFBbmdCLEVBQTRoQixtQkFBNWhCLEVBQWlqQiw0QkFBampCLEVBQStrQiw2QkFBL2tCLEVBQThtQiw2QkFBOW1CLEVBQTZvQix3QkFBN29CLEVBQXVxQixzQkFBdnFCLEVBQStyQixnQkFBL3JCLEVBQWl0QixnQkFBanRCLEVBQW11QixnQkFBbnVCLEVBQXF2QixlQUFydkIsRUFBc3dCLGdCQUF0d0IsRUFBd3hCLGVBQXh4QixFQUF5eUIs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dUM7V0FBbkIsRUFHbkIsRUFISSxDQWhGTixDQUFELENBTm9DO1NBQXJCLENBcEJQO0FBK0dWLGlCQUFTLEdBQVQsQ0FBYSxDQUFiLEVBQWdCLEVBQWhCLEVBQW9CO0FBQ2xCLGNBQUksSUFBSSxDQUFDLENBQUQ7Y0FDSixJQUFJLEdBQUcsTUFBSCxLQUFjLENBQWQsQ0FGVTtBQUdsQixpQkFBTyxFQUFFLENBQUYsR0FBTSxDQUFOO0FBQ0wsZ0JBQUksTUFBTSxHQUFHLENBQUgsQ0FBTixFQUNGLE9BQU8sSUFBUCxDQURGO1dBREYsT0FHTyxLQUFQLENBTmtCO1NBQXBCO09BL0dELENBQUQsQ0F1SEcsSUF2SEgiLCJmaWxlIjoibnBtL2NvcmUtanNAMS4yLjYvYnVpbGQvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAqLyBcblwiZm9ybWF0IGNqc1wiO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgYmFubmVyLFxuICAgICAgcmVmJCxcbiAgICAgIHJlYWRGaWxlLFxuICAgICAgd3JpdGVGaWxlLFxuICAgICAgdW5saW5rLFxuICAgICAgcGF0aCxcbiAgICAgIHdlYnBhY2ssXG4gICAgICBsaXN0LFxuICAgICAgZXhwZXJpbWVudGFsLFxuICAgICAgbGlicmFyeUJsYWNrbGlzdCxcbiAgICAgIGVzNVNwZWNpYWxDYXNlO1xuICBiYW5uZXIgPSByZXF1aXJlKCcuL2NvbmZpZycpLmJhbm5lcjtcbiAgcmVmJCA9IHJlcXVpcmUoJ2ZzJyksIHJlYWRGaWxlID0gcmVmJC5yZWFkRmlsZSwgd3JpdGVGaWxlID0gcmVmJC53cml0ZUZpbGUsIHVubGluayA9IHJlZiQudW5saW5rO1xuICBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuICB3ZWJwYWNrID0gcmVxdWlyZSgnd2VicGFjaycpO1xuICBsaXN0ID0gWydlczUnLCAnZXM2LnN5bWJvbCcsICdlczYub2JqZWN0LmFzc2lnbicsICdlczYub2JqZWN0LmlzJywgJ2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicsICdlczYub2JqZWN0LnRvLXN0cmluZycsICdlczYub2JqZWN0LmZyZWV6ZScsICdlczYub2JqZWN0LnNlYWwnLCAnZXM2Lm9iamVjdC5wcmV2ZW50LWV4dGVuc2lvbnMnLCAnZXM2Lm9iamVjdC5pcy1mcm96ZW4nLCAnZXM2Lm9iamVjdC5pcy1zZWFsZWQnLCAnZXM2Lm9iamVjdC5pcy1leHRlbnNpYmxlJywgJ2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJywgJ2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicsICdlczYub2JqZWN0LmtleXMnLCAnZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LW5hbWVzJywgJ2VzNi5mdW5jdGlvbi5uYW1lJywgJ2VzNi5mdW5jdGlvbi5oYXMtaW5zdGFuY2UnLCAnZXM2Lm51bWJlci5jb25zdHJ1Y3RvcicsICdlczYubnVtYmVyLmVwc2lsb24nLCAnZXM2Lm51bWJlci5pcy1maW5pdGUnLCAnZXM2Lm51bWJlci5pcy1pbnRlZ2VyJywgJ2VzNi5udW1iZXIuaXMtbmFuJywgJ2VzNi5udW1iZXIuaXMtc2FmZS1pbnRlZ2VyJywgJ2VzNi5udW1iZXIubWF4LXNhZmUtaW50ZWdlcicsICdlczYubnVtYmVyLm1pbi1zYWZlLWludGVnZXInLCAnZXM2Lm51bWJlci5wYXJzZS1mbG9hdCcsICdlczYubnVtYmVyLnBhcnNlLWludCcsICdlczYubWF0aC5hY29zaCcsICdlczYubWF0aC5hc2luaCcsICdlczYubWF0aC5hdGFuaCcsICdlczYubWF0aC5jYnJ0JywgJ2VzNi5tYXRoLmNsejMyJywgJ2VzNi5tYXRoLmNvc2gnLCAnZXM2Lm1hdGguZXhwbTEnLCAnZXM2Lm1hdGguZnJvdW5kJywgJ2VzNi5tYXRoLmh5cG90JywgJ2VzNi5tYXRoLmltdWwnLCAnZXM2Lm1hdGgubG9nMTAnLCAnZXM2Lm1hdGgubG9nMXAnLCAnZXM2Lm1hdGgubG9nMicsICdlczYubWF0aC5zaWduJywgJ2VzNi5tYXRoLnNpbmgnLCAnZXM2Lm1hdGgudGFuaCcsICdlczYubWF0aC50cnVuYycsICdlczYuc3RyaW5nLmZyb20tY29kZS1wb2ludCcsICdlczYuc3RyaW5nLnJhdycsICdlczYuc3RyaW5nLnRyaW0nLCAnZXM2LnN0cmluZy5jb2RlLXBvaW50LWF0JywgJ2VzNi5zdHJpbmcuZW5kcy13aXRoJywgJ2VzNi5zdHJpbmcuaW5jbHVkZXMnLCAnZXM2LnN0cmluZy5yZXBlYXQnLCAnZXM2LnN0cmluZy5zdGFydHMtd2l0aCcsICdlczYuc3RyaW5nLml0ZXJhdG9yJywgJ2VzNi5hcnJheS5mcm9tJywgJ2VzNi5hcnJheS5vZicsICdlczYuYXJyYXkuaXRlcmF0b3InLCAnZXM2LmFycmF5LnNwZWNpZXMnLCAnZXM2LmFycmF5LmNvcHktd2l0aGluJywgJ2VzNi5hcnJheS5maWxsJywgJ2VzNi5hcnJheS5maW5kJywgJ2VzNi5hcnJheS5maW5kLWluZGV4JywgJ2VzNi5yZWdleHAuY29uc3RydWN0b3InLCAnZXM2LnJlZ2V4cC5mbGFncycsICdlczYucmVnZXhwLm1hdGNoJywgJ2VzNi5yZWdleHAucmVwbGFjZScsICdlczYucmVnZXhwLnNlYXJjaCcsICdlczYucmVnZXhwLnNwbGl0JywgJ2VzNi5wcm9taXNlJywgJ2VzNi5tYXAnLCAnZXM2LnNldCcsICdlczYud2Vhay1tYXAnLCAnZXM2LndlYWstc2V0JywgJ2VzNi5yZWZsZWN0LmFwcGx5JywgJ2VzNi5yZWZsZWN0LmNvbnN0cnVjdCcsICdlczYucmVmbGVjdC5kZWZpbmUtcHJvcGVydHknLCAnZXM2LnJlZmxlY3QuZGVsZXRlLXByb3BlcnR5JywgJ2VzNi5yZWZsZWN0LmVudW1lcmF0ZScsICdlczYucmVmbGVjdC5nZXQnLCAnZXM2LnJlZmxlY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJywgJ2VzNi5yZWZsZWN0LmdldC1wcm90b3R5cGUtb2YnLCAnZXM2LnJlZmxlY3QuaGFzJywgJ2VzNi5yZWZsZWN0LmlzLWV4dGVuc2libGUnLCAnZXM2LnJlZmxlY3Qub3duLWtleXMnLCAnZXM2LnJlZmxlY3QucHJldmVudC1leHRlbnNpb25zJywgJ2VzNi5yZWZsZWN0LnNldCcsICdlczYucmVmbGVjdC5zZXQtcHJvdG90eXBlLW9mJywgJ2VzNi5kYXRlLnRvLXN0cmluZycsICdlczYudHlwZWQuYXJyYXktYnVmZmVyJywgJ2VzNi50eXBlZC5kYXRhLXZpZXcnLCAnZXM2LnR5cGVkLmludDgtYXJyYXknLCAnZXM2LnR5cGVkLnVpbnQ4LWFycmF5JywgJ2VzNi50eXBlZC51aW50OC1jbGFtcGVkLWFycmF5JywgJ2VzNi50eXBlZC5pbnQxNi1hcnJheScsICdlczYudHlwZWQudWludDE2LWFycmF5JywgJ2VzNi50eXBlZC5pbnQzMi1hcnJheScsICdlczYudHlwZWQudWludDMyLWFycmF5JywgJ2VzNi50eXBlZC5mbG9hdDMyLWFycmF5JywgJ2VzNi50eXBlZC5mbG9hdDY0LWFycmF5JywgJ2VzNy5hcnJheS5pbmNsdWRlcycsICdlczcuc3RyaW5nLmF0JywgJ2VzNy5zdHJpbmcucGFkLWxlZnQnLCAnZXM3LnN0cmluZy5wYWQtcmlnaHQnLCAnZXM3LnN0cmluZy50cmltLWxlZnQnLCAnZXM3LnN0cmluZy50cmltLXJpZ2h0JywgJ2VzNy5yZWdleHAuZXNjYXBlJywgJ2VzNy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycycsICdlczcub2JqZWN0LnZhbHVlcycsICdlczcub2JqZWN0LmVudHJpZXMnLCAnZXM3Lm1hcC50by1qc29uJywgJ2VzNy5zZXQudG8tanNvbicsICd3ZWIuaW1tZWRpYXRlJywgJ3dlYi5kb20uaXRlcmFibGUnLCAnd2ViLnRpbWVycycsICdjb3JlLmRpY3QnLCAnY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJywgJ2NvcmUuZ2V0LWl0ZXJhdG9yJywgJ2NvcmUuaXMtaXRlcmFibGUnLCAnY29yZS5kZWxheScsICdjb3JlLmZ1bmN0aW9uLnBhcnQnLCAnY29yZS5vYmplY3QuaXMtb2JqZWN0JywgJ2NvcmUub2JqZWN0LmNsYXNzb2YnLCAnY29yZS5vYmplY3QuZGVmaW5lJywgJ2NvcmUub2JqZWN0Lm1ha2UnLCAnY29yZS5udW1iZXIuaXRlcmF0b3InLCAnY29yZS5zdHJpbmcuZXNjYXBlLWh0bWwnLCAnY29yZS5zdHJpbmcudW5lc2NhcGUtaHRtbCcsICdjb3JlLmxvZycsICdqcy5hcnJheS5zdGF0aWNzJ107XG4gIGV4cGVyaW1lbnRhbCA9IFsnZXM2LmRhdGUudG8tc3RyaW5nJywgJ2VzNi50eXBlZC5hcnJheS1idWZmZXInLCAnZXM2LnR5cGVkLmRhdGEtdmlldycsICdlczYudHlwZWQuaW50OC1hcnJheScsICdlczYudHlwZWQudWludDgtYXJyYXknLCAnZXM2LnR5cGVkLnVpbnQ4LWNsYW1wZWQtYXJyYXknLCAnZXM2LnR5cGVkLmludDE2LWFycmF5JywgJ2VzNi50eXBlZC51aW50MTYtYXJyYXknLCAnZXM2LnR5cGVkLmludDMyLWFycmF5JywgJ2VzNi50eXBlZC51aW50MzItYXJyYXknLCAnZXM2LnR5cGVkLmZsb2F0MzItYXJyYXknLCAnZXM2LnR5cGVkLmZsb2F0NjQtYXJyYXknXTtcbiAgbGlicmFyeUJsYWNrbGlzdCA9IFsnZXM2Lm9iamVjdC50by1zdHJpbmcnLCAnZXM2LmZ1bmN0aW9uLm5hbWUnLCAnZXM2LnJlZ2V4cC5jb25zdHJ1Y3RvcicsICdlczYucmVnZXhwLmZsYWdzJywgJ2VzNi5yZWdleHAubWF0Y2gnLCAnZXM2LnJlZ2V4cC5yZXBsYWNlJywgJ2VzNi5yZWdleHAuc2VhcmNoJywgJ2VzNi5yZWdleHAuc3BsaXQnLCAnZXM2Lm51bWJlci5jb25zdHJ1Y3RvciddO1xuICBlczVTcGVjaWFsQ2FzZSA9IFsnZXM2Lm9iamVjdC5mcmVlemUnLCAnZXM2Lm9iamVjdC5zZWFsJywgJ2VzNi5vYmplY3QucHJldmVudC1leHRlbnNpb25zJywgJ2VzNi5vYmplY3QuaXMtZnJvemVuJywgJ2VzNi5vYmplY3QuaXMtc2VhbGVkJywgJ2VzNi5vYmplY3QuaXMtZXh0ZW5zaWJsZScsICdlczYuc3RyaW5nLnRyaW0nXTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcmckLCBuZXh0KSB7XG4gICAgdmFyIG1vZHVsZXMsXG4gICAgICAgIHJlZiQsXG4gICAgICAgIGJsYWNrbGlzdCxcbiAgICAgICAgbGlicmFyeTtcbiAgICBtb2R1bGVzID0gKHJlZiQgPSBhcmckLm1vZHVsZXMpICE9IG51bGwgPyByZWYkIDogW10sIGJsYWNrbGlzdCA9IChyZWYkID0gYXJnJC5ibGFja2xpc3QpICE9IG51bGwgPyByZWYkIDogW10sIGxpYnJhcnkgPSAocmVmJCA9IGFyZyQubGlicmFyeSkgIT0gbnVsbCA/IHJlZiQgOiBmYWxzZTtcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2hlY2ssXG4gICAgICAgICAgaSQsXG4gICAgICAgICAgeCQsXG4gICAgICAgICAgcmVmJCxcbiAgICAgICAgICBsZW4kLFxuICAgICAgICAgIHkkLFxuICAgICAgICAgIG5zLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgaiQsXG4gICAgICAgICAgbGVuMSQsXG4gICAgICAgICAgVEFSR0VULFxuICAgICAgICAgIHRoaXMkID0gdGhpcztcbiAgICAgIGNoZWNrID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBuZXh0KGVyciwgJycpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuZXhwKSB7XG4gICAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSBleHBlcmltZW50YWwpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgICAgeCQgPSByZWYkW2kkXTtcbiAgICAgICAgICB0aGlzW3gkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmVzNSkge1xuICAgICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gZXM1U3BlY2lhbENhc2UpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgICAgeSQgPSByZWYkW2kkXTtcbiAgICAgICAgICB0aGlzW3kkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobnMgaW4gdGhpcykge1xuICAgICAgICBpZiAodGhpc1tuc10pIHtcbiAgICAgICAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gbGlzdCkubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgICAgICAgIG5hbWUgPSByZWYkW2kkXTtcbiAgICAgICAgICAgIGlmIChuYW1lLmluZGV4T2YobnMgKyBcIi5cIikgPT09IDAgJiYgIWluJChuYW1lLCBleHBlcmltZW50YWwpKSB7XG4gICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxpYnJhcnkpIHtcbiAgICAgICAgYmxhY2tsaXN0ID0gYmxhY2tsaXN0LmNvbmNhdChsaWJyYXJ5QmxhY2tsaXN0KTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSQgPSAwLCBsZW4kID0gYmxhY2tsaXN0Lmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICAgIG5zID0gYmxhY2tsaXN0W2kkXTtcbiAgICAgICAgZm9yIChqJCA9IDAsIGxlbjEkID0gKHJlZiQgPSBsaXN0KS5sZW5ndGg7IGokIDwgbGVuMSQ7ICsraiQpIHtcbiAgICAgICAgICBuYW1lID0gcmVmJFtqJF07XG4gICAgICAgICAgaWYgKG5hbWUgPT09IG5zIHx8IG5hbWUuaW5kZXhPZihucyArIFwiLlwiKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgVEFSR0VUID0gXCIuL19fdG1wXCIgKyBNYXRoLnJhbmRvbSgpICsgXCJfXy5qc1wiO1xuICAgICAgd2VicGFjayh7XG4gICAgICAgIGVudHJ5OiBsaXN0LmZpbHRlcihmdW5jdGlvbihpdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzJFtpdF07XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbihpdCkge1xuICAgICAgICAgIHJldHVybiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vJywgKGxpYnJhcnkgPyAnL2xpYnJhcnknIDogJycpICsgXCIvbW9kdWxlcy9cIiArIGl0KTtcbiAgICAgICAgfSksXG4gICAgICAgIG91dHB1dDoge1xuICAgICAgICAgIHBhdGg6ICcnLFxuICAgICAgICAgIGZpbGVuYW1lOiBUQVJHRVRcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24oZXJyLCBpbmZvKSB7XG4gICAgICAgIGlmIChjaGVjayhlcnIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlYWRGaWxlKFRBUkdFVCwgZnVuY3Rpb24oZXJyLCBzY3JpcHQpIHtcbiAgICAgICAgICBpZiAoY2hlY2soZXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bmxpbmsoVEFSR0VULCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVjayhlcnIpKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQobnVsbCwgXCJcIiArIGJhbm5lciArIFwiXFxuIWZ1bmN0aW9uKF9fZSwgX19nLCB1bmRlZmluZWQpe1xcbid1c2Ugc3RyaWN0JztcXG5cIiArIHNjcmlwdCArIFwiXFxuLy8gQ29tbW9uSlMgZXhwb3J0XFxuaWYodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyltb2R1bGUuZXhwb3J0cyA9IF9fZTtcXG4vLyBSZXF1aXJlSlMgZXhwb3J0XFxuZWxzZSBpZih0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gX19lfSk7XFxuLy8gRXhwb3J0IHRvIGdsb2JhbCBvYmplY3RcXG5lbHNlIF9fZy5jb3JlID0gX19lO1xcbn0oMSwgMSk7XCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0uY2FsbChtb2R1bGVzLnJlZHVjZShmdW5jdGlvbihtZW1vLCBpdCkge1xuICAgICAgbWVtb1tpdF0gPSB0cnVlO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfSwge30pKSk7XG4gIH07XG4gIGZ1bmN0aW9uIGluJCh4LCB4cykge1xuICAgIHZhciBpID0gLTEsXG4gICAgICAgIGwgPSB4cy5sZW5ndGggPj4+IDA7XG4gICAgd2hpbGUgKCsraSA8IGwpXG4gICAgICBpZiAoeCA9PT0geHNbaV0pXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkuY2FsbCh0aGlzKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
