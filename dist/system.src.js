'use strict';System.register([],function(_export2,_context){var _typeof;return {setters:[],execute:function(){_typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;}; /*
 * SystemJS v0.19.23
 */(function(){function bootstrap(){(function(__global){var isWorker=typeof window=='undefined'&&typeof self!='undefined'&&typeof importScripts!='undefined';var isBrowser=typeof window!='undefined'&&typeof document!='undefined';var isWindows=typeof process!='undefined'&&typeof process.platform!='undefined'&&!!process.platform.match(/^win/);if(!__global.console)__global.console={assert:function assert(){}}; // IE8 support
var indexOf=Array.prototype.indexOf||function(item){for(var i=0,thisLen=this.length;i<thisLen;i++){if(this[i]===item){return i;}}return -1;};var defineProperty;(function(){try{if(!!Object.defineProperty({},'a',{}))defineProperty=Object.defineProperty;}catch(e){defineProperty=function defineProperty(obj,prop,opt){try{obj[prop]=opt.value||opt.get.call(obj);}catch(e){}};}})();function addToError(err,msg){var newErr=new Error((err.message||err)+'\n\t'+msg,err.fileName,err.lineNumber); // Node needs stack adjustment for throw to show message
if(!isBrowser)newErr.stack=(err.stack||err.message||err)+'\n\t'+msg; // track the original error
newErr.originalErr=err.originalErr||err;return newErr;}function __eval(source,debugName,context){try{new Function(source).call(context);}catch(e){throw addToError(e,'Evaluating '+debugName);}}var baseURI; // environent baseURI detection
if(typeof document!='undefined'&&document.getElementsByTagName){baseURI=document.baseURI;if(!baseURI){var bases=document.getElementsByTagName('base');baseURI=bases[0]&&bases[0].href||window.location.href;} // sanitize out the hash and querystring
baseURI=baseURI.split('#')[0].split('?')[0];baseURI=baseURI.substr(0,baseURI.lastIndexOf('/')+1);}else if(typeof process!='undefined'&&process.cwd){baseURI='file://'+(isWindows?'/':'')+process.cwd()+'/';if(isWindows)baseURI=baseURI.replace(/\\/g,'/');}else if(typeof location!='undefined'){baseURI=__global.location.href;}else {throw new TypeError('No environment baseURI');}var URL=__global.URLPolyfill||__global.URL; /*
*********************************************************************************************

  Dynamic Module Loader Polyfill

    - Implemented exactly to the former 2014-08-24 ES6 Specification Draft Rev 27, Section 15
      http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts#august_24_2014_draft_rev_27

    - Functions are commented with their spec numbers, with spec differences commented.

    - Spec bugs are commented in this code with links.

    - Abstract functions have been combined where possible, and their associated functions
      commented.

    - Realm implementation is entirely omitted.

*********************************************************************************************
*/function Module(){} // http://www.ecma-international.org/ecma-262/6.0/#sec-@@tostringtag
defineProperty(Module.prototype,'toString',{value:function value(){return 'Module';}});function Loader(options){this._loader={loaderObj:this,loads:[],modules:{},importPromises:{},moduleRecords:{}}; // 26.3.3.6
defineProperty(this,'global',{get:function get(){return __global;}}); // 26.3.3.13 realm not implemented
}(function(){ // Some Helpers
// logs a linkset snapshot for debugging
/* function snapshot(loader) {
  console.log('---Snapshot---');
  for (var i = 0; i < loader.loads.length; i++) {
    var load = loader.loads[i];
    var linkSetLog = '  ' + load.name + ' (' + load.status + '): ';

    for (var j = 0; j < load.linkSets.length; j++) {
      linkSetLog += '{' + logloads(load.linkSets[j].loads) + '} ';
    }
    console.log(linkSetLog);
  }
  console.log('');
}
function logloads(loads) {
  var log = '';
  for (var k = 0; k < loads.length; k++)
    log += loads[k].name + (k != loads.length - 1 ? ' ' : '');
  return log;
} */ /* function checkInvariants() {
  // see https://bugs.ecmascript.org/show_bug.cgi?id=2603#c1

  var loads = System._loader.loads;
  var linkSets = [];

  for (var i = 0; i < loads.length; i++) {
    var load = loads[i];
    console.assert(load.status == 'loading' || load.status == 'loaded', 'Each load is loading or loaded');

    for (var j = 0; j < load.linkSets.length; j++) {
      var linkSet = load.linkSets[j];

      for (var k = 0; k < linkSet.loads.length; k++)
        console.assert(loads.indexOf(linkSet.loads[k]) != -1, 'linkSet loads are a subset of loader loads');

      if (linkSets.indexOf(linkSet) == -1)
        linkSets.push(linkSet);
    }
  }

  for (var i = 0; i < loads.length; i++) {
    var load = loads[i];
    for (var j = 0; j < linkSets.length; j++) {
      var linkSet = linkSets[j];

      if (linkSet.loads.indexOf(load) != -1)
        console.assert(load.linkSets.indexOf(linkSet) != -1, 'linkSet contains load -> load contains linkSet');

      if (load.linkSets.indexOf(linkSet) != -1)
        console.assert(linkSet.loads.indexOf(load) != -1, 'load contains linkSet -> linkSet contains load');
    }
  }

  for (var i = 0; i < linkSets.length; i++) {
    var linkSet = linkSets[i];
    for (var j = 0; j < linkSet.loads.length; j++) {
      var load = linkSet.loads[j];

      for (var k = 0; k < load.dependencies.length; k++) {
        var depName = load.dependencies[k].value;
        var depLoad;
        for (var l = 0; l < loads.length; l++) {
          if (loads[l].name != depName)
            continue;
          depLoad = loads[l];
          break;
        }

        // loading records are allowed not to have their dependencies yet
        // if (load.status != 'loading')
        //  console.assert(depLoad, 'depLoad found');

        // console.assert(linkSet.loads.indexOf(depLoad) != -1, 'linkset contains all dependencies');
      }
    }
  }
} */ // 15.2.3 - Runtime Semantics: Loader State
// 15.2.3.11
function createLoaderLoad(object){return { // modules is an object for ES5 implementation
modules:{},loads:[],loaderObj:object};} // 15.2.3.2 Load Records and LoadRequest Objects
// 15.2.3.2.1
function createLoad(name){return {status:'loading',name:name,linkSets:[],dependencies:[],metadata:{}};} // 15.2.3.2.2 createLoadRequestObject, absorbed into calling functions
// 15.2.4
// 15.2.4.1
function loadModule(loader,name,options){return new Promise(asyncStartLoadPartwayThrough({step:options.address?'fetch':'locate',loader:loader,moduleName:name, // allow metadata for import https://bugs.ecmascript.org/show_bug.cgi?id=3091
moduleMetadata:options&&options.metadata||{},moduleSource:options.source,moduleAddress:options.address}));} // 15.2.4.2
function requestLoad(loader,request,refererName,refererAddress){ // 15.2.4.2.1 CallNormalize
return new Promise(function(resolve,reject){resolve(loader.loaderObj.normalize(request,refererName,refererAddress));}) // 15.2.4.2.2 GetOrCreateLoad
.then(function(name){var load;if(loader.modules[name]){load=createLoad(name);load.status='linked'; // https://bugs.ecmascript.org/show_bug.cgi?id=2795
load.module=loader.modules[name];return load;}for(var i=0,l=loader.loads.length;i<l;i++){load=loader.loads[i];if(load.name!=name)continue;console.assert(load.status=='loading'||load.status=='loaded','loading or loaded');return load;}load=createLoad(name);loader.loads.push(load);proceedToLocate(loader,load);return load;});} // 15.2.4.3
function proceedToLocate(loader,load){proceedToFetch(loader,load,Promise.resolve() // 15.2.4.3.1 CallLocate
.then(function(){return loader.loaderObj.locate({name:load.name,metadata:load.metadata});}));} // 15.2.4.4
function proceedToFetch(loader,load,p){proceedToTranslate(loader,load,p // 15.2.4.4.1 CallFetch
.then(function(address){ // adjusted, see https://bugs.ecmascript.org/show_bug.cgi?id=2602
if(load.status!='loading')return;load.address=address;return loader.loaderObj.fetch({name:load.name,metadata:load.metadata,address:address});}));}var anonCnt=0; // 15.2.4.5
function proceedToTranslate(loader,load,p){p // 15.2.4.5.1 CallTranslate
.then(function(source){if(load.status!='loading')return;return Promise.resolve(loader.loaderObj.translate({name:load.name,metadata:load.metadata,address:load.address,source:source})) // 15.2.4.5.2 CallInstantiate
.then(function(source){load.source=source;return loader.loaderObj.instantiate({name:load.name,metadata:load.metadata,address:load.address,source:source});}) // 15.2.4.5.3 InstantiateSucceeded
.then(function(instantiateResult){if(instantiateResult===undefined){load.address=load.address||'<Anonymous Module '+ ++anonCnt+'>'; // instead of load.kind, use load.isDeclarative
load.isDeclarative=true;return transpile.call(loader.loaderObj,load).then(function(transpiled){ // Hijack System.register to set declare function
var curSystem=__global.System;var curRegister=curSystem.register;curSystem.register=function(name,deps,declare){if(typeof name!='string'){declare=deps;deps=name;} // store the registered declaration as load.declare
// store the deps as load.deps
load.declare=declare;load.depsList=deps;}; // empty {} context is closest to undefined 'this' we can get
__eval(transpiled,load.address,{});curSystem.register=curRegister;});}else if((typeof instantiateResult==='undefined'?'undefined':_typeof(instantiateResult))=='object'){load.depsList=instantiateResult.deps||[];load.execute=instantiateResult.execute;load.isDeclarative=false;}else throw TypeError('Invalid instantiate return value');}) // 15.2.4.6 ProcessLoadDependencies
.then(function(){load.dependencies=[];var depsList=load.depsList;var loadPromises=[];for(var i=0,l=depsList.length;i<l;i++){(function(request,index){loadPromises.push(requestLoad(loader,request,load.name,load.address) // 15.2.4.6.1 AddDependencyLoad (load is parentLoad)
.then(function(depLoad){ // adjusted from spec to maintain dependency order
// this is due to the System.register internal implementation needs
load.dependencies[index]={key:request,value:depLoad.name};if(depLoad.status!='linked'){var linkSets=load.linkSets.concat([]);for(var i=0,l=linkSets.length;i<l;i++){addLoadToLinkSet(linkSets[i],depLoad);}} // console.log('AddDependencyLoad ' + depLoad.name + ' for ' + load.name);
// snapshot(loader);
}));})(depsList[i],i);}return Promise.all(loadPromises);}) // 15.2.4.6.2 LoadSucceeded
.then(function(){ // console.log('LoadSucceeded ' + load.name);
// snapshot(loader);
console.assert(load.status=='loading','is loading');load.status='loaded';var linkSets=load.linkSets.concat([]);for(var i=0,l=linkSets.length;i<l;i++){updateLinkSetOnLoad(linkSets[i],load);}});}) // 15.2.4.5.4 LoadFailed
['catch'](function(exc){load.status='failed';load.exception=exc;var linkSets=load.linkSets.concat([]);for(var i=0,l=linkSets.length;i<l;i++){linkSetFailed(linkSets[i],load,exc);}console.assert(load.linkSets.length==0,'linkSets not removed');});} // 15.2.4.7 PromiseOfStartLoadPartwayThrough absorbed into calling functions
// 15.2.4.7.1
function asyncStartLoadPartwayThrough(stepState){return function(resolve,reject){var loader=stepState.loader;var name=stepState.moduleName;var step=stepState.step;if(loader.modules[name])throw new TypeError('"'+name+'" already exists in the module table'); // adjusted to pick up existing loads
var existingLoad;for(var i=0,l=loader.loads.length;i<l;i++){if(loader.loads[i].name==name){existingLoad=loader.loads[i];if(step=='translate'&&!existingLoad.source){existingLoad.address=stepState.moduleAddress;proceedToTranslate(loader,existingLoad,Promise.resolve(stepState.moduleSource));} // a primary load -> use that existing linkset if it is for the direct load here
// otherwise create a new linkset unit
if(existingLoad.linkSets.length&&existingLoad.linkSets[0].loads[0].name==existingLoad.name)return existingLoad.linkSets[0].done.then(function(){resolve(existingLoad);});}}var load=existingLoad||createLoad(name);load.metadata=stepState.moduleMetadata;var linkSet=createLinkSet(loader,load);loader.loads.push(load);resolve(linkSet.done);if(step=='locate')proceedToLocate(loader,load);else if(step=='fetch')proceedToFetch(loader,load,Promise.resolve(stepState.moduleAddress));else {console.assert(step=='translate','translate step');load.address=stepState.moduleAddress;proceedToTranslate(loader,load,Promise.resolve(stepState.moduleSource));}};} // Declarative linking functions run through alternative implementation:
// 15.2.5.1.1 CreateModuleLinkageRecord not implemented
// 15.2.5.1.2 LookupExport not implemented
// 15.2.5.1.3 LookupModuleDependency not implemented
// 15.2.5.2.1
function createLinkSet(loader,startingLoad){var linkSet={loader:loader,loads:[],startingLoad:startingLoad, // added see spec bug https://bugs.ecmascript.org/show_bug.cgi?id=2995
loadingCount:0};linkSet.done=new Promise(function(resolve,reject){linkSet.resolve=resolve;linkSet.reject=reject;});addLoadToLinkSet(linkSet,startingLoad);return linkSet;} // 15.2.5.2.2
function addLoadToLinkSet(linkSet,load){if(load.status=='failed')return;console.assert(load.status=='loading'||load.status=='loaded','loading or loaded on link set');for(var i=0,l=linkSet.loads.length;i<l;i++){if(linkSet.loads[i]==load)return;}linkSet.loads.push(load);load.linkSets.push(linkSet); // adjustment, see https://bugs.ecmascript.org/show_bug.cgi?id=2603
if(load.status!='loaded'){linkSet.loadingCount++;}var loader=linkSet.loader;for(var i=0,l=load.dependencies.length;i<l;i++){if(!load.dependencies[i])continue;var name=load.dependencies[i].value;if(loader.modules[name])continue;for(var j=0,d=loader.loads.length;j<d;j++){if(loader.loads[j].name!=name)continue;addLoadToLinkSet(linkSet,loader.loads[j]);break;}} // console.log('add to linkset ' + load.name);
// snapshot(linkSet.loader);
} // linking errors can be generic or load-specific
// this is necessary for debugging info
function doLink(linkSet){var error=false;try{link(linkSet,function(load,exc){linkSetFailed(linkSet,load,exc);error=true;});}catch(e){linkSetFailed(linkSet,null,e);error=true;}return error;} // 15.2.5.2.3
function updateLinkSetOnLoad(linkSet,load){ // console.log('update linkset on load ' + load.name);
// snapshot(linkSet.loader);
console.assert(load.status=='loaded'||load.status=='linked','loaded or linked');linkSet.loadingCount--;if(linkSet.loadingCount>0)return; // adjusted for spec bug https://bugs.ecmascript.org/show_bug.cgi?id=2995
var startingLoad=linkSet.startingLoad; // non-executing link variation for loader tracing
// on the server. Not in spec.
/***/if(linkSet.loader.loaderObj.execute===false){var loads=[].concat(linkSet.loads);for(var i=0,l=loads.length;i<l;i++){var load=loads[i];load.module=!load.isDeclarative?{module:_newModule({})}:{name:load.name,module:_newModule({}),evaluated:true};load.status='linked';finishLoad(linkSet.loader,load);}return linkSet.resolve(startingLoad);} /***/var abrupt=doLink(linkSet);if(abrupt)return;console.assert(linkSet.loads.length==0,'loads cleared');linkSet.resolve(startingLoad);} // 15.2.5.2.4
function linkSetFailed(linkSet,load,exc){var loader=linkSet.loader;var requests;checkError: if(load){if(linkSet.loads[0].name==load.name){exc=addToError(exc,'Error loading '+load.name);}else {for(var i=0;i<linkSet.loads.length;i++){var pLoad=linkSet.loads[i];for(var j=0;j<pLoad.dependencies.length;j++){var dep=pLoad.dependencies[j];if(dep.value==load.name){exc=addToError(exc,'Error loading '+load.name+' as "'+dep.key+'" from '+pLoad.name);break checkError;}}}exc=addToError(exc,'Error loading '+load.name+' from '+linkSet.loads[0].name);}}else {exc=addToError(exc,'Error linking '+linkSet.loads[0].name);}var loads=linkSet.loads.concat([]);for(var i=0,l=loads.length;i<l;i++){var load=loads[i]; // store all failed load records
loader.loaderObj.failed=loader.loaderObj.failed||[];if(indexOf.call(loader.loaderObj.failed,load)==-1)loader.loaderObj.failed.push(load);var linkIndex=indexOf.call(load.linkSets,linkSet);console.assert(linkIndex!=-1,'link not present');load.linkSets.splice(linkIndex,1);if(load.linkSets.length==0){var globalLoadsIndex=indexOf.call(linkSet.loader.loads,load);if(globalLoadsIndex!=-1)linkSet.loader.loads.splice(globalLoadsIndex,1);}}linkSet.reject(exc);} // 15.2.5.2.5
function finishLoad(loader,load){ // add to global trace if tracing
if(loader.loaderObj.trace){if(!loader.loaderObj.loads)loader.loaderObj.loads={};var depMap={};load.dependencies.forEach(function(dep){depMap[dep.key]=dep.value;});loader.loaderObj.loads[load.name]={name:load.name,deps:load.dependencies.map(function(dep){return dep.key;}),depMap:depMap,address:load.address,metadata:load.metadata,source:load.source,kind:load.isDeclarative?'declarative':'dynamic'};} // if not anonymous, add to the module table
if(load.name){console.assert(!loader.modules[load.name],'load not in module table');loader.modules[load.name]=load.module;}var loadIndex=indexOf.call(loader.loads,load);if(loadIndex!=-1)loader.loads.splice(loadIndex,1);for(var i=0,l=load.linkSets.length;i<l;i++){loadIndex=indexOf.call(load.linkSets[i].loads,load);if(loadIndex!=-1)load.linkSets[i].loads.splice(loadIndex,1);}load.linkSets.splice(0,load.linkSets.length);}function doDynamicExecute(linkSet,load,linkError){try{var module=load.execute();}catch(e){linkError(load,e);return;}if(!module||!(module instanceof Module))linkError(load,new TypeError('Execution must define a Module instance'));else return module;} // 26.3 Loader
// 26.3.1.1
// defined at top
// importPromises adds ability to import a module twice without error - https://bugs.ecmascript.org/show_bug.cgi?id=2601
function createImportPromise(loader,name,promise){var importPromises=loader._loader.importPromises;return importPromises[name]=promise.then(function(m){importPromises[name]=undefined;return m;},function(e){importPromises[name]=undefined;throw e;});}Loader.prototype={ // 26.3.3.1
constructor:Loader, // 26.3.3.2
define:function define(name,source,options){ // check if already defined
if(this._loader.importPromises[name])throw new TypeError('Module is already loading.');return createImportPromise(this,name,new Promise(asyncStartLoadPartwayThrough({step:'translate',loader:this._loader,moduleName:name,moduleMetadata:options&&options.metadata||{},moduleSource:source,moduleAddress:options&&options.address})));}, // 26.3.3.3
'delete':function _delete(name){var loader=this._loader;delete loader.importPromises[name];delete loader.moduleRecords[name];return loader.modules[name]?delete loader.modules[name]:false;}, // 26.3.3.4 entries not implemented
// 26.3.3.5
get:function get(key){if(!this._loader.modules[key])return;doEnsureEvaluated(this._loader.modules[key],[],this);return this._loader.modules[key].module;}, // 26.3.3.7
has:function has(name){return !!this._loader.modules[name];}, // 26.3.3.8
'import':function _import(name,parentName,parentAddress){if((typeof parentName==='undefined'?'undefined':_typeof(parentName))=='object')parentName=parentName.name; // run normalize first
var loaderObj=this; // added, see https://bugs.ecmascript.org/show_bug.cgi?id=2659
return Promise.resolve(loaderObj.normalize(name,parentName)).then(function(name){var loader=loaderObj._loader;if(loader.modules[name]){doEnsureEvaluated(loader.modules[name],[],loader._loader);return loader.modules[name].module;}return loader.importPromises[name]||createImportPromise(loaderObj,name,loadModule(loader,name,{}).then(function(load){delete loader.importPromises[name];return evaluateLoadedModule(loader,load);}));});}, // 26.3.3.9 keys not implemented
// 26.3.3.10
load:function load(name){var loader=this._loader;if(loader.modules[name])return Promise.resolve();return loader.importPromises[name]||createImportPromise(this,name,new Promise(asyncStartLoadPartwayThrough({step:'locate',loader:loader,moduleName:name,moduleMetadata:{},moduleSource:undefined,moduleAddress:undefined})).then(function(){delete loader.importPromises[name];}));}, // 26.3.3.11
module:function module(source,options){var load=createLoad();load.address=options&&options.address;var linkSet=createLinkSet(this._loader,load);var sourcePromise=Promise.resolve(source);var loader=this._loader;var p=linkSet.done.then(function(){return evaluateLoadedModule(loader,load);});proceedToTranslate(loader,load,sourcePromise);return p;}, // 26.3.3.12
newModule:function newModule(obj){if((typeof obj==='undefined'?'undefined':_typeof(obj))!='object')throw new TypeError('Expected object');var m=new Module();var pNames=[];if(Object.getOwnPropertyNames&&obj!=null)pNames=Object.getOwnPropertyNames(obj);else for(var key in obj){pNames.push(key);}for(var i=0;i<pNames.length;i++){(function(key){defineProperty(m,key,{configurable:false,enumerable:true,get:function get(){return obj[key];},set:function set(){throw new Error('Module exports cannot be changed externally.');}});})(pNames[i]);}if(Object.freeze)Object.freeze(m);return m;}, // 26.3.3.14
set:function set(name,module){if(!(module instanceof Module))throw new TypeError('Loader.set('+name+', module) must be a module');this._loader.modules[name]={module:module};}, // 26.3.3.15 values not implemented
// 26.3.3.16 @@iterator not implemented
// 26.3.3.17 @@toStringTag not implemented
// 26.3.3.18.1
normalize:function normalize(name,referrerName,referrerAddress){return name;}, // 26.3.3.18.2
locate:function locate(load){return load.name;}, // 26.3.3.18.3
fetch:function fetch(load){}, // 26.3.3.18.4
translate:function translate(load){return load.source;}, // 26.3.3.18.5
instantiate:function instantiate(load){}};var _newModule=Loader.prototype.newModule; /*
 * ES6 Module Declarative Linking Code - Dev Build Only
 */function link(linkSet,linkError){var loader=linkSet.loader;if(!linkSet.loads.length)return;var loads=linkSet.loads.concat([]);for(var i=0;i<loads.length;i++){var load=loads[i];var module=doDynamicExecute(linkSet,load,linkError);if(!module)return;load.module={name:load.name,module:module};load.status='linked';finishLoad(loader,load);}}function evaluateLoadedModule(loader,load){console.assert(load.status=='linked','is linked '+load.name);return load.module.module;}function doEnsureEvaluated(){}function transpile(){throw new TypeError('ES6 transpilation is only provided in the dev module loader build.');}})(); /*
*********************************************************************************************

  System Loader Implementation

    - Implemented to https://github.com/jorendorff/js-loaders/blob/master/browser-loader.js

    - <script type="module"> supported

*********************************************************************************************
*/var System;function SystemLoader(){Loader.call(this);this.paths={};} // NB no specification provided for System.paths, used ideas discussed in https://github.com/jorendorff/js-loaders/issues/25
function applyPaths(paths,name){ // most specific (most number of slashes in path) match wins
var pathMatch='',wildcard,maxWildcardPrefixLen=0; // check to see if we have a paths entry
for(var p in paths){var pathParts=p.split('*');if(pathParts.length>2)throw new TypeError('Only one wildcard in a path is permitted'); // exact path match
if(pathParts.length==1){if(name==p)return paths[p]; // support trailing / in paths rules
else if(name.substr(0,p.length-1)==p.substr(0,p.length-1)&&(name.length<p.length||name[p.length-1]==p[p.length-1])&&paths[p][paths[p].length-1]=='/')return paths[p].substr(0,paths[p].length-1)+(name.length>p.length?'/'+name.substr(p.length):'');} // wildcard path match
else {var wildcardPrefixLen=pathParts[0].length;if(wildcardPrefixLen>=maxWildcardPrefixLen&&name.substr(0,pathParts[0].length)==pathParts[0]&&name.substr(name.length-pathParts[1].length)==pathParts[1]){maxWildcardPrefixLen=wildcardPrefixLen;pathMatch=p;wildcard=name.substr(pathParts[0].length,name.length-pathParts[1].length-pathParts[0].length);}}}var outPath=paths[pathMatch];if(typeof wildcard=='string')outPath=outPath.replace('*',wildcard);return outPath;} // inline Object.create-style class extension
function LoaderProto(){}LoaderProto.prototype=Loader.prototype;SystemLoader.prototype=new LoaderProto();var fetchTextFromURL;if(typeof XMLHttpRequest!='undefined'){fetchTextFromURL=function fetchTextFromURL(url,authorization,fulfill,reject){var xhr=new XMLHttpRequest();var sameDomain=true;var doTimeout=false;if(!('withCredentials' in xhr)){ // check if same domain
var domainCheck=/^(\w+:)?\/\/([^\/]+)/.exec(url);if(domainCheck){sameDomain=domainCheck[2]===window.location.host;if(domainCheck[1])sameDomain&=domainCheck[1]===window.location.protocol;}}if(!sameDomain&&typeof XDomainRequest!='undefined'){xhr=new XDomainRequest();xhr.onload=load;xhr.onerror=error;xhr.ontimeout=error;xhr.onprogress=function(){};xhr.timeout=0;doTimeout=true;}function load(){fulfill(xhr.responseText);}function error(){reject(new Error('XHR error'+(xhr.status?' ('+xhr.status+(xhr.statusText?' '+xhr.statusText:'')+')':'')+' loading '+url));}xhr.onreadystatechange=function(){if(xhr.readyState===4){ // in Chrome on file:/// URLs, status is 0
if(xhr.status==0){if(xhr.responseText){load();}else { // when responseText is empty, wait for load or error event
// to inform if it is a 404 or empty file
xhr.addEventListener('error',error);xhr.addEventListener('load',load);}}else if(xhr.status===200){load();}else {error();}}};xhr.open("GET",url,true);if(xhr.setRequestHeader){xhr.setRequestHeader('Accept','application/x-es-module, */*'); // can set "authorization: true" to enable withCredentials only
if(authorization){if(typeof authorization=='string')xhr.setRequestHeader('Authorization',authorization);xhr.withCredentials=true;}}if(doTimeout){setTimeout(function(){xhr.send();},0);}else {xhr.send(null);}};}else if(typeof require!='undefined'&&typeof process!='undefined'){var fs;fetchTextFromURL=function fetchTextFromURL(url,authorization,fulfill,reject){if(url.substr(0,8)!='file:///')throw new Error('Unable to fetch "'+url+'". Only file URLs of the form file:/// allowed running in Node.');fs=fs||require('fs');if(isWindows)url=url.replace(/\//g,'\\').substr(8);else url=url.substr(7);return fs.readFile(url,function(err,data){if(err){return reject(err);}else { // Strip Byte Order Mark out if it's the leading char
var dataString=data+'';if(dataString[0]==='﻿')dataString=dataString.substr(1);fulfill(dataString);}});};}else if(typeof self!='undefined'&&typeof self.fetch!='undefined'){fetchTextFromURL=function fetchTextFromURL(url,authorization,fulfill,reject){var opts={headers:{'Accept':'application/x-es-module, */*'}};if(authorization){if(typeof authorization=='string')opts.headers['Authorization']=authorization;opts.credentials='include';}fetch(url,opts).then(function(r){if(r.ok){return r.text();}else {throw new Error('Fetch error: '+r.status+' '+r.statusText);}}).then(fulfill,reject);};}else {throw new TypeError('No environment fetch API available.');}SystemLoader.prototype.fetch=function(load){return new Promise(function(resolve,reject){fetchTextFromURL(load.address,undefined,resolve,reject);});}; /*
 * Traceur, Babel and TypeScript transpile hook for Loader
 */var transpile=function(){ // use Traceur by default
Loader.prototype.transpiler='traceur';function transpile(load){var self=this;return Promise.resolve(__global[self.transpiler=='typescript'?'ts':self.transpiler]||(self.pluginLoader||self)['import'](self.transpiler)).then(function(transpiler){if(transpiler.__useDefault)transpiler=transpiler['default'];var transpileFunction;if(transpiler.Compiler)transpileFunction=traceurTranspile;else if(transpiler.createLanguageService)transpileFunction=typescriptTranspile;else transpileFunction=babelTranspile; // note __moduleName will be part of the transformer meta in future when we have the spec for this
return '(function(__moduleName){'+transpileFunction.call(self,load,transpiler)+'\n})("'+load.name+'");\n//# sourceURL='+load.address+'!transpiled';});};function traceurTranspile(load,traceur){var options=this.traceurOptions||{};options.modules='instantiate';options.script=false;if(options.sourceMaps===undefined)options.sourceMaps='inline';options.filename=load.address;options.inputSourceMap=load.metadata.sourceMap;options.moduleName=false;var compiler=new traceur.Compiler(options);return doTraceurCompile(load.source,compiler,options.filename);}function doTraceurCompile(source,compiler,filename){try{return compiler.compile(source,filename);}catch(e){ // on older versions of traceur (<0.9.3), an array of errors is thrown
// rather than a single error.
if(e.length){throw e[0];}throw e;}}function babelTranspile(load,babel){var options=this.babelOptions||{};options.modules='system';if(options.sourceMap===undefined)options.sourceMap='inline';options.inputSourceMap=load.metadata.sourceMap;options.filename=load.address;options.code=true;options.ast=false;return babel.transform(load.source,options).code;}function typescriptTranspile(load,ts){var options=this.typescriptOptions||{};options.target=options.target||ts.ScriptTarget.ES5;if(options.sourceMap===undefined)options.sourceMap=true;if(options.sourceMap&&options.inlineSourceMap!==false)options.inlineSourceMap=true;options.module=ts.ModuleKind.System;return ts.transpile(load.source,options,load.address);}return transpile;}(); // SystemJS Loader Class and Extension helpers
function SystemJSLoader(){SystemLoader.call(this);systemJSConstructor.call(this);} // inline Object.create-style class extension
function SystemProto(){};SystemProto.prototype=SystemLoader.prototype;SystemJSLoader.prototype=new SystemProto();SystemJSLoader.prototype.constructor=SystemJSLoader; // remove ESML instantiate
SystemJSLoader.prototype.instantiate=function(){};var systemJSConstructor;function hook(name,hook){SystemJSLoader.prototype[name]=hook(SystemJSLoader.prototype[name]||function(){});}function hookConstructor(hook){systemJSConstructor=hook(systemJSConstructor||function(){});}function dedupe(deps){var newDeps=[];for(var i=0,l=deps.length;i<l;i++){if(indexOf.call(newDeps,deps[i])==-1)newDeps.push(deps[i]);}return newDeps;}function group(deps){var names=[];var indices=[];for(var i=0,l=deps.length;i<l;i++){var index=indexOf.call(names,deps[i]);if(index===-1){names.push(deps[i]);indices.push([i]);}else {indices[index].push(i);}}return {names:names,indices:indices};}var getOwnPropertyDescriptor=true;try{Object.getOwnPropertyDescriptor({a:0},'a');}catch(e){getOwnPropertyDescriptor=false;} // converts any module.exports object into an object ready for SystemJS.newModule
function getESModule(exports){var esModule={}; // don't trigger getters/setters in environments that support them
if((typeof exports==='undefined'?'undefined':_typeof(exports))=='object'||typeof exports=='function'){if(getOwnPropertyDescriptor){var d;for(var p in exports){if(d=Object.getOwnPropertyDescriptor(exports,p))defineProperty(esModule,p,d);}}else {var hasOwnProperty=exports&&exports.hasOwnProperty;for(var p in exports){if(!hasOwnProperty||exports.hasOwnProperty(p))esModule[p]=exports[p];}}}esModule['default']=exports;defineProperty(esModule,'__useDefault',{value:true});return esModule;}function extend(a,b,prepend){for(var p in b){if(!prepend||!(p in a))a[p]=b[p];}return a;} // package configuration options
var packageProperties=['main','format','defaultExtension','meta','map','basePath','depCache']; // meta first-level extends where:
// array + array appends
// object + object extends
// other properties replace
function extendMeta(a,b,prepend){for(var p in b){var val=b[p];if(!(p in a))a[p]=val;else if(val instanceof Array&&a[p] instanceof Array)a[p]=[].concat(prepend?val:a[p]).concat(prepend?a[p]:val);else if((typeof val==='undefined'?'undefined':_typeof(val))=='object'&&val!==null&&_typeof(a[p])=='object')a[p]=extend(extend({},a[p]),val,prepend);else if(!prepend)a[p]=val;}}function warn(msg){if(this.warnings&&typeof console!='undefined'&&console.warn)console.warn(msg);} // we define a __exec for globally-scoped execution
// used by module format implementations
var __exec;(function(){var hasBtoa=typeof btoa!='undefined'; // used to support leading #!/usr/bin/env in scripts as supported in Node
var hashBangRegEx=/^\#\!.*/;function getSource(load){var lastLineIndex=load.source.lastIndexOf('\n'); // wrap ES formats with a System closure for System global encapsulation
var wrap=load.metadata.format=='esm'||load.metadata.format=='register'||load.metadata.bundle;var sourceMap=load.metadata.sourceMap;if(sourceMap){if((typeof sourceMap==='undefined'?'undefined':_typeof(sourceMap))!='object')throw new TypeError('load.metadata.sourceMap must be set to an object.');if(sourceMap.mappings)sourceMap.mappings=';'+sourceMap.mappings;}sourceMap=JSON.stringify(sourceMap);return (wrap?'(function(System, SystemJS) {':'')+(load.metadata.format=='cjs'?load.source.replace(hashBangRegEx,''):load.source)+(wrap?'\n})(System, System);':'') // adds the sourceURL comment if not already present
+(load.source.substr(lastLineIndex,15)!='\n//# sourceURL='?'\n//# sourceURL='+load.address+(sourceMap?'!transpiled':''):'') // add sourceMappingURL if load.metadata.sourceMap is set
+(sourceMap&&hasBtoa&&'\n//# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(sourceMap)))||'');}var curLoad; // System.register, System.registerDynamic, AMD define pipeline
// if currently evalling code here, immediately reduce the registered entry against the load record
hook('pushRegister_',function(){return function(register){if(!curLoad)return false;this.reduceRegister_(curLoad,register);return true;};}); // System clobbering protection (mostly for Traceur)
var curSystem;var callCounter=0;function preExec(loader,load){curLoad=load;if(callCounter++==0)curSystem=__global.System;__global.System=__global.SystemJS=loader;}function postExec(){if(--callCounter==0)__global.System=__global.SystemJS=curSystem;curLoad=undefined;}__exec=function __exec(load){if((load.metadata.integrity||load.metadata.nonce)&&supportsScriptExec)return scriptExec.call(this,load);try{preExec(this,load);curLoad=load;(0,eval)(getSource(load));postExec();}catch(e){postExec();throw addToError(e,'Evaluating '+load.address);}};var supportsScriptExec=false;if(isBrowser&&typeof document!='undefined'&&document.getElementsByTagName){var scripts=document.getElementsByTagName('script');$__curScript=scripts[scripts.length-1];if(!(window.chrome&&window.chrome.extension||navigator.userAgent.match(/^Node\.js/)))supportsScriptExec=true;} // script execution via injecting a script tag into the page
// this allows CSP integrity and nonce to be set for CSP environments
var head;function scriptExec(load){if(!head)head=document.head||document.body||document.documentElement;var script=document.createElement('script');script.text=getSource(load,false);var onerror=window.onerror;var e;window.onerror=function(_e){e=addToError(_e,'Evaluating '+load.address);};preExec(this,load);if(load.metadata.integrity)script.setAttribute('integrity',load.metadata.integrity);if(load.metadata.nonce)script.setAttribute('nonce',load.metadata.nonce);head.appendChild(script);head.removeChild(script);postExec();window.onerror=onerror;if(e)throw e;}})();var absURLRegEx=/^[^\/]+:\/\//;function readMemberExpression(p,value){var pParts=p.split('.');while(pParts.length){value=value[pParts.shift()];}return value;}var baseURLCache={};function getBaseURLObj(){if(baseURLCache[this.baseURL])return baseURLCache[this.baseURL]; // normalize baseURL if not already
if(this.baseURL[this.baseURL.length-1]!='/')this.baseURL+='/';var baseURL=new URL(this.baseURL,baseURI);this.baseURL=baseURL.href;return baseURLCache[this.baseURL]=baseURL;}function getMapMatch(map,name){var bestMatch,bestMatchLength=0;for(var p in map){if(name.substr(0,p.length)==p&&(name.length==p.length||name[p.length]=='/')){var curMatchLength=p.split('/').length;if(curMatchLength<=bestMatchLength)continue;bestMatch=p;bestMatchLength=curMatchLength;}}return bestMatch;}function setProduction(isProduction){this.set('@system-env',this.newModule({browser:isBrowser,node:!!this._nodeRequire,production:isProduction}));}var baseURIObj=new URL(baseURI);hookConstructor(function(constructor){return function(){constructor.call(this); // support baseURL
this.baseURL=baseURI.substr(0,baseURI.lastIndexOf('/')+1); // support map and paths
this.map={};this.paths={}; // global behaviour flags
this.warnings=false;this.defaultJSExtensions=false;this.pluginFirst=false; // by default load ".json" files as json
// leading * meta doesn't need normalization
// NB add this in next breaking release
// this.meta['*.json'] = { format: 'json' };
// support the empty module, as a concept
this.set('@empty',this.newModule({}));setProduction.call(this,false);};}); // include the node require since we're overriding it
if(typeof require!='undefined'&&typeof process!='undefined'&&!process.browser)SystemJSLoader.prototype._nodeRequire=require;var nodeCoreModules=['assert','buffer','child_process','cluster','console','constants','crypto','dgram','dns','domain','events','fs','http','https','module','net','os','path','process','punycode','querystring','readline','repl','stream','string_decoder','sys','timers','tls','tty','url','util','vm','zlib']; /*
  Core SystemJS Normalization

  If a name is relative, we apply URL normalization to the page
  If a name is an absolute URL, we leave it as-is

  Plain names (neither of the above) run through the map and paths
  normalization phases.

  The paths normalization phase applies last (paths extension), which
  defines the `decanonicalize` function and normalizes everything into
  a URL.
 */function isPlain(name){return name[0]!='.'&&name[0]!='/'&&!name.match(absURLRegEx);}function urlResolve(name,parent){if(parent)parent=parent.replace(/#/g,'%05');return new URL(name,parent||baseURIObj).href.replace(/%05/g,'#');} // only applies to plain names
function baseURLResolve(loader,name){return new URL(name,getBaseURLObj.call(loader)).href;}function coreResolve(name,parentName){ // standard URL resolution
if(!isPlain(name))return urlResolve(name,parentName); // plain names not starting with './', '://' and '/' go through custom resolution
var mapMatch=getMapMatch(this.map,name);if(mapMatch){name=this.map[mapMatch]+name.substr(mapMatch.length);if(!isPlain(name))return urlResolve(name);}if(this.has(name))return name; // dynamically load node-core modules when requiring `@node/fs` for example
if(name.substr(0,6)=='@node/'&&nodeCoreModules.indexOf(name.substr(6))!=-1){if(!this._nodeRequire)throw new TypeError('Error loading '+name+'. Can only load node core modules in Node.');this.set(name,this.newModule(getESModule(this._nodeRequire(name.substr(6)))));return name;}var pathed=applyPaths(this.paths,name);if(pathed&&!isPlain(pathed))return urlResolve(pathed);return baseURLResolve(this,pathed||name);}hook('normalize',function(normalize){return function(name,parentName,skipExt){var resolved=coreResolve.call(this,name,parentName);if(!skipExt&&this.defaultJSExtensions&&resolved.substr(resolved.length-3,3)!='.js'&&!isPlain(resolved))resolved+='.js';return resolved;};}); // percent encode just '#' in urls if using HTTP requests
var httpRequest=typeof XMLHttpRequest!='undefined';hook('locate',function(locate){return function(load){return Promise.resolve(locate.call(this,load)).then(function(address){if(httpRequest)return address.replace(/#/g,'%23');return address;});};}); /*
 * Fetch with authorization
 */hook('fetch',function(){return function(load){return new Promise(function(resolve,reject){fetchTextFromURL(load.address,load.metadata.authorization,resolve,reject);});};}); /*
  __useDefault
  
  When a module object looks like:
  newModule(
    __useDefault: true,
    default: 'some-module'
  })

  Then importing that module provides the 'some-module'
  result directly instead of the full module.

  Useful for eg module.exports = function() {}
*/hook('import',function(systemImport){return function(name,parentName,parentAddress){if(parentName&&parentName.name)warn.call(this,'SystemJS.import(name, { name: parentName }) is deprecated for SystemJS.import(name, parentName), while importing '+name+' from '+parentName.name);return systemImport.call(this,name,parentName,parentAddress).then(function(module){return module.__useDefault?module['default']:module;});};}); /*
 * Allow format: 'detect' meta to enable format detection
 */hook('translate',function(systemTranslate){return function(load){if(load.metadata.format=='detect')load.metadata.format=undefined;return systemTranslate.call(this,load);};}); /*
 * JSON format support
 *
 * Supports loading JSON files as a module format itself
 *
 * Usage:
 *
 * SystemJS.config({
 *   meta: {
 *     '*.json': { format: 'json' }
 *   }
 * });
 *
 * Module is returned as if written:
 *
 * export default {JSON}
 *
 * No named exports are provided
 *
 * Files ending in ".json" are treated as json automatically by SystemJS
 */hook('instantiate',function(instantiate){return function(load){if(load.metadata.format=='json'&&!this.builder){var entry=load.metadata.entry=createEntry();entry.deps=[];entry.execute=function(){try{return JSON.parse(load.source);}catch(e){throw new Error("Invalid JSON file "+load.name);}};}};}); /*
 Extend config merging one deep only

  loader.config({
    some: 'random',
    config: 'here',
    deep: {
      config: { too: 'too' }
    }
  });

  <=>

  loader.some = 'random';
  loader.config = 'here'
  loader.deep = loader.deep || {};
  loader.deep.config = { too: 'too' };


  Normalizes meta and package configs allowing for:

  SystemJS.config({
    meta: {
      './index.js': {}
    }
  });

  To become

  SystemJS.meta['https://thissite.com/index.js'] = {};

  For easy normalization canonicalization with latest URL support.

*/SystemJSLoader.prototype.env='development';SystemJSLoader.prototype.config=function(cfg){var loader=this;if('warnings' in cfg)loader.warnings=cfg.warnings; // transpiler deprecation path
if(cfg.transpilerRuntime===false)loader._loader.loadedTranspilerRuntime=true; // always configure baseURL first
if(cfg.baseURL){var checkHasConfig=function checkHasConfig(obj){for(var p in obj){if(hasOwnProperty.call(obj,p))return true;}};var hasConfig=false;if(checkHasConfig(loader.packages)||checkHasConfig(loader.meta)||checkHasConfig(loader.depCache)||checkHasConfig(loader.bundles)||checkHasConfig(loader.packageConfigPaths))throw new TypeError('Incorrect configuration order. The baseURL must be configured with the first SystemJS.config call.');loader.baseURL=cfg.baseURL; // sanitize baseURL
getBaseURLObj.call(loader);}if(cfg.defaultJSExtensions){loader.defaultJSExtensions=cfg.defaultJSExtensions;warn.call(loader,'The defaultJSExtensions configuration option is deprecated, use packages configuration instead.');}if(cfg.pluginFirst)loader.pluginFirst=cfg.pluginFirst;if(cfg.production)setProduction.call(loader,true);if(cfg.paths){for(var p in cfg.paths){loader.paths[p]=cfg.paths[p];}}if(cfg.map){var objMaps='';for(var p in cfg.map){var v=cfg.map[p]; // object map backwards-compat into packages configuration
if(typeof v!=='string'){objMaps+=(objMaps.length?', ':'')+'"'+p+'"';var defaultJSExtension=loader.defaultJSExtensions&&p.substr(p.length-3,3)!='.js';var prop=loader.decanonicalize(p);if(defaultJSExtension&&prop.substr(prop.length-3,3)=='.js')prop=prop.substr(0,prop.length-3); // if a package main, revert it
var pkgMatch='';for(var pkg in loader.packages){if(prop.substr(0,pkg.length)==pkg&&(!prop[pkg.length]||prop[pkg.length]=='/')&&pkgMatch.split('/').length<pkg.split('/').length)pkgMatch=pkg;}if(pkgMatch&&loader.packages[pkgMatch].main)prop=prop.substr(0,prop.length-loader.packages[pkgMatch].main.length-1);var pkg=loader.packages[prop]=loader.packages[prop]||{};pkg.map=v;}else {loader.map[p]=v;}}if(objMaps)warn.call(loader,'The map configuration for '+objMaps+' uses object submaps, which is deprecated in global map.\nUpdate this to use package contextual map with configs like SystemJS.config({ packages: { "'+p+'": { map: {...} } } }).');}if(cfg.packageConfigPaths){var packageConfigPaths=[];for(var i=0;i<cfg.packageConfigPaths.length;i++){var path=cfg.packageConfigPaths[i];var packageLength=Math.max(path.lastIndexOf('*')+1,path.lastIndexOf('/'));var defaultJSExtension=loader.defaultJSExtensions&&path.substr(packageLength-3,3)!='.js';var normalized=loader.decanonicalize(path.substr(0,packageLength));if(defaultJSExtension&&normalized.substr(normalized.length-3,3)=='.js')normalized=normalized.substr(0,normalized.length-3);packageConfigPaths[i]=normalized+path.substr(packageLength);}loader.packageConfigPaths=packageConfigPaths;}if(cfg.bundles){for(var p in cfg.bundles){var bundle=[];for(var i=0;i<cfg.bundles[p].length;i++){var defaultJSExtension=loader.defaultJSExtensions&&cfg.bundles[p][i].substr(cfg.bundles[p][i].length-3,3)!='.js';var normalizedBundleDep=loader.decanonicalize(cfg.bundles[p][i]);if(defaultJSExtension&&normalizedBundleDep.substr(normalizedBundleDep.length-3,3)=='.js')normalizedBundleDep=normalizedBundleDep.substr(0,normalizedBundleDep.length-3);bundle.push(normalizedBundleDep);}loader.bundles[p]=bundle;}}if(cfg.packages){for(var p in cfg.packages){if(p.match(/^([^\/]+:)?\/\/$/))throw new TypeError('"'+p+'" is not a valid package name.');var defaultJSExtension=loader.defaultJSExtensions&&p.substr(p.length-3,3)!='.js';var prop=coreResolve.call(loader,p);if(defaultJSExtension&&prop.substr(prop.length-3,3)=='.js')prop=prop.substr(0,prop.length-3); // allow trailing slash in packages
if(prop[prop.length-1]=='/')prop=prop.substr(0,prop.length-1);loader.packages[prop]=loader.packages[prop]||{}; // meta backwards compatibility
if(cfg.packages[p].modules){warn.call(loader,'Package '+p+' is configured with "modules", which is deprecated as it has been renamed to "meta".');cfg.packages[p].meta=cfg.packages[p].modules;delete cfg.packages[p].modules;}for(var q in cfg.packages[p]){if(indexOf.call(packageProperties,q)==-1)warn.call(loader,'"'+q+'" is not a valid package configuration option in package '+p);}extendMeta(loader.packages[prop],cfg.packages[p]);}}for(var c in cfg){var v=cfg[c];if(c=='baseURL'||c=='map'||c=='packages'||c=='bundles'||c=='paths'||c=='warnings'||c=='packageConfigPaths')continue;if((typeof v==='undefined'?'undefined':_typeof(v))!='object'||v instanceof Array){loader[c]=v;}else {loader[c]=loader[c]||{};for(var p in v){ // base-level wildcard meta does not normalize to retain catch-all quality
if(c=='meta'&&p[0]=='*'){loader[c][p]=v[p];}else if(c=='meta'){ // meta can go through global map
loader[c][coreResolve.call(loader,p)]=v[p];}else if(c=='depCache'){var defaultJSExtension=loader.defaultJSExtensions&&p.substr(p.length-3,3)!='.js';var prop=loader.decanonicalize(p);if(defaultJSExtension&&prop.substr(prop.length-3,3)=='.js')prop=prop.substr(0,prop.length-3);loader[c][prop]=v[p];}else {loader[c][p]=v[p];}}}}}; /*
 * Package Configuration Extension
 *
 * Example:
 *
 * SystemJS.packages = {
 *   jquery: {
 *     basePath: 'lib', // optionally only use a subdirectory within the package
 *     main: 'index.js', // when not set, package name is requested directly
 *     format: 'amd',
 *     defaultExtension: 'ts', // defaults to 'js', can be set to false
 *     modules: {
 *       '*.ts': {
 *         loader: 'typescript'
 *       },
 *       'vendor/sizzle.js': {
 *         format: 'global'
 *       }
 *     },
 *     map: {
 *        // map internal require('sizzle') to local require('./vendor/sizzle')
 *        sizzle: './vendor/sizzle.js',
 *        // map any internal or external require of 'jquery/vendor/another' to 'another/index.js'
 *        './vendor/another.js': './another/index.js',
 *        // test.js / test -> lib/test.js
 *        './test.js': './lib/test.js',
 *
 *        // environment-specific map configurations
 *        './index.js': {
 *          '~browser': './index-node.js'
 *        }
 *     },
 *     // allows for setting package-prefixed depCache
 *     // keys are normalized module names relative to the package itself
 *     depCache: {
 *       // import 'package/index.js' loads in parallel package/lib/test.js,package/vendor/sizzle.js
 *       './index.js': ['./test'],
 *       './test.js': ['external-dep'],
 *       'external-dep/path.js': ['./another.js']
 *     }
 *   }
 * };
 *
 * Then:
 *   import 'jquery'                       -> jquery/index.js
 *   import 'jquery/submodule'             -> jquery/submodule.js
 *   import 'jquery/submodule.ts'          -> jquery/submodule.ts loaded as typescript
 *   import 'jquery/vendor/another'        -> another/index.js
 *
 * Detailed Behaviours
 * - main can have a leading "./" can be added optionally
 * - map and defaultExtension are applied to the main
 * - defaultExtension adds the extension only if the exact extension is not present
 * - defaultJSExtensions applies after map when defaultExtension is not set
 * - if a meta value is available for a module, map and defaultExtension are skipped
 * - like global map, package map also applies to subpaths (sizzle/x, ./vendor/another/sub)
 * - condition module map is '@env' module in package or '@system-env' globally
 * - map targets support conditional interpolation ('./x': './x.#{|env}.js')
 * - internal package map targets cannot use boolean conditionals
 *
 * In addition, the following modules properties will be allowed to be package
 * -relative as well in the package module config:
 *
 *   - loader
 *   - alias
 *
 *
 * Package Configuration Loading
 *
 * Not all packages may already have their configuration present in the System config
 * For these cases, a list of packageConfigPaths can be provided, which when matched against
 * a request, will first request a ".json" file by the package name to derive the package
 * configuration from. This allows dynamic loading of non-predetermined code, a key use
 * case in SystemJS.
 *
 * Example:
 *
 *   SystemJS.packageConfigPaths = ['packages/test/package.json', 'packages/*.json'];
 *
 *   // will first request 'packages/new-package/package.json' for the package config
 *   // before completing the package request to 'packages/new-package/path'
 *   SystemJS.import('packages/new-package/path');
 *
 *   // will first request 'packages/test/package.json' before the main
 *   SystemJS.import('packages/test');
 *
 * When a package matches packageConfigPaths, it will always send a config request for
 * the package configuration.
 * The package name itself is taken to be the match up to and including the last wildcard
 * or trailing slash.
 * The most specific package config path will be used.
 * Any existing package configurations for the package will deeply merge with the
 * package config, with the existing package configurations taking preference.
 * To opt-out of the package configuration request for a package that matches
 * packageConfigPaths, use the { configured: true } package config option.
 *
 */(function(){hookConstructor(function(constructor){return function(){constructor.call(this);this.packages={};this.packageConfigPaths=[];};});function getPackage(loader,normalized){ // use most specific package
var curPkg,curPkgLen=0,pkgLen;for(var p in loader.packages){if(normalized.substr(0,p.length)===p&&(normalized.length===p.length||normalized[p.length]==='/')){pkgLen=p.split('/').length;if(pkgLen>curPkgLen){curPkg=p;curPkgLen=pkgLen;}}}return curPkg;}function getBasePath(pkg){ // sanitize basePath
var basePath=pkg.basePath&&pkg.basePath!='.'?pkg.basePath:'';if(basePath){if(basePath.substr(0,2)=='./')basePath=basePath.substr(2);if(basePath[basePath.length-1]!='/')basePath+='/';}return basePath;}function addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions){ // don't apply extensions to folders or if defaultExtension = false
if(!subPath||subPath[subPath.length-1]=='/'||skipExtensions||pkg.defaultExtension===false)return subPath; // NB are you sure about this?
// skip if we have interpolation conditional syntax in subPath?
if(subPath.match(interpolationRegEx))return subPath;var metaMatch=false; // exact meta or meta with any content after the last wildcard skips extension
if(pkg.meta)getMetaMatches(pkg.meta,subPath,function(metaPattern,matchMeta,matchDepth){if(matchDepth==0||metaPattern.lastIndexOf('*')!=metaPattern.length-1)return metaMatch=true;}); // exact global meta or meta with any content after the last wildcard skips extension
if(!metaMatch&&loader.meta)getMetaMatches(loader.meta,pkgName+'/'+basePath+subPath,function(metaPattern,matchMeta,matchDepth){if(matchDepth==0||metaPattern.lastIndexOf('*')!=metaPattern.length-1)return metaMatch=true;});if(metaMatch)return subPath; // work out what the defaultExtension is and add if not there already
// NB reconsider if default should really be ".js"?
var defaultExtension='.'+(pkg.defaultExtension||'js');if(subPath.substr(subPath.length-defaultExtension.length)!=defaultExtension)return subPath+defaultExtension;else return subPath;}function applyPackageConfigSync(loader,pkg,pkgName,subPath,skipExtensions){ // main
if(!subPath){if(pkg.main)subPath=pkg.main.substr(0,2)=='./'?pkg.main.substr(2):pkg.main; // also no submap if name is package itself (import 'pkg' -> 'path/to/pkg.js')
else  // NB can add a default package main convention here when defaultJSExtensions is deprecated
// if it becomes internal to the package then it would no longer be an exit path
return pkgName+(loader.defaultJSExtensions?'.js':'');}var basePath=getBasePath(pkg); // map config checking without then with extensions
if(pkg.map){var mapPath='./'+subPath;var mapMatch=getMapMatch(pkg.map,mapPath); // we then check map with the default extension adding
if(!mapMatch){mapPath='./'+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions);if(mapPath!='./'+subPath)mapMatch=getMapMatch(pkg.map,mapPath);}if(mapMatch)return doMapSync(loader,pkg,pkgName,basePath,mapMatch,mapPath,skipExtensions);} // normal package resolution
return pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions);}function doMapSync(loader,pkg,pkgName,basePath,mapMatch,path,skipExtensions){var mapped=pkg.map[mapMatch]; // ignore conditionals in sync
if(typeof mapped!='string')mapped=mapMatch=path; // package map to main / base-level
if(mapped=='.')mapped=pkgName; // internal package map
else if(mapped.substr(0,2)=='./')return pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,mapped.substr(2)+path.substr(mapMatch.length),skipExtensions); // external map reference
return loader.normalizeSync(mapped+path.substr(mapMatch.length),pkgName+'/');}function applyPackageConfig(loader,pkg,pkgName,subPath,skipExtensions){ // main
if(!subPath){if(pkg.main)subPath=pkg.main.substr(0,2)=='./'?pkg.main.substr(2):pkg.main; // also no submap if name is package itself (import 'pkg' -> 'path/to/pkg.js')
else  // NB can add a default package main convention here when defaultJSExtensions is deprecated
// if it becomes internal to the package then it would no longer be an exit path
return Promise.resolve(pkgName+(loader.defaultJSExtensions?'.js':''));}var basePath=getBasePath(pkg); // map config checking without then with extensions
var mapPath,mapMatch;if(pkg.map){mapPath='./'+subPath;mapMatch=getMapMatch(pkg.map,mapPath); // we then check map with the default extension adding
if(!mapMatch){mapPath='./'+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions);if(mapPath!='./'+subPath)mapMatch=getMapMatch(pkg.map,mapPath);}}return (mapMatch?doMap(loader,pkg,pkgName,basePath,mapMatch,mapPath,skipExtensions):Promise.resolve()).then(function(mapped){if(mapped)return Promise.resolve(mapped); // normal package resolution / fallback resolution for no conditional match
return Promise.resolve(pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,subPath,skipExtensions));});}function doStringMap(loader,pkg,pkgName,basePath,mapMatch,mapped,path,skipExtensions){ // NB the interpolation cases should strictly skip subsequent interpolation
// package map to main / base-level
if(mapped=='.')mapped=pkgName; // internal package map
else if(mapped.substr(0,2)=='./')return Promise.resolve(pkgName+'/'+basePath+addDefaultExtension(loader,pkg,pkgName,basePath,mapped.substr(2)+path.substr(mapMatch.length),skipExtensions)).then(function(name){return interpolateConditional.call(loader,name,pkgName+'/');}); // external map reference
// NB deprecate the use of the second argument here -> should be fully global reference
return loader.normalize(mapped+path.substr(mapMatch.length),pkgName+'/');}function doMap(loader,pkg,pkgName,basePath,mapMatch,path,skipExtensions){var mapped=pkg.map[mapMatch];if(typeof mapped=='string')return doStringMap(loader,pkg,pkgName,basePath,mapMatch,mapped,path,skipExtensions); // we use a special conditional syntax to allow the builder to handle conditional branch points further
if(loader.builder)return Promise.resolve(pkgName+'/#:'+path); // map object -> conditional map
return loader['import'](pkg.map['@env']||'@system-env',pkgName).then(function(env){ // first map condition to match is used
for(var e in mapped){var negate=e[0]=='~';var value=readMemberExpression(negate?e.substr(1):e,env);if(!negate&&value||negate&&!value)return mapped[e];}}).then(function(mapped){if(mapped)return doStringMap(loader,pkg,pkgName,basePath,mapMatch,mapped,path,skipExtensions); // no environment match -> fallback to original subPath by returning undefined
});} // normalizeSync = decanonicalize + package resolution
SystemJSLoader.prototype.normalizeSync=SystemJSLoader.prototype.decanonicalize=SystemJSLoader.prototype.normalize; // decanonicalize must JUST handle package defaultExtension: false case when defaultJSExtensions is set
// to be deprecated!
hook('decanonicalize',function(decanonicalize){return function(name,parentName){if(this.builder)return decanonicalize.call(this,name,parentName,true);var decanonicalized=decanonicalize.call(this,name,parentName);if(!this.defaultJSExtensions)return decanonicalized;var pkgName=getPackage(this,decanonicalized);var pkg=this.packages[pkgName];var defaultExtension=pkg&&pkg.defaultExtension;if(defaultExtension==undefined&&pkg&&pkg.meta)getMetaMatches(pkg.meta,decanonicalized.substr(pkgName),function(metaPattern,matchMeta,matchDepth){if(matchDepth==0||metaPattern.lastIndexOf('*')!=metaPattern.length-1){defaultExtension=false;return true;}});if((defaultExtension===false||defaultExtension&&defaultExtension!='.js')&&name.substr(name.length-3,3)!='.js'&&decanonicalized.substr(decanonicalized.length-3,3)=='.js')decanonicalized=decanonicalized.substr(0,decanonicalized.length-3);return decanonicalized;};});hook('normalizeSync',function(normalizeSync){return function(name,parentName,isPlugin){warn.call(this,'SystemJS.normalizeSync has been deprecated for SystemJS.decanonicalize.');var loader=this;isPlugin=isPlugin===true; // apply contextual package map first
// (we assume the parent package config has already been loaded)
if(parentName)var parentPackageName=getPackage(loader,parentName)||loader.defaultJSExtensions&&parentName.substr(parentName.length-3,3)=='.js'&&getPackage(loader,parentName.substr(0,parentName.length-3));var parentPackage=parentPackageName&&loader.packages[parentPackageName]; // remove any parent basePath from parentName
if(parentPackage){var parentBasePath=getBasePath(parentPackage);if(parentBasePath&&parentName.substr(parentPackageName.length+1,parentBasePath.length)==parentBasePath)parentName=parentPackageName+parentName.substr(parentPackageName.length+parentBasePath.length);} // ignore . since internal maps handled by standard package resolution
if(parentPackage&&name[0]!='.'){var parentMap=parentPackage.map;var parentMapMatch=parentMap&&getMapMatch(parentMap,name);if(parentMapMatch&&typeof parentMap[parentMapMatch]=='string')return doMapSync(loader,parentPackage,parentPackageName,getBasePath(parentPackage),parentMapMatch,name,isPlugin);}var defaultJSExtension=loader.defaultJSExtensions&&name.substr(name.length-3,3)!='.js'; // apply map, core, paths, contextual package map
var normalized=normalizeSync.call(loader,name,parentName); // undo defaultJSExtension
if(defaultJSExtension&&normalized.substr(normalized.length-3,3)!='.js')defaultJSExtension=false;if(defaultJSExtension)normalized=normalized.substr(0,normalized.length-3);var pkgConfigMatch=getPackageConfigMatch(loader,normalized);var pkgName=pkgConfigMatch&&pkgConfigMatch.packageName||getPackage(loader,normalized);if(!pkgName)return normalized+(defaultJSExtension?'.js':'');var subPath=normalized.substr(pkgName.length+1);return applyPackageConfigSync(loader,loader.packages[pkgName]||{},pkgName,subPath,isPlugin);};});hook('normalize',function(normalize){return function(name,parentName,isPlugin){var loader=this;isPlugin=isPlugin===true;return Promise.resolve().then(function(){ // apply contextual package map first
// (we assume the parent package config has already been loaded)
if(parentName)var parentPackageName=getPackage(loader,parentName)||loader.defaultJSExtensions&&parentName.substr(parentName.length-3,3)=='.js'&&getPackage(loader,parentName.substr(0,parentName.length-3));var parentPackage=parentPackageName&&loader.packages[parentPackageName]; // remove any parent basePath from parentName
if(parentPackage){var parentBasePath=getBasePath(parentPackage);if(parentBasePath&&parentName.substr(parentPackageName.length+1,parentBasePath.length)==parentBasePath)parentName=parentPackageName+parentName.substr(parentPackageName.length+parentBasePath.length);} // ignore . since internal maps handled by standard package resolution
if(parentPackage&&name.substr(0,2)!='./'){var parentMap=parentPackage.map;var parentMapMatch=parentMap&&getMapMatch(parentMap,name);if(parentMapMatch)return doMap(loader,parentPackage,parentPackageName,parentBasePath,parentMapMatch,name,isPlugin);}return Promise.resolve();}).then(function(mapped){if(mapped)return mapped;var defaultJSExtension=loader.defaultJSExtensions&&name.substr(name.length-3,3)!='.js'; // apply map, core, paths, contextual package map
var normalized=normalize.call(loader,name,parentName); // undo defaultJSExtension
if(defaultJSExtension&&normalized.substr(normalized.length-3,3)!='.js')defaultJSExtension=false;if(defaultJSExtension)normalized=normalized.substr(0,normalized.length-3);var pkgConfigMatch=getPackageConfigMatch(loader,normalized);var pkgName=pkgConfigMatch&&pkgConfigMatch.packageName||getPackage(loader,normalized);if(!pkgName)return Promise.resolve(normalized+(defaultJSExtension?'.js':''));var pkg=loader.packages[pkgName]; // if package is already configured or not a dynamic config package, use existing package config
var isConfigured=pkg&&(pkg.configured||!pkgConfigMatch);return (isConfigured?Promise.resolve(pkg):loadPackageConfigPath(loader,pkgName,pkgConfigMatch.configPath)).then(function(pkg){var subPath=normalized.substr(pkgName.length+1);return applyPackageConfig(loader,pkg,pkgName,subPath,isPlugin);});});};}); // check if the given normalized name matches a packageConfigPath
// if so, loads the config
var packageConfigPaths={}; // data object for quick checks against package paths
function createPkgConfigPathObj(path){var lastWildcard=path.lastIndexOf('*');var length=Math.max(lastWildcard+1,path.lastIndexOf('/'));return {length:length, // NB handle regex control character escapes or simply create a test function here
regEx:new RegExp('^('+path.substr(0,length).replace(/\*/g,'[^\\/]+')+')(\\/|$)'),wildcard:lastWildcard!=-1};} // most specific match wins
function getPackageConfigMatch(loader,normalized){var pkgName,exactMatch=false,configPath;for(var i=0;i<loader.packageConfigPaths.length;i++){var packageConfigPath=loader.packageConfigPaths[i];var p=packageConfigPaths[packageConfigPath]||(packageConfigPaths[packageConfigPath]=createPkgConfigPathObj(packageConfigPath));if(normalized.length<p.length)continue;var match=normalized.match(p.regEx);if(match&&(!pkgName||!(exactMatch&&p.wildcard)&&pkgName.length<match[1].length)){pkgName=match[1];exactMatch=!p.wildcard;configPath=pkgName+packageConfigPath.substr(p.length);}}if(!pkgName)return;return {packageName:pkgName,configPath:configPath};}function loadPackageConfigPath(loader,pkgName,pkgConfigPath){var configLoader=loader.pluginLoader||loader; // NB remove this when json is default
(configLoader.meta[pkgConfigPath]=configLoader.meta[pkgConfigPath]||{}).format='json';return configLoader.load(pkgConfigPath).then(function(){pkgConfig=configLoader.get(pkgConfigPath);var cfg=pkgConfig['default']; // support "systemjs" prefixing
if(cfg.systemjs)cfg=cfg.systemjs; // modules backwards compatibility
if(cfg.modules){cfg.meta=cfg.modules;warn.call(loader,'Package config file '+pkgConfigPath+' is configured with "modules", which is deprecated as it has been renamed to "meta".');} // remove any non-system properties if generic config file (eg package.json)
for(var p in cfg){if(indexOf.call(packageProperties,p)==-1)delete cfg[p];} // deeply-merge (to first level) config with any existing package config
var pkg=loader.packages[pkgName]=loader.packages[pkgName]||{};extendMeta(pkg,cfg,true); // support external depCache
var basePath=getBasePath(pkg);if(cfg.depCache){for(var d in cfg.depCache){var dNormalized;if(d.substr(0,2)=='./')dNormalized=pkgName+'/'+basePath+d.substr(2);else dNormalized=coreResolve.call(loader,d);loader.depCache[dNormalized]=(loader.depCache[dNormalized]||[]).concat(cfg.depCache[d]);}delete cfg.depCache;}return pkg;});}function getMetaMatches(pkgMeta,subPath,matchFn){ // wildcard meta
var meta={};var wildcardIndex;for(var module in pkgMeta){ // allow meta to start with ./ for flexibility
var dotRel=module.substr(0,2)=='./'?'./':'';if(dotRel)module=module.substr(2);wildcardIndex=module.indexOf('*');if(wildcardIndex===-1)continue;if(module.substr(0,wildcardIndex)==subPath.substr(0,wildcardIndex)&&module.substr(wildcardIndex+1)==subPath.substr(subPath.length-module.length+wildcardIndex+1)){ // alow match function to return true for an exit path
if(matchFn(module,pkgMeta[dotRel+module],module.split('/').length))return;}} // exact meta
var exactMeta=pkgMeta[subPath]||pkgMeta['./'+subPath];if(exactMeta)matchFn(exactMeta,exactMeta,0);}hook('locate',function(locate){return function(load){var loader=this;return Promise.resolve(locate.call(this,load)).then(function(address){var pkgName=getPackage(loader,load.name);if(pkgName){var pkg=loader.packages[pkgName];var basePath=getBasePath(pkg);var subPath=load.name.substr(pkgName.length+basePath.length+1); // format
if(pkg.format)load.metadata.format=load.metadata.format||pkg.format;var meta={};if(pkg.meta){var bestDepth=0; // NB support a main shorthand in meta here?
getMetaMatches(pkg.meta,subPath,function(metaPattern,matchMeta,matchDepth){if(matchDepth>bestDepth)bestDepth=matchDepth;extendMeta(meta,matchMeta,matchDepth&&bestDepth>matchDepth);}); // allow alias and loader to be package-relative
if(meta.alias&&meta.alias.substr(0,2)=='./')meta.alias=pkgName+meta.alias.substr(1);if(meta.loader&&meta.loader.substr(0,2)=='./')meta.loader=pkgName+meta.loader.substr(1);extendMeta(load.metadata,meta);}}return address;});};});})(); /*
 * Script tag fetch
 *
 * When load.metadata.scriptLoad is true, we load via script tag injection.
 */(function(){if(typeof document!='undefined')var head=document.getElementsByTagName('head')[0];var curSystem; // if doing worker executing, this is set to the load record being executed
var workerLoad=null; // interactive mode handling method courtesy RequireJS
var ieEvents=head&&function(){var s=document.createElement('script');var isOpera=typeof opera!=='undefined'&&opera.toString()==='[object Opera]';return s.attachEvent&&!(s.attachEvent.toString&&s.attachEvent.toString().indexOf('[native code')<0)&&!isOpera;}(); // IE interactive-only part
// we store loading scripts array as { script: <script>, load: {...} }
var interactiveLoadingScripts=[];var interactiveScript;function getInteractiveScriptLoad(){if(interactiveScript&&interactiveScript.script.readyState==='interactive')return interactiveScript.load;for(var i=0;i<interactiveLoadingScripts.length;i++){if(interactiveLoadingScripts[i].script.readyState=='interactive'){interactiveScript=interactiveLoadingScripts[i];return interactiveScript.load;}}} // System.register, System.registerDynamic, AMD define pipeline
// this is called by the above methods when they execute
// we then run the reduceRegister_ collection function either immediately
// if we are in IE and know the currently executing script (interactive)
// or later if we need to wait for the synchronous load callback to know the script
var loadingCnt=0;var registerQueue=[];hook('pushRegister_',function(pushRegister){return function(register){ // if using eval-execution then skip
if(pushRegister.call(this,register))return false; // if using worker execution, then we're done
if(workerLoad)this.reduceRegister_(workerLoad,register); // detect if we know the currently executing load (IE)
// if so, immediately call reduceRegister
else if(ieEvents)this.reduceRegister_(getInteractiveScriptLoad(),register); // otherwise, add to our execution queue
// to call reduceRegister on sync script load event
else if(loadingCnt)registerQueue.push(register); // if we're not currently loading anything though
// then do the reduction against a null load
// (out of band named define or named register)
// note even in non-script environments, this catch is used
else this.reduceRegister_(null,register);return true;};});function webWorkerImport(loader,load){return new Promise(function(resolve,reject){if(load.metadata.integrity)reject(new Error('Subresource integrity checking is not supported in web workers.'));workerLoad=load;try{importScripts(load.address);}catch(e){workerLoad=null;reject(e);}workerLoad=null; // if nothing registered, then something went wrong
if(!load.metadata.entry)reject(new Error(load.address+' did not call System.register or AMD define'));resolve('');});} // override fetch to use script injection
hook('fetch',function(fetch){return function(load){var loader=this;if(load.metadata.format=='json'||!load.metadata.scriptLoad||!isBrowser&&!isWorker)return fetch.call(this,load);if(isWorker)return webWorkerImport(loader,load);return new Promise(function(resolve,reject){var s=document.createElement('script');s.async=true;if(load.metadata.integrity)s.setAttribute('integrity',load.metadata.integrity);if(ieEvents){s.attachEvent('onreadystatechange',complete);interactiveLoadingScripts.push({script:s,load:load});}else {s.addEventListener('load',complete,false);s.addEventListener('error',error,false);}loadingCnt++;curSystem=__global.System;s.src=load.address;head.appendChild(s);function complete(evt){if(s.readyState&&s.readyState!='loaded'&&s.readyState!='complete')return;loadingCnt--; // complete call is sync on execution finish
// (in ie already done reductions)
if(!load.metadata.entry&&!registerQueue.length){loader.reduceRegister_(load);}else if(!ieEvents){for(var i=0;i<registerQueue.length;i++){loader.reduceRegister_(load,registerQueue[i]);}registerQueue=[];}cleanup(); // if nothing registered, then something went wrong
if(!load.metadata.entry&&!load.metadata.bundle)reject(new Error(load.name+' did not call System.register or AMD define. If loading a global module configure the global name via the meta exports property for script injection support.'));resolve('');}function error(evt){cleanup();reject(new Error('Unable to load script '+load.address));}function cleanup(){__global.System=curSystem;if(s.detachEvent){s.detachEvent('onreadystatechange',complete);for(var i=0;i<interactiveLoadingScripts.length;i++){if(interactiveLoadingScripts[i].script==s){if(interactiveScript&&interactiveScript.script==s)interactiveScript=null;interactiveLoadingScripts.splice(i,1);}}}else {s.removeEventListener('load',complete,false);s.removeEventListener('error',error,false);}head.removeChild(s);}});};});})(); /*
 * Instantiate registry extension
 *
 * Supports Traceur System.register 'instantiate' output for loading ES6 as ES5.
 *
 * - Creates the loader.register function
 * - Also supports metadata.format = 'register' in instantiate for anonymous register modules
 * - Also supports metadata.deps, metadata.execute and metadata.executingRequire
 *     for handling dynamic modules alongside register-transformed ES6 modules
 *
 *
 * The code here replicates the ES6 linking groups algorithm to ensure that
 * circular ES6 compiled into System.register can work alongside circular AMD 
 * and CommonJS, identically to the actual ES6 loader.
 *
 */ /*
 * Registry side table entries in loader.defined
 * Registry Entry Contains:
 *    - name
 *    - deps 
 *    - declare for declarative modules
 *    - execute for dynamic modules, different to declarative execute on module
 *    - executingRequire indicates require drives execution for circularity of dynamic modules
 *    - declarative optional boolean indicating which of the above
 *
 * Can preload modules directly on SystemJS.defined['my/module'] = { deps, execute, executingRequire }
 *
 * Then the entry gets populated with derived information during processing:
 *    - normalizedDeps derived from deps, created in instantiate
 *    - groupIndex used by group linking algorithm
 *    - evaluated indicating whether evaluation has happend
 *    - module the module record object, containing:
 *      - exports actual module exports
 *
 *    For dynamic we track the es module with:
 *    - esModule actual es module value
 *    - esmExports whether to extend the esModule with named exports
 *      
 *    Then for declarative only we track dynamic bindings with the 'module' records:
 *      - name
 *      - exports
 *      - setters declarative setter functions
 *      - dependencies, module records of dependencies
 *      - importers, module records of dependents
 *
 * After linked and evaluated, entries are removed, declarative module records remain in separate
 * module binding table
 *
 */var leadingCommentAndMetaRegEx=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/;function detectRegisterFormat(source){var leadingCommentAndMeta=source.match(leadingCommentAndMetaRegEx);return leadingCommentAndMeta&&source.substr(leadingCommentAndMeta[0].length,15)=='System.register';}function createEntry(){return {name:null,deps:null,originalIndices:null,declare:null,execute:null,executingRequire:false,declarative:false,normalizedDeps:null,groupIndex:null,evaluated:false,module:null,esModule:null,esmExports:false};}(function(){ /*
   * There are two variations of System.register:
   * 1. System.register for ES6 conversion (2-3 params) - System.register([name, ]deps, declare)
   *    see https://github.com/ModuleLoader/es6-module-loader/wiki/System.register-Explained
   *
   * 2. System.registerDynamic for dynamic modules (3-4 params) - System.registerDynamic([name, ]deps, executingRequire, execute)
   * the true or false statement 
   *
   * this extension implements the linking algorithm for the two variations identical to the spec
   * allowing compiled ES6 circular references to work alongside AMD and CJS circular references.
   *
   */SystemJSLoader.prototype.register=function(name,deps,declare){if(typeof name!='string'){declare=deps;deps=name;name=null;} // dynamic backwards-compatibility
// can be deprecated eventually
if(typeof declare=='boolean')return this.registerDynamic.apply(this,arguments);var entry=createEntry(); // ideally wouldn't apply map config to bundle names but 
// dependencies go through map regardless so we can't restrict
// could reconsider in shift to new spec
entry.name=name&&(this.decanonicalize||this.normalize).call(this,name);entry.declarative=true;entry.deps=deps;entry.declare=declare;this.pushRegister_({amd:false,entry:entry});};SystemJSLoader.prototype.registerDynamic=function(name,deps,declare,execute){if(typeof name!='string'){execute=declare;declare=deps;deps=name;name=null;} // dynamic
var entry=createEntry();entry.name=name&&(this.decanonicalize||this.normalize).call(this,name);entry.deps=deps;entry.execute=execute;entry.executingRequire=declare;this.pushRegister_({amd:false,entry:entry});};hook('reduceRegister_',function(){return function(load,register){if(!register)return;var entry=register.entry;var curMeta=load&&load.metadata; // named register
if(entry.name){if(!(entry.name in this.defined))this.defined[entry.name]=entry;if(curMeta)curMeta.bundle=true;} // anonymous register
if(!entry.name||load&&entry.name==load.name){if(!curMeta)throw new TypeError('Unexpected anonymous System.register call.');if(curMeta.entry){if(curMeta.format=='register')throw new Error('Multiple anonymous System.register calls in module '+load.name+'. If loading a bundle, ensure all the System.register calls are named.');else throw new Error('Module '+load.name+' interpreted as '+curMeta.format+' module format, but called System.register.');}if(!curMeta.format)curMeta.format='register';curMeta.entry=entry;}};});hookConstructor(function(constructor){return function(){constructor.call(this);this.defined={};this._loader.moduleRecords={};};});function buildGroups(entry,loader,groups){groups[entry.groupIndex]=groups[entry.groupIndex]||[];if(indexOf.call(groups[entry.groupIndex],entry)!=-1)return;groups[entry.groupIndex].push(entry);for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i];var depEntry=loader.defined[depName]; // not in the registry means already linked / ES6
if(!depEntry||depEntry.evaluated)continue; // now we know the entry is in our unlinked linkage group
var depGroupIndex=entry.groupIndex+(depEntry.declarative!=entry.declarative); // the group index of an entry is always the maximum
if(depEntry.groupIndex===null||depEntry.groupIndex<depGroupIndex){ // if already in a group, remove from the old group
if(depEntry.groupIndex!==null){groups[depEntry.groupIndex].splice(indexOf.call(groups[depEntry.groupIndex],depEntry),1); // if the old group is empty, then we have a mixed depndency cycle
if(groups[depEntry.groupIndex].length==0)throw new Error("Mixed dependency cycle detected");}depEntry.groupIndex=depGroupIndex;}buildGroups(depEntry,loader,groups);}}function link(name,loader){var startEntry=loader.defined[name]; // skip if already linked
if(startEntry.module)return;startEntry.groupIndex=0;var groups=[];buildGroups(startEntry,loader,groups);var curGroupDeclarative=!!startEntry.declarative==groups.length%2;for(var i=groups.length-1;i>=0;i--){var group=groups[i];for(var j=0;j<group.length;j++){var entry=group[j]; // link each group
if(curGroupDeclarative)linkDeclarativeModule(entry,loader);else linkDynamicModule(entry,loader);}curGroupDeclarative=!curGroupDeclarative;}} // module binding records
function Module(){}defineProperty(Module,'toString',{value:function value(){return 'Module';}});function getOrCreateModuleRecord(name,moduleRecords){return moduleRecords[name]||(moduleRecords[name]={name:name,dependencies:[],exports:new Module(), // start from an empty module and extend
importers:[]});}function linkDeclarativeModule(entry,loader){ // only link if already not already started linking (stops at circular)
if(entry.module)return;var moduleRecords=loader._loader.moduleRecords;var module=entry.module=getOrCreateModuleRecord(entry.name,moduleRecords);var exports=entry.module.exports;var declaration=entry.declare.call(__global,function(name,value){module.locked=true;if((typeof name==='undefined'?'undefined':_typeof(name))=='object'){for(var p in name){exports[p]=name[p];}}else {exports[name]=value;}for(var i=0,l=module.importers.length;i<l;i++){var importerModule=module.importers[i];if(!importerModule.locked){var importerIndex=indexOf.call(importerModule.dependencies,module);importerModule.setters[importerIndex](exports);}}module.locked=false;return value;},{id:entry.name});module.setters=declaration.setters;module.execute=declaration.execute;if(!module.setters||!module.execute){throw new TypeError('Invalid System.register form for '+entry.name);} // now link all the module dependencies
for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i];var depEntry=loader.defined[depName];var depModule=moduleRecords[depName]; // work out how to set depExports based on scenarios...
var depExports;if(depModule){depExports=depModule.exports;} // dynamic, already linked in our registry
else if(depEntry&&!depEntry.declarative){depExports=depEntry.esModule;} // in the loader registry
else if(!depEntry){depExports=loader.get(depName);} // we have an entry -> link
else {linkDeclarativeModule(depEntry,loader);depModule=depEntry.module;depExports=depModule.exports;} // only declarative modules have dynamic bindings
if(depModule&&depModule.importers){depModule.importers.push(module);module.dependencies.push(depModule);}else {module.dependencies.push(null);} // run setters for all entries with the matching dependency name
var originalIndices=entry.originalIndices[i];for(var j=0,len=originalIndices.length;j<len;++j){var index=originalIndices[j];if(module.setters[index]){module.setters[index](depExports);}}}} // An analog to loader.get covering execution of all three layers (real declarative, simulated declarative, simulated dynamic)
function getModule(name,loader){var exports;var entry=loader.defined[name];if(!entry){exports=loader.get(name);if(!exports)throw new Error('Unable to load dependency '+name+'.');}else {if(entry.declarative)ensureEvaluated(name,[],loader);else if(!entry.evaluated)linkDynamicModule(entry,loader);exports=entry.module.exports;}if((!entry||entry.declarative)&&exports&&exports.__useDefault)return exports['default'];return exports;}function linkDynamicModule(entry,loader){if(entry.module)return;var exports={};var module=entry.module={exports:exports,id:entry.name}; // AMD requires execute the tree first
if(!entry.executingRequire){for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i]; // we know we only need to link dynamic due to linking algorithm
var depEntry=loader.defined[depName];if(depEntry)linkDynamicModule(depEntry,loader);}} // now execute
entry.evaluated=true;var output=entry.execute.call(__global,function(name){for(var i=0,l=entry.deps.length;i<l;i++){if(entry.deps[i]!=name)continue;return getModule(entry.normalizedDeps[i],loader);} // try and normalize the dependency to see if we have another form
var nameNormalized=loader.normalizeSync(name,entry.name);if(indexOf.call(entry.normalizedDeps,nameNormalized)!=-1)return getModule(nameNormalized,loader);throw new Error('Module '+name+' not declared as a dependency of '+entry.name);},exports,module);if(output)module.exports=output; // create the esModule object, which allows ES6 named imports of dynamics
exports=module.exports; // __esModule flag treats as already-named
if(exports&&exports.__esModule)entry.esModule=exports; // set module as 'default' export, then fake named exports by iterating properties
else if(entry.esmExports&&exports!==__global)entry.esModule=getESModule(exports); // just use the 'default' export
else entry.esModule={'default':exports};} /*
   * Given a module, and the list of modules for this current branch,
   *  ensure that each of the dependencies of this module is evaluated
   *  (unless one is a circular dependency already in the list of seen
   *  modules, in which case we execute it)
   *
   * Then we evaluate the module itself depth-first left to right 
   * execution to match ES6 modules
   */function ensureEvaluated(moduleName,seen,loader){var entry=loader.defined[moduleName]; // if already seen, that means it's an already-evaluated non circular dependency
if(!entry||entry.evaluated||!entry.declarative)return; // this only applies to declarative modules which late-execute
seen.push(moduleName);for(var i=0,l=entry.normalizedDeps.length;i<l;i++){var depName=entry.normalizedDeps[i];if(indexOf.call(seen,depName)==-1){if(!loader.defined[depName])loader.get(depName);else ensureEvaluated(depName,seen,loader);}}if(entry.evaluated)return;entry.evaluated=true;entry.module.execute.call(__global);} // override the delete method to also clear the register caches
hook('delete',function(del){return function(name){delete this._loader.moduleRecords[name];delete this.defined[name];return del.call(this,name);};});hook('fetch',function(fetch){return function(load){if(this.defined[load.name]){load.metadata.format='defined';return '';}load.metadata.deps=load.metadata.deps||[];return fetch.call(this,load);};});hook('translate',function(translate){ // we run the meta detection here (register is after meta)
return function(load){load.metadata.deps=load.metadata.deps||[];return Promise.resolve(translate.call(this,load)).then(function(source){ // run detection for register format
if(load.metadata.format=='register'||!load.metadata.format&&detectRegisterFormat(load.source))load.metadata.format='register';return source;});};});hook('instantiate',function(instantiate){return function(load){if(load.metadata.format=='detect')load.metadata.format=undefined; // assumes previous instantiate is sync
// (core json support)
instantiate.call(this,load);var loader=this;var entry; // first we check if this module has already been defined in the registry
if(loader.defined[load.name]){entry=loader.defined[load.name]; // don't support deps for ES modules
if(!entry.declarative)entry.deps=entry.deps.concat(load.metadata.deps);} // picked up already by an anonymous System.register script injection
// or via the dynamic formats
else if(load.metadata.entry){entry=load.metadata.entry;entry.deps=entry.deps.concat(load.metadata.deps);} // Contains System.register calls
// (dont run bundles in the builder)
else if(!(loader.builder&&load.metadata.bundle)&&(load.metadata.format=='register'||load.metadata.format=='esm'||load.metadata.format=='es6')){if(typeof __exec!='undefined')__exec.call(loader,load);if(!load.metadata.entry&&!load.metadata.bundle)throw new Error(load.name+' detected as '+load.metadata.format+' but didn\'t execute.');entry=load.metadata.entry; // support metadata deps for System.register
if(entry&&load.metadata.deps)entry.deps=entry.deps.concat(load.metadata.deps);} // named bundles are just an empty module
if(!entry){entry=createEntry();entry.deps=load.metadata.deps;entry.execute=function(){};} // place this module onto defined for circular references
loader.defined[load.name]=entry;var grouped=group(entry.deps);entry.deps=grouped.names;entry.originalIndices=grouped.indices;entry.name=load.name;entry.esmExports=load.metadata.esmExports!==false; // first, normalize all dependencies
var normalizePromises=[];for(var i=0,l=entry.deps.length;i<l;i++){normalizePromises.push(Promise.resolve(loader.normalize(entry.deps[i],load.name)));}return Promise.all(normalizePromises).then(function(normalizedDeps){entry.normalizedDeps=normalizedDeps;return {deps:entry.deps,execute:function execute(){ // recursively ensure that the module and all its 
// dependencies are linked (with dependency group handling)
link(load.name,loader); // now handle dependency execution in correct order
ensureEvaluated(load.name,[],loader); // remove from the registry
loader.defined[load.name]=undefined; // return the defined module object
return loader.newModule(entry.declarative?entry.module.exports:entry.esModule);}};});};});})(); /*
 * Extension to detect ES6 and auto-load Traceur or Babel for processing
 */(function(){ // good enough ES6 module detection regex - format detections not designed to be accurate, but to handle the 99% use case
var esmRegEx=/(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?[^"'\(\)\n;]+\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/;var traceurRuntimeRegEx=/\$traceurRuntime\s*\./;var babelHelpersRegEx=/babelHelpers\s*\./;hook('translate',function(translate){return function(load){var loader=this;return translate.call(loader,load).then(function(source){ // detect & transpile ES6
if(load.metadata.format=='esm'||load.metadata.format=='es6'||!load.metadata.format&&loader.transpiler!==false&&source.match(esmRegEx)){if(load.metadata.format=='es6')warn.call(loader,'Module '+load.name+' has metadata setting its format to "es6", which is deprecated.\nThis should be updated to "esm".');load.metadata.format='esm';if(loader.transpiler===false){ // we accept translation to esm for builds though to enable eg rollup optimizations
if(loader.builder)return source;throw new TypeError('Unable to dynamically transpile ES module as SystemJS.transpiler set to false.');} // setting _loader.loadedTranspiler = false tells the next block to
// do checks for setting transpiler metadata
loader._loader.loadedTranspiler=loader._loader.loadedTranspiler||false;if(loader.pluginLoader)loader.pluginLoader._loader.loadedTranspiler=loader._loader.loadedTranspiler||false; // do transpilation
return (loader._loader.transpilerPromise||(loader._loader.transpilerPromise=Promise.resolve(__global[loader.transpiler=='typescript'?'ts':loader.transpiler]||(loader.pluginLoader||loader)['import'](loader.transpiler)))).then(function(transpiler){loader._loader.loadedTranspilerRuntime=true; // translate hooks means this is a transpiler plugin instead of a raw implementation
if(transpiler.translate){ // if transpiler is the same as the plugin loader, then don't run twice
if(transpiler==load.metadata.loaderModule)return load.source; // convert the source map into an object for transpilation chaining
if(typeof load.metadata.sourceMap=='string')load.metadata.sourceMap=JSON.parse(load.metadata.sourceMap);return Promise.resolve(transpiler.translate.call(loader,load)).then(function(source){ // sanitize sourceMap if an object not a JSON string
var sourceMap=load.metadata.sourceMap;if(sourceMap&&(typeof sourceMap==='undefined'?'undefined':_typeof(sourceMap))=='object'){var originalName=load.name.split('!')[0]; // force set the filename of the original file
sourceMap.file=originalName+'!transpiled'; // force set the sources list if only one source
if(!sourceMap.sources||sourceMap.sources.length<=1)sourceMap.sources=[originalName];}if(load.metadata.format=='esm'&&!loader.builder&&detectRegisterFormat(source))load.metadata.format='register';return source;});} // legacy builder support
if(loader.builder)load.metadata.originalSource=load.source; // defined in es6-module-loader/src/transpile.js
return transpile.call(loader,load).then(function(source){ // clear sourceMap as transpiler embeds it
load.metadata.sourceMap=undefined;return source;});});} // skip transpiler and transpiler runtime loading when transpiler is disabled
if(loader.transpiler===false)return source; // load the transpiler correctly
if(loader._loader.loadedTranspiler===false&&(loader.transpiler=='traceur'||loader.transpiler=='typescript'||loader.transpiler=='babel')&&load.name==loader.normalizeSync(loader.transpiler)){ // always load transpiler as a global
if(source.length>100&&!load.metadata.format){load.metadata.format='global';if(loader.transpiler==='traceur')load.metadata.exports='traceur';if(loader.transpiler==='typescript')load.metadata.exports='ts';}loader._loader.loadedTranspiler=true;} // load the transpiler runtime correctly
if(loader._loader.loadedTranspilerRuntime===false){if(load.name==loader.normalizeSync('traceur-runtime')||load.name==loader.normalizeSync('babel/external-helpers*')){if(source.length>100)load.metadata.format=load.metadata.format||'global';loader._loader.loadedTranspilerRuntime=true;}} // detect transpiler runtime usage to load runtimes
if((load.metadata.format=='register'||load.metadata.bundle)&&loader._loader.loadedTranspilerRuntime!==true){if(!__global.$traceurRuntime&&load.source.match(traceurRuntimeRegEx)){loader._loader.loadedTranspilerRuntime=loader._loader.loadedTranspilerRuntime||false;return loader['import']('traceur-runtime').then(function(){return source;});}if(!__global.babelHelpers&&load.source.match(babelHelpersRegEx)){loader._loader.loadedTranspilerRuntime=loader._loader.loadedTranspilerRuntime||false;return loader['import']('babel/external-helpers').then(function(){return source;});}}return source;});};});})(); /*
  SystemJS Global Format

  Supports
    metadata.deps
    metadata.globals
    metadata.exports

  Without metadata.exports, detects writes to the global object.
*/var __globalName=typeof self!='undefined'?'self':'global';hook('fetch',function(fetch){return function(load){if(load.metadata.exports&&!load.metadata.format)load.metadata.format='global';return fetch.call(this,load);};}); // ideally we could support script loading for globals, but the issue with that is that
// we can't do it with AMD support side-by-side since AMD support means defining the
// global define, and global support means not definining it, yet we don't have any hook
// into the "pre-execution" phase of a script tag being loaded to handle both cases
hook('instantiate',function(instantiate){return function(load){var loader=this;if(!load.metadata.format)load.metadata.format='global'; // global is a fallback module format
if(load.metadata.format=='global'&&!load.metadata.registered){var entry=createEntry();load.metadata.entry=entry;entry.deps=[];for(var g in load.metadata.globals){var gl=load.metadata.globals[g];if(gl)entry.deps.push(gl);}entry.execute=function(require,exports,module){var globals;if(load.metadata.globals){globals={};for(var g in load.metadata.globals){if(load.metadata.globals[g])globals[g]=require(load.metadata.globals[g]);}}var exportName=load.metadata.exports;if(exportName)load.source+='\n'+__globalName+'["'+exportName+'"] = '+exportName+';';var retrieveGlobal=loader.get('@@global-helpers').prepareGlobal(module.id,exportName,globals);__exec.call(loader,load);return retrieveGlobal();};}return instantiate.call(this,load);};});hook('reduceRegister_',function(reduceRegister){return function(load,register){if(register||!load.metadata.exports)return reduceRegister.call(this,load,register);load.metadata.format='global';var entry=load.metadata.entry=createEntry();entry.deps=load.metadata.deps;var globalValue=readMemberExpression(load.metadata.exports,__global);entry.execute=function(){return globalValue;};};});hookConstructor(function(constructor){return function(){var loader=this;constructor.call(loader);var hasOwnProperty=Object.prototype.hasOwnProperty; // bare minimum ignores for IE8
var ignoredGlobalProps=['_g','sessionStorage','localStorage','clipboardData','frames','frameElement','external','mozAnimationStartTime','webkitStorageInfo','webkitIndexedDB','mozInnerScreenY','mozInnerScreenX'];var globalSnapshot;function forEachGlobal(callback){if(Object.keys)Object.keys(__global).forEach(callback);else for(var g in __global){if(!hasOwnProperty.call(__global,g))continue;callback(g);}}function forEachGlobalValue(callback){forEachGlobal(function(globalName){if(indexOf.call(ignoredGlobalProps,globalName)!=-1)return;try{var value=__global[globalName];}catch(e){ignoredGlobalProps.push(globalName);}callback(globalName,value);});}loader.set('@@global-helpers',loader.newModule({prepareGlobal:function prepareGlobal(moduleName,exportName,globals){ // disable module detection
var curDefine=__global.define;__global.define=undefined; // set globals
var oldGlobals;if(globals){oldGlobals={};for(var g in globals){oldGlobals[g]=__global[g];__global[g]=globals[g];}} // store a complete copy of the global object in order to detect changes
if(!exportName){globalSnapshot={};forEachGlobalValue(function(name,value){globalSnapshot[name]=value;});} // return function to retrieve global
return function(){var globalValue;if(exportName){globalValue=readMemberExpression(exportName,__global);}else {var singleGlobal;var multipleExports;var exports={};forEachGlobalValue(function(name,value){if(globalSnapshot[name]===value)return;if(typeof value=='undefined')return;exports[name]=value;if(typeof singleGlobal!='undefined'){if(!multipleExports&&singleGlobal!==value)multipleExports=true;}else {singleGlobal=value;}});globalValue=multipleExports?exports:singleGlobal;} // revert globals
if(oldGlobals){for(var g in oldGlobals){__global[g]=oldGlobals[g];}}__global.define=curDefine;return globalValue;};}}));};}); /*
  SystemJS CommonJS Format
*/(function(){ // CJS Module Format
// require('...') || exports[''] = ... || exports.asd = ... || module.exports = ...
var cjsExportsRegEx=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])(exports\s*(\[['"]|\.)|module(\.exports|\['exports'\]|\["exports"\])\s*(\[['"]|[=,\.]))/; // RegEx adjusted from https://github.com/jbrantly/yabble/blob/master/lib/yabble.js#L339
var cjsRequireRegEx=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g;var commentRegEx=/(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg;var stringRegEx=/("[^"\\\n\r]*(\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(\\.[^'\\\n\r]*)*')/g;function getCJSDeps(source){cjsRequireRegEx.lastIndex=commentRegEx.lastIndex=stringRegEx.lastIndex=0;var deps=[];var match; // track string and comment locations for unminified source    
var stringLocations=[],commentLocations=[];function inLocation(locations,match){for(var i=0;i<locations.length;i++){if(locations[i][0]<match.index&&locations[i][1]>match.index)return true;}return false;}if(source.length/source.split('\n').length<200){while(match=stringRegEx.exec(source)){stringLocations.push([match.index,match.index+match[0].length]);}while(match=commentRegEx.exec(source)){ // only track comments not starting in strings
if(!inLocation(stringLocations,match))commentLocations.push([match.index,match.index+match[0].length]);}}while(match=cjsRequireRegEx.exec(source)){ // ensure we're not within a string or comment location
if(!inLocation(stringLocations,match)&&!inLocation(commentLocations,match)){var dep=match[1].substr(1,match[1].length-2); // skip cases like require('" + file + "')
if(dep.match(/"|'/))continue; // trailing slash requires are removed as they don't map mains in SystemJS
if(dep[dep.length-1]=='/')dep=dep.substr(0,dep.length-1);deps.push(dep);}}return deps;}hook('instantiate',function(instantiate){return function(load){var loader=this;if(!load.metadata.format){cjsExportsRegEx.lastIndex=0;cjsRequireRegEx.lastIndex=0;if(cjsRequireRegEx.exec(load.source)||cjsExportsRegEx.exec(load.source))load.metadata.format='cjs';}if(load.metadata.format=='cjs'){var metaDeps=load.metadata.deps;var deps=load.metadata.cjsRequireDetection===false?[]:getCJSDeps(load.source);for(var g in load.metadata.globals){if(load.metadata.globals[g])deps.push(load.metadata.globals[g]);}var entry=createEntry();load.metadata.entry=entry;entry.deps=deps;entry.executingRequire=true;entry.execute=function(_require,exports,module){function require(name){if(name[name.length-1]=='/')name=name.substr(0,name.length-1);return _require.apply(this,arguments);} // ensure meta deps execute first
if(!load.metadata.cjsDeferDepsExecute)for(var i=0;i<metaDeps.length;i++){require(metaDeps[i]);}var pathVars=loader.get('@@cjs-helpers').getPathVars(module.id);var __cjsWrapper={exports:exports,args:[require,exports,module,pathVars.filename,pathVars.dirname,__global,__global]};var cjsWrapper="(function(require, exports, module, __filename, __dirname, global, GLOBAL"; // add metadata.globals to the wrapper arguments
if(load.metadata.globals)for(var g in load.metadata.globals){__cjsWrapper.args.push(require(load.metadata.globals[g]));cjsWrapper+=", "+g;} // disable AMD detection
var define=__global.define;__global.define=undefined;__global.__cjsWrapper=__cjsWrapper;load.source=cjsWrapper+") {"+load.source+"\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);";__exec.call(loader,load);__global.__cjsWrapper=undefined;__global.define=define;};}return instantiate.call(loader,load);};});})();hookConstructor(function(constructor){return function(){var loader=this;constructor.call(loader);if(typeof window!='undefined'&&typeof document!='undefined'&&window.location)var windowOrigin=location.protocol+'//'+location.hostname+(location.port?':'+location.port:'');loader.set('@@cjs-helpers',loader.newModule({getPathVars:function getPathVars(moduleId){ // remove any plugin syntax
var pluginIndex=moduleId.lastIndexOf('!');var filename;if(pluginIndex!=-1)filename=moduleId.substr(0,pluginIndex);else filename=moduleId;var dirname=filename.split('/');dirname.pop();dirname=dirname.join('/');if(filename.substr(0,8)=='file:///'){filename=filename.substr(7);dirname=dirname.substr(7); // on windows remove leading '/'
if(isWindows){filename=filename.substr(1);dirname=dirname.substr(1);}}else if(windowOrigin&&filename.substr(0,windowOrigin.length)===windowOrigin){filename=filename.substr(windowOrigin.length);dirname=dirname.substr(windowOrigin.length);}return {filename:filename,dirname:dirname};}}));};}); /*
 * AMD Helper function module
 * Separated into its own file as this is the part needed for full AMD support in SFX builds
 * NB since implementations have now diverged this can be merged back with amd.js
 */hook('fetch',function(fetch){return function(load){ // script load implies define global leak
if(load.metadata.scriptLoad&&isBrowser)__global.define=this.amdDefine;return fetch.call(this,load);};});hookConstructor(function(constructor){return function(){var loader=this;constructor.call(this);var commentRegEx=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg;var cjsRequirePre='(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])';var cjsRequirePost="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)";var fnBracketRegEx=/\(([^\)]*)\)/;var wsRegEx=/^\s+|\s+$/g;var requireRegExs={};function getCJSDeps(source,requireIndex){ // remove comments
source=source.replace(commentRegEx,''); // determine the require alias
var params=source.match(fnBracketRegEx);var requireAlias=(params[1].split(',')[requireIndex]||'require').replace(wsRegEx,''); // find or generate the regex for this requireAlias
var requireRegEx=requireRegExs[requireAlias]||(requireRegExs[requireAlias]=new RegExp(cjsRequirePre+requireAlias+cjsRequirePost,'g'));requireRegEx.lastIndex=0;var deps=[];var match;while(match=requireRegEx.exec(source)){deps.push(match[2]||match[3]);}return deps;} /*
      AMD-compatible require
      To copy RequireJS, set window.require = window.requirejs = loader.amdRequire
    */function require(names,callback,errback,referer){ // in amd, first arg can be a config object... we just ignore
if((typeof names==='undefined'?'undefined':_typeof(names))=='object'&&!(names instanceof Array))return require.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1)); // amd require
if(typeof names=='string'&&typeof callback=='function')names=[names];if(names instanceof Array){var dynamicRequires=[];for(var i=0;i<names.length;i++){dynamicRequires.push(loader['import'](names[i],referer));}Promise.all(dynamicRequires).then(function(modules){if(callback)callback.apply(null,modules);},errback);} // commonjs require
else if(typeof names=='string'){var defaultJSExtension=loader.defaultJSExtensions&&names.substr(names.length-3,3)!='.js';var normalized=loader.decanonicalize(names,referer);if(defaultJSExtension&&normalized.substr(normalized.length-3,3)=='.js')normalized=normalized.substr(0,normalized.length-3);var module=loader.get(normalized);if(!module)throw new Error('Module not already loaded loading "'+names+'" from "'+referer+'".');return module.__useDefault?module['default']:module;}else throw new TypeError('Invalid require');}function define(name,deps,factory){if(typeof name!='string'){factory=deps;deps=name;name=null;}if(!(deps instanceof Array)){factory=deps;deps=['require','exports','module'].splice(0,factory.length);}if(typeof factory!='function')factory=function(factory){return function(){return factory;};}(factory); // in IE8, a trailing comma becomes a trailing undefined entry
if(deps[deps.length-1]===undefined)deps.pop(); // remove system dependencies
var requireIndex,exportsIndex,moduleIndex;if((requireIndex=indexOf.call(deps,'require'))!=-1){deps.splice(requireIndex,1); // only trace cjs requires for non-named
// named defines assume the trace has already been done
if(!name)deps=deps.concat(getCJSDeps(factory.toString(),requireIndex));}if((exportsIndex=indexOf.call(deps,'exports'))!=-1)deps.splice(exportsIndex,1);if((moduleIndex=indexOf.call(deps,'module'))!=-1)deps.splice(moduleIndex,1);function execute(req,exports,module){var depValues=[];for(var i=0;i<deps.length;i++){depValues.push(req(deps[i]));}module.uri=module.id;module.config=function(){}; // add back in system dependencies
if(moduleIndex!=-1)depValues.splice(moduleIndex,0,module);if(exportsIndex!=-1)depValues.splice(exportsIndex,0,exports);if(requireIndex!=-1){var contextualRequire=function contextualRequire(names,callback,errback){if(typeof names=='string'&&typeof callback!='function')return req(names);return require.call(loader,names,callback,errback,module.id);};contextualRequire.toUrl=function(name){ // normalize without defaultJSExtensions
var defaultJSExtension=loader.defaultJSExtensions&&name.substr(name.length-3,3)!='.js';var url=loader.decanonicalize(name,module.id);if(defaultJSExtension&&url.substr(url.length-3,3)=='.js')url=url.substr(0,url.length-3);return url;};depValues.splice(requireIndex,0,contextualRequire);} // set global require to AMD require
var curRequire=__global.require;__global.require=require;var output=factory.apply(exportsIndex==-1?__global:exports,depValues);__global.require=curRequire;if(typeof output=='undefined'&&module)output=module.exports;if(typeof output!='undefined')return output;}var entry=createEntry();entry.name=name&&(loader.decanonicalize||loader.normalize).call(loader,name);entry.deps=deps;entry.execute=execute;loader.pushRegister_({amd:true,entry:entry});}define.amd={}; // reduction function to attach defines to a load record
hook('reduceRegister_',function(reduceRegister){return function(load,register){ // only handle AMD registers here
if(!register||!register.amd)return reduceRegister.call(this,load,register);var curMeta=load&&load.metadata;var entry=register.entry;if(curMeta)curMeta.format='amd'; // anonymous define
if(!entry.name){if(!curMeta)throw new TypeError('Unexpected anonymous AMD define.');if(curMeta.entry&&!curMeta.entry.name)throw new Error('Multiple anonymous defines in module '+load.name);curMeta.entry=entry;} // named define
else { // if we don't have any other defines, 
// then let this be an anonymous define
// this is just to support single modules of the form:
// define('jquery')
// still loading anonymously
// because it is done widely enough to be useful
// as soon as there is more than one define, this gets removed though
if(curMeta){if(!curMeta.entry&&!curMeta.bundle)curMeta.entry=entry;else if(curMeta.entry&&curMeta.entry.name)curMeta.entry=undefined; // note this is now a bundle
curMeta.bundle=true;} // define the module through the register registry
if(!(entry.name in this.defined))this.defined[entry.name]=entry;}};});loader.amdDefine=define;loader.amdRequire=require;};}); /*
  SystemJS AMD Format
*/(function(){ // AMD Module Format Detection RegEx
// define([.., .., ..], ...)
// define(varName); || define(function(require, exports) {}); || define({})
var amdRegEx=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/;hook('instantiate',function(instantiate){return function(load){var loader=this;if(load.metadata.format=='amd'||!load.metadata.format&&load.source.match(amdRegEx)){load.metadata.format='amd';if(!loader.builder&&loader.execute!==false){var curDefine=__global.define;__global.define=this.amdDefine;try{__exec.call(loader,load);}finally {__global.define=curDefine;}if(!load.metadata.entry&&!load.metadata.bundle)throw new TypeError('AMD module '+load.name+' did not define');}else {load.metadata.execute=function(){return load.metadata.builderExecute.apply(this,arguments);};}}return instantiate.call(loader,load);};});})(); /*
  SystemJS Loader Plugin Support

  Supports plugin loader syntax with "!", or via metadata.loader

  The plugin name is loaded as a module itself, and can override standard loader hooks
  for the plugin resource. See the plugin section of the systemjs readme.
*/(function(){function getParentName(loader,parentName){ // if parent is a plugin, normalize against the parent plugin argument only
if(parentName){var parentPluginIndex;if(loader.pluginFirst){if((parentPluginIndex=parentName.lastIndexOf('!'))!=-1)return parentName.substr(parentPluginIndex+1);}else {if((parentPluginIndex=parentName.indexOf('!'))!=-1)return parentName.substr(0,parentPluginIndex);}return parentName;}}function parsePlugin(loader,name){var argumentName;var pluginName;var pluginIndex=name.lastIndexOf('!');if(pluginIndex==-1)return;if(loader.pluginFirst){argumentName=name.substr(pluginIndex+1);pluginName=name.substr(0,pluginIndex);}else {argumentName=name.substr(0,pluginIndex);pluginName=name.substr(pluginIndex+1)||argumentName.substr(argumentName.lastIndexOf('.')+1);}return {argument:argumentName,plugin:pluginName};} // put name back together after parts have been normalized
function combinePluginParts(loader,argumentName,pluginName,defaultExtension){if(defaultExtension&&argumentName.substr(argumentName.length-3,3)=='.js')argumentName=argumentName.substr(0,argumentName.length-3);if(loader.pluginFirst){return pluginName+'!'+argumentName;}else {return argumentName+'!'+pluginName;}} // note if normalize will add a default js extension
// if so, remove for backwards compat
// this is strange and sucks, but will be deprecated
function checkDefaultExtension(loader,arg){return loader.defaultJSExtensions&&arg.substr(arg.length-3,3)!='.js';}function createNormalizeSync(normalizeSync){return function(name,parentName,isPlugin){var loader=this;parentName=getParentName(this,parentName);var parsed=parsePlugin(loader,name);if(!parsed)return normalizeSync.call(this,name,parentName,isPlugin); // if this is a plugin, normalize the plugin name and the argument
var argumentName=loader.normalizeSync(parsed.argument,parentName,true);var pluginName=loader.normalizeSync(parsed.plugin,parentName,true);return combinePluginParts(loader,argumentName,pluginName,checkDefaultExtension(loader,parsed.argument));};}hook('decanonicalize',createNormalizeSync);hook('normalizeSync',createNormalizeSync);hook('normalize',function(normalize){return function(name,parentName,isPlugin){var loader=this;parentName=getParentName(this,parentName);var parsed=parsePlugin(loader,name);if(!parsed)return normalize.call(loader,name,parentName,isPlugin);return Promise.all([loader.normalize(parsed.argument,parentName,true),loader.normalize(parsed.plugin,parentName)]).then(function(normalized){return combinePluginParts(loader,normalized[0],normalized[1],checkDefaultExtension(loader,parsed.argument));});};});hook('locate',function(locate){return function(load){var loader=this;var name=load.name; // plugin syntax
var pluginSyntaxIndex;if(loader.pluginFirst){if((pluginSyntaxIndex=name.indexOf('!'))!=-1){load.metadata.loader=name.substr(0,pluginSyntaxIndex);load.name=name.substr(pluginSyntaxIndex+1);}}else {if((pluginSyntaxIndex=name.lastIndexOf('!'))!=-1){load.metadata.loader=name.substr(pluginSyntaxIndex+1);load.name=name.substr(0,pluginSyntaxIndex);}}return locate.call(loader,load).then(function(address){var plugin=load.metadata.loader;if(!plugin)return address; // only fetch the plugin itself if this name isn't defined
if(loader.defined&&loader.defined[name])return address;var pluginLoader=loader.pluginLoader||loader; // load the plugin module and run standard locate
return pluginLoader['import'](plugin).then(function(loaderModule){ // store the plugin module itself on the metadata
load.metadata.loaderModule=loaderModule;load.address=address;if(loaderModule.locate)return loaderModule.locate.call(loader,load);return address;});});};});hook('fetch',function(fetch){return function(load){var loader=this;if(load.metadata.loaderModule&&load.metadata.loaderModule.fetch&&load.metadata.format!='defined'){load.metadata.scriptLoad=false;return load.metadata.loaderModule.fetch.call(loader,load,function(load){return fetch.call(loader,load);});}else {return fetch.call(loader,load);}};});hook('translate',function(translate){return function(load){var loader=this;if(load.metadata.loaderModule&&load.metadata.loaderModule.translate&&load.metadata.format!='defined'){return Promise.resolve(load.metadata.loaderModule.translate.call(loader,load)).then(function(result){var sourceMap=load.metadata.sourceMap; // sanitize sourceMap if an object not a JSON string
if(sourceMap){if((typeof sourceMap==='undefined'?'undefined':_typeof(sourceMap))!='object')throw new Error('load.metadata.sourceMap must be set to an object.');var originalName=load.name.split('!')[0]; // force set the filename of the original file
sourceMap.file=originalName+'!transpiled'; // force set the sources list if only one source
if(!sourceMap.sources||sourceMap.sources.length<=1)sourceMap.sources=[originalName];} // if running on file:/// URLs, sourcesContent is necessary
// load.metadata.sourceMap.sourcesContent = [load.source];
if(typeof result=='string')load.source=result;else warn.call(this,'Plugin '+load.metadata.loader+' should return the source in translate, instead of setting load.source directly. This support will be deprecated.');return translate.call(loader,load);});}else {return translate.call(loader,load);}};});hook('instantiate',function(instantiate){return function(load){var loader=this;if(load.metadata.loaderModule&&load.metadata.loaderModule.instantiate&&!loader.builder&&load.metadata.format!='defined')return Promise.resolve(load.metadata.loaderModule.instantiate.call(loader,load)).then(function(result){load.metadata.entry=createEntry();load.metadata.entry.execute=function(){return result;};load.metadata.entry.deps=load.metadata.deps;load.metadata.format='defined';return instantiate.call(loader,load);});else return instantiate.call(loader,load);};});})(); /*
 * Conditions Extension
 *
 *   Allows a condition module to alter the resolution of an import via syntax:
 *
 *     import $ from 'jquery/#{browser}';
 *
 *   Will first load the module 'browser' via `SystemJS.import('browser')` and 
 *   take the default export of that module.
 *   If the default export is not a string, an error is thrown.
 * 
 *   We then substitute the string into the require to get the conditional resolution
 *   enabling environment-specific variations like:
 * 
 *     import $ from 'jquery/ie'
 *     import $ from 'jquery/firefox'
 *     import $ from 'jquery/chrome'
 *     import $ from 'jquery/safari'
 *
 *   It can be useful for a condition module to define multiple conditions.
 *   This can be done via the `|` modifier to specify an export member expression:
 *
 *     import 'jquery/#{./browser.js|grade.version}'
 *
 *   Where the `grade` export `version` member in the `browser.js` module  is substituted.
 *
 *
 * Boolean Conditionals
 *
 *   For polyfill modules, that are used as imports but have no module value,
 *   a binary conditional allows a module not to be loaded at all if not needed:
 *
 *     import 'es5-shim#?./conditions.js|needs-es5shim'
 *
 *   These conditions can also be negated via:
 *     
 *     import 'es5-shim#?~./conditions.js|es6'
 *
 */function parseCondition(condition){var conditionExport,conditionModule,negation;var negation=condition[0]=='~';var conditionExportIndex=condition.lastIndexOf('|');if(conditionExportIndex!=-1){conditionExport=condition.substr(conditionExportIndex+1);conditionModule=condition.substr(negation,conditionExportIndex-negation)||'@system-env';}else {conditionExport=null;conditionModule=condition.substr(negation);}return {module:conditionModule,prop:conditionExport,negate:negation};}function serializeCondition(conditionObj){return (conditionObj.negate?'~':'')+conditionObj.module+(conditionObj.prop?'|'+conditionObj.prop:'');}function resolveCondition(conditionObj,parentName,bool){return this['import'](conditionObj.module,parentName).then(function(m){if(conditionObj.prop)m=readMemberExpression(conditionObj.prop,m);else if((typeof m==='undefined'?'undefined':_typeof(m))=='object'&&m+''=='Module')m=m['default'];if(bool&&typeof m!='boolean')throw new TypeError('Condition '+serializeCondition(conditionObj)+' did not resolve to a boolean.');return conditionObj.negate?!m:m;});}var interpolationRegEx=/#\{[^\}]+\}/;function interpolateConditional(name,parentName){ // first we normalize the conditional
var conditionalMatch=name.match(interpolationRegEx);if(!conditionalMatch)return Promise.resolve(name);var conditionObj=parseCondition(conditionalMatch[0].substr(2,conditionalMatch[0].length-3)); // in builds, return normalized conditional
if(this.builder)return this['normalize'](conditionObj.module,parentName).then(function(conditionModule){conditionObj.module=conditionModule;return name.replace(interpolationRegEx,'#{'+serializeCondition(conditionObj)+'}');});return resolveCondition.call(this,conditionObj,parentName,false).then(function(conditionValue){if(typeof conditionValue!=='string')throw new TypeError('The condition value for '+name+' doesn\'t resolve to a string.');if(conditionValue.indexOf('/')!=-1)throw new TypeError('Unabled to interpolate conditional '+name+(parentName?' in '+parentName:'')+'\n\tThe condition value '+conditionValue+' cannot contain a "/" separator.');return name.replace(interpolationRegEx,conditionValue);});}function booleanConditional(name,parentName){ // first we normalize the conditional
var booleanIndex=name.lastIndexOf('#?');if(booleanIndex==-1)return Promise.resolve(name);var conditionObj=parseCondition(name.substr(booleanIndex+2)); // in builds, return normalized conditional
if(this.builder)return this['normalize'](conditionObj.module,parentName).then(function(conditionModule){conditionObj.module=conditionModule;return name.substr(0,booleanIndex)+'#?'+serializeCondition(conditionObj);});return resolveCondition.call(this,conditionObj,parentName,true).then(function(conditionValue){return conditionValue?name.substr(0,booleanIndex):'@empty';});} // normalizeSync does not parse conditionals at all although it could
hook('normalize',function(normalize){return function(name,parentName,parentAddress){var loader=this;return booleanConditional.call(loader,name,parentName).then(function(name){return normalize.call(loader,name,parentName,parentAddress);}).then(function(normalized){return interpolateConditional.call(loader,normalized,parentName);});};}); /*
 * Alias Extension
 *
 * Allows a module to be a plain copy of another module by module name
 *
 * SystemJS.meta['mybootstrapalias'] = { alias: 'bootstrap' };
 *
 */(function(){ // aliases
hook('fetch',function(fetch){return function(load){var alias=load.metadata.alias;var aliasDeps=load.metadata.deps||[];if(alias){load.metadata.format='defined';var entry=createEntry();this.defined[load.name]=entry;entry.declarative=true;entry.deps=aliasDeps.concat([alias]);entry.declare=function(_export){return {setters:[function(module){for(var p in module){_export(p,module[p]);}if(module.__useDefault)entry.module.exports.__useDefault=true;}],execute:function execute(){}};};return '';}return fetch.call(this,load);};});})(); /*
 * Meta Extension
 *
 * Sets default metadata on a load record (load.metadata) from
 * loader.metadata via SystemJS.meta function.
 *
 *
 * Also provides an inline meta syntax for module meta in source.
 *
 * Eg:
 *
 * loader.meta({
 *   'my/module': { deps: ['jquery'] }
 *   'my/*': { format: 'amd' }
 * });
 *
 * Which in turn populates loader.metadata.
 *
 * load.metadata.deps and load.metadata.format will then be set
 * for 'my/module'
 *
 * The same meta could be set with a my/module.js file containing:
 *
 * my/module.js
 *   "format amd";
 *   "deps[] jquery";
 *   "globals.some value"
 *   console.log('this is my/module');
 *
 * Configuration meta always takes preference to inline meta.
 *
 * Multiple matches in wildcards are supported and ammend the meta.
 *
 *
 * The benefits of the function form is that paths are URL-normalized
 * supporting say
 *
 * loader.meta({ './app': { format: 'cjs' } });
 *
 * Instead of needing to set against the absolute URL (https://site.com/app.js)
 *
 */(function(){hookConstructor(function(constructor){return function(){this.meta={};constructor.call(this);};});hook('locate',function(locate){return function(load){var meta=this.meta;var name=load.name; // NB for perf, maybe introduce a fast-path wildcard lookup cache here
// which is checked first
// apply wildcard metas
var bestDepth=0;var wildcardIndex;for(var module in meta){wildcardIndex=module.indexOf('*');if(wildcardIndex===-1)continue;if(module.substr(0,wildcardIndex)===name.substr(0,wildcardIndex)&&module.substr(wildcardIndex+1)===name.substr(name.length-module.length+wildcardIndex+1)){var depth=module.split('/').length;if(depth>bestDepth)bestDepth=depth;extendMeta(load.metadata,meta[module],bestDepth!=depth);}} // apply exact meta
if(meta[name])extendMeta(load.metadata,meta[name]);return locate.call(this,load);};}); // detect any meta header syntax
// only set if not already set
var metaRegEx=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/;var metaPartRegEx=/\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;function setMetaProperty(target,p,value){var pParts=p.split('.');var curPart;while(pParts.length>1){curPart=pParts.shift();target=target[curPart]=target[curPart]||{};}curPart=pParts.shift();if(!(curPart in target))target[curPart]=value;}hook('translate',function(translate){return function(load){ // NB meta will be post-translate pending transpiler conversion to plugins
var meta=load.source.match(metaRegEx);if(meta){var metaParts=meta[0].match(metaPartRegEx);for(var i=0;i<metaParts.length;i++){var curPart=metaParts[i];var len=curPart.length;var firstChar=curPart.substr(0,1);if(curPart.substr(len-1,1)==';')len--;if(firstChar!='"'&&firstChar!="'")continue;var metaString=curPart.substr(1,curPart.length-3);var metaName=metaString.substr(0,metaString.indexOf(' '));if(metaName){var metaValue=metaString.substr(metaName.length+1,metaString.length-metaName.length-1);if(metaName.substr(metaName.length-2,2)=='[]'){metaName=metaName.substr(0,metaName.length-2);load.metadata[metaName]=load.metadata[metaName]||[];load.metadata[metaName].push(metaValue);}else if(load.metadata[metaName] instanceof Array){ // temporary backwards compat for previous "deps" syntax
warn.call(this,'Module '+load.name+' contains deprecated "deps '+metaValue+'" meta syntax.\nThis should be updated to "deps[] '+metaValue+'" for pushing to array meta.');load.metadata[metaName].push(metaValue);}else {setMetaProperty(load.metadata,metaName,metaValue);}}else {load.metadata[metaString]=true;}}}return translate.call(this,load);};});})(); /*
  System bundles

  Allows a bundle module to be specified which will be dynamically 
  loaded before trying to load a given module.

  For example:
  SystemJS.bundles['mybundle'] = ['jquery', 'bootstrap/js/bootstrap']

  Will result in a load to "mybundle" whenever a load to "jquery"
  or "bootstrap/js/bootstrap" is made.

  In this way, the bundle becomes the request that provides the module
*/(function(){ // bundles support (just like RequireJS)
// bundle name is module name of bundle itself
// bundle is array of modules defined by the bundle
// when a module in the bundle is requested, the bundle is loaded instead
// of the form SystemJS.bundles['mybundle'] = ['jquery', 'bootstrap/js/bootstrap']
hookConstructor(function(constructor){return function(){constructor.call(this);this.bundles={};this._loader.loadedBundles={};};}); // assign bundle metadata for bundle loads
hook('locate',function(locate){return function(load){var loader=this;var matched=false;if(!(load.name in loader.defined))for(var b in loader.bundles){for(var i=0;i<loader.bundles[b].length;i++){var curModule=loader.bundles[b][i];if(curModule==load.name){matched=true;break;} // wildcard in bundles does not include / boundaries
if(curModule.indexOf('*')!=-1){var parts=curModule.split('*');if(parts.length!=2){loader.bundles[b].splice(i--,1);continue;}if(load.name.substring(0,parts[0].length)==parts[0]&&load.name.substr(load.name.length-parts[1].length,parts[1].length)==parts[1]&&load.name.substr(parts[0].length,load.name.length-parts[1].length-parts[0].length).indexOf('/')==-1){matched=true;break;}}}if(matched)return loader['import'](b).then(function(){return locate.call(loader,load);});}return locate.call(loader,load);};});})(); /*
 * Dependency Tree Cache
 * 
 * Allows a build to pre-populate a dependency trace tree on the loader of 
 * the expected dependency tree, to be loaded upfront when requesting the
 * module, avoinding the n round trips latency of module loading, where 
 * n is the dependency tree depth.
 *
 * eg:
 * SystemJS.depCache = {
 *  'app': ['normalized', 'deps'],
 *  'normalized': ['another'],
 *  'deps': ['tree']
 * };
 * 
 * SystemJS.import('app') 
 * // simultaneously starts loading all of:
 * // 'normalized', 'deps', 'another', 'tree'
 * // before "app" source is even loaded
 *
 */(function(){hookConstructor(function(constructor){return function(){constructor.call(this);this.depCache={};};});hook('locate',function(locate){return function(load){var loader=this; // load direct deps, in turn will pick up their trace trees
var deps=loader.depCache[load.name];if(deps)for(var i=0;i<deps.length;i++){loader['import'](deps[i],load.name);}return locate.call(loader,load);};});})();System=new SystemJSLoader();__global.SystemJS=System;System.version='0.19.23 Standard'; // -- exporting --
if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object')module.exports=Loader;__global.Reflect=__global.Reflect||{};__global.Reflect.Loader=__global.Reflect.Loader||Loader;__global.Reflect.global=__global.Reflect.global||__global;__global.LoaderPolyfill=Loader;if(!System){System=new SystemLoader();System.constructor=SystemLoader;}if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object')module.exports=System;__global.System=System;})(typeof self!='undefined'?self:global);} // auto-load Promise and URL polyfills if needed in the browser
try{var hasURL=typeof URLPolyfill!='undefined'||new URL('test:///').protocol=='test:';}catch(e){}if(typeof Promise==='undefined'||!hasURL){ // document.write
if(typeof document!=='undefined'){var scripts=document.getElementsByTagName('script');$__curScript=scripts[scripts.length-1];var curPath=$__curScript.src;var basePath=curPath.substr(0,curPath.lastIndexOf('/')+1);window.systemJSBootstrap=bootstrap;document.write('<'+'script type="text/javascript" src="'+basePath+'system-polyfills.js">'+'<'+'/script>');} // importScripts
else if(typeof importScripts!=='undefined'){var basePath='';try{throw new Error('_');}catch(e){e.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/,function(m,url){basePath=url.replace(/\/[^\/]*$/,'/');});}importScripts(basePath+'system-polyfills.js');bootstrap();}else {bootstrap();}}else {bootstrap();}})();}};});
//# sourceMappingURL=data:application/json;base64,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LEtBQVQsQ0FDRSxJQUFNLHFDQUFOLENBQThDLFFBQTlDLENBQXlELHVCQUF6RCxDQUFtRixHQUFuRixDQUF5RixVQUF6RixDQURGLENBTm1DO0FBQXJDLEtBV0ssR0FBSSxPQUFPLGFBQVAsR0FBeUIsV0FBekIsQ0FBc0MsQ0FDN0MsSUFBSSxTQUFXLEVBQVgsQ0FEeUMsR0FFekMsQ0FDRixNQUFNLElBQUksS0FBSixDQUFVLEdBQVYsQ0FBTixDQURFLENBQUosTUFFUyxDQUFQLENBQVUsQ0FDVixFQUFFLEtBQUYsQ0FBUSxPQUFSLENBQWdCLGdDQUFoQixDQUFrRCxTQUFTLENBQVQsQ0FBWSxHQUFaLENBQWlCLENBQ2pFLFNBQVcsSUFBSSxPQUFKLENBQVksV0FBWixDQUF5QixHQUF6QixDQUFYLENBRGlFLENBQWpCLENBQWxELENBRFUsQ0FBVixhQUtGLENBQWMsU0FBVyxxQkFBWCxDQUFkLENBVDZDLFNBVTdDLEdBVjZDLENBQTFDLEtBWUEsQ0FDSCxZQURHLENBWkEsQ0FiUCxLQTZCSyxDQUNILFlBREcsQ0E3QkwsQ0EzdEpDLENBQUQiLCJmaWxlIjoic3lzdGVtLnNyYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTeXN0ZW1KUyB2MC4xOS4yM1xuICovXG4oZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiBib290c3RyYXAoKSB7KGZ1bmN0aW9uKF9fZ2xvYmFsKSB7XG5cbiAgdmFyIGlzV29ya2VyID0gdHlwZW9mIHdpbmRvdyA9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPSAndW5kZWZpbmVkJztcbiAgdmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnO1xuICB2YXIgaXNXaW5kb3dzID0gdHlwZW9mIHByb2Nlc3MgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MucGxhdGZvcm0gIT0gJ3VuZGVmaW5lZCcgJiYgISFwcm9jZXNzLnBsYXRmb3JtLm1hdGNoKC9ed2luLyk7XG5cbiAgaWYgKCFfX2dsb2JhbC5jb25zb2xlKVxuICAgIF9fZ2xvYmFsLmNvbnNvbGUgPSB7IGFzc2VydDogZnVuY3Rpb24oKSB7fSB9O1xuXG4gIC8vIElFOCBzdXBwb3J0XG4gIHZhciBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCB0aGlzTGVuID0gdGhpcy5sZW5ndGg7IGkgPCB0aGlzTGVuOyBpKyspIHtcbiAgICAgIGlmICh0aGlzW2ldID09PSBpdGVtKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG4gIFxuICB2YXIgZGVmaW5lUHJvcGVydHk7XG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghIU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7fSkpXG4gICAgICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbihvYmosIHByb3AsIG9wdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG9ialtwcm9wXSA9IG9wdC52YWx1ZSB8fCBvcHQuZ2V0LmNhbGwob2JqKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKSB7fVxuICAgICAgfVxuICAgIH1cbiAgfSkoKTtcblxuICBmdW5jdGlvbiBhZGRUb0Vycm9yKGVyciwgbXNnKSB7XG4gICAgdmFyIG5ld0VyciA9IG5ldyBFcnJvcigoZXJyLm1lc3NhZ2UgfHwgZXJyKSArICdcXG5cXHQnICsgbXNnLCBlcnIuZmlsZU5hbWUsIGVyci5saW5lTnVtYmVyKTtcbiAgICBcbiAgICAvLyBOb2RlIG5lZWRzIHN0YWNrIGFkanVzdG1lbnQgZm9yIHRocm93IHRvIHNob3cgbWVzc2FnZVxuICAgIGlmICghaXNCcm93c2VyKVxuICAgICAgbmV3RXJyLnN0YWNrID0gKGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSB8fCBlcnIpICsgJ1xcblxcdCcgKyBtc2c7XG4gICAgXG4gICAgLy8gdHJhY2sgdGhlIG9yaWdpbmFsIGVycm9yXG4gICAgbmV3RXJyLm9yaWdpbmFsRXJyID0gZXJyLm9yaWdpbmFsRXJyIHx8IGVycjtcblxuICAgIHJldHVybiBuZXdFcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfX2V2YWwoc291cmNlLCBkZWJ1Z05hbWUsIGNvbnRleHQpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IEZ1bmN0aW9uKHNvdXJjZSkuY2FsbChjb250ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgdGhyb3cgYWRkVG9FcnJvcihlLCAnRXZhbHVhdGluZyAnICsgZGVidWdOYW1lKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZVVSSTtcbiAgLy8gZW52aXJvbmVudCBiYXNlVVJJIGRldGVjdGlvblxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XG4gICAgYmFzZVVSSSA9IGRvY3VtZW50LmJhc2VVUkk7XG5cbiAgICBpZiAoIWJhc2VVUkkpIHtcbiAgICAgIHZhciBiYXNlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdiYXNlJyk7XG4gICAgICBiYXNlVVJJID0gYmFzZXNbMF0gJiYgYmFzZXNbMF0uaHJlZiB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICB9XG5cbiAgICAvLyBzYW5pdGl6ZSBvdXQgdGhlIGhhc2ggYW5kIHF1ZXJ5c3RyaW5nXG4gICAgYmFzZVVSSSA9IGJhc2VVUkkuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdO1xuICAgIGJhc2VVUkkgPSBiYXNlVVJJLnN1YnN0cigwLCBiYXNlVVJJLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmN3ZCkge1xuICAgIGJhc2VVUkkgPSAnZmlsZTovLycgKyAoaXNXaW5kb3dzID8gJy8nIDogJycpICsgcHJvY2Vzcy5jd2QoKSArICcvJztcbiAgICBpZiAoaXNXaW5kb3dzKVxuICAgICAgYmFzZVVSSSA9IGJhc2VVUkkucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPSAndW5kZWZpbmVkJykge1xuICAgIGJhc2VVUkkgPSBfX2dsb2JhbC5sb2NhdGlvbi5ocmVmO1xuICB9XG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIGVudmlyb25tZW50IGJhc2VVUkknKTtcbiAgfVxuXG4gIHZhciBVUkwgPSBfX2dsb2JhbC5VUkxQb2x5ZmlsbCB8fCBfX2dsb2JhbC5VUkw7XG4vKlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgRHluYW1pYyBNb2R1bGUgTG9hZGVyIFBvbHlmaWxsXG5cbiAgICAtIEltcGxlbWVudGVkIGV4YWN0bHkgdG8gdGhlIGZvcm1lciAyMDE0LTA4LTI0IEVTNiBTcGVjaWZpY2F0aW9uIERyYWZ0IFJldiAyNywgU2VjdGlvbiAxNVxuICAgICAgaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTpzcGVjaWZpY2F0aW9uX2RyYWZ0cyNhdWd1c3RfMjRfMjAxNF9kcmFmdF9yZXZfMjdcblxuICAgIC0gRnVuY3Rpb25zIGFyZSBjb21tZW50ZWQgd2l0aCB0aGVpciBzcGVjIG51bWJlcnMsIHdpdGggc3BlYyBkaWZmZXJlbmNlcyBjb21tZW50ZWQuXG5cbiAgICAtIFNwZWMgYnVncyBhcmUgY29tbWVudGVkIGluIHRoaXMgY29kZSB3aXRoIGxpbmtzLlxuXG4gICAgLSBBYnN0cmFjdCBmdW5jdGlvbnMgaGF2ZSBiZWVuIGNvbWJpbmVkIHdoZXJlIHBvc3NpYmxlLCBhbmQgdGhlaXIgYXNzb2NpYXRlZCBmdW5jdGlvbnNcbiAgICAgIGNvbW1lbnRlZC5cblxuICAgIC0gUmVhbG0gaW1wbGVtZW50YXRpb24gaXMgZW50aXJlbHkgb21pdHRlZC5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4qL1xuXG5mdW5jdGlvbiBNb2R1bGUoKSB7fVxuLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLUBAdG9zdHJpbmd0YWdcbmRlZmluZVByb3BlcnR5KE1vZHVsZS5wcm90b3R5cGUsICd0b1N0cmluZycsIHtcbiAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnTW9kdWxlJztcbiAgfVxufSk7XG5mdW5jdGlvbiBMb2FkZXIob3B0aW9ucykge1xuICB0aGlzLl9sb2FkZXIgPSB7XG4gICAgbG9hZGVyT2JqOiB0aGlzLFxuICAgIGxvYWRzOiBbXSxcbiAgICBtb2R1bGVzOiB7fSxcbiAgICBpbXBvcnRQcm9taXNlczoge30sXG4gICAgbW9kdWxlUmVjb3Jkczoge31cbiAgfTtcblxuICAvLyAyNi4zLjMuNlxuICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnZ2xvYmFsJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX19nbG9iYWw7XG4gICAgfVxuICB9KTtcblxuICAvLyAyNi4zLjMuMTMgcmVhbG0gbm90IGltcGxlbWVudGVkXG59XG5cbihmdW5jdGlvbigpIHtcblxuLy8gU29tZSBIZWxwZXJzXG5cbi8vIGxvZ3MgYSBsaW5rc2V0IHNuYXBzaG90IGZvciBkZWJ1Z2dpbmdcbi8qIGZ1bmN0aW9uIHNuYXBzaG90KGxvYWRlcikge1xuICBjb25zb2xlLmxvZygnLS0tU25hcHNob3QtLS0nKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkZXIubG9hZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbG9hZCA9IGxvYWRlci5sb2Fkc1tpXTtcbiAgICB2YXIgbGlua1NldExvZyA9ICcgICcgKyBsb2FkLm5hbWUgKyAnICgnICsgbG9hZC5zdGF0dXMgKyAnKTogJztcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbG9hZC5saW5rU2V0cy5sZW5ndGg7IGorKykge1xuICAgICAgbGlua1NldExvZyArPSAneycgKyBsb2dsb2Fkcyhsb2FkLmxpbmtTZXRzW2pdLmxvYWRzKSArICd9ICc7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGxpbmtTZXRMb2cpO1xuICB9XG4gIGNvbnNvbGUubG9nKCcnKTtcbn1cbmZ1bmN0aW9uIGxvZ2xvYWRzKGxvYWRzKSB7XG4gIHZhciBsb2cgPSAnJztcbiAgZm9yICh2YXIgayA9IDA7IGsgPCBsb2Fkcy5sZW5ndGg7IGsrKylcbiAgICBsb2cgKz0gbG9hZHNba10ubmFtZSArIChrICE9IGxvYWRzLmxlbmd0aCAtIDEgPyAnICcgOiAnJyk7XG4gIHJldHVybiBsb2c7XG59ICovXG5cblxuLyogZnVuY3Rpb24gY2hlY2tJbnZhcmlhbnRzKCkge1xuICAvLyBzZWUgaHR0cHM6Ly9idWdzLmVjbWFzY3JpcHQub3JnL3Nob3dfYnVnLmNnaT9pZD0yNjAzI2MxXG5cbiAgdmFyIGxvYWRzID0gU3lzdGVtLl9sb2FkZXIubG9hZHM7XG4gIHZhciBsaW5rU2V0cyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbG9hZCA9IGxvYWRzW2ldO1xuICAgIGNvbnNvbGUuYXNzZXJ0KGxvYWQuc3RhdHVzID09ICdsb2FkaW5nJyB8fCBsb2FkLnN0YXR1cyA9PSAnbG9hZGVkJywgJ0VhY2ggbG9hZCBpcyBsb2FkaW5nIG9yIGxvYWRlZCcpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsb2FkLmxpbmtTZXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgbGlua1NldCA9IGxvYWQubGlua1NldHNbal07XG5cbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGlua1NldC5sb2Fkcy5sZW5ndGg7IGsrKylcbiAgICAgICAgY29uc29sZS5hc3NlcnQobG9hZHMuaW5kZXhPZihsaW5rU2V0LmxvYWRzW2tdKSAhPSAtMSwgJ2xpbmtTZXQgbG9hZHMgYXJlIGEgc3Vic2V0IG9mIGxvYWRlciBsb2FkcycpO1xuXG4gICAgICBpZiAobGlua1NldHMuaW5kZXhPZihsaW5rU2V0KSA9PSAtMSlcbiAgICAgICAgbGlua1NldHMucHVzaChsaW5rU2V0KTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxvYWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxvYWQgPSBsb2Fkc1tpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmtTZXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgbGlua1NldCA9IGxpbmtTZXRzW2pdO1xuXG4gICAgICBpZiAobGlua1NldC5sb2Fkcy5pbmRleE9mKGxvYWQpICE9IC0xKVxuICAgICAgICBjb25zb2xlLmFzc2VydChsb2FkLmxpbmtTZXRzLmluZGV4T2YobGlua1NldCkgIT0gLTEsICdsaW5rU2V0IGNvbnRhaW5zIGxvYWQgLT4gbG9hZCBjb250YWlucyBsaW5rU2V0Jyk7XG5cbiAgICAgIGlmIChsb2FkLmxpbmtTZXRzLmluZGV4T2YobGlua1NldCkgIT0gLTEpXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGxpbmtTZXQubG9hZHMuaW5kZXhPZihsb2FkKSAhPSAtMSwgJ2xvYWQgY29udGFpbnMgbGlua1NldCAtPiBsaW5rU2V0IGNvbnRhaW5zIGxvYWQnKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtTZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxpbmtTZXQgPSBsaW5rU2V0c1tpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmtTZXQubG9hZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBsb2FkID0gbGlua1NldC5sb2Fkc1tqXTtcblxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsb2FkLmRlcGVuZGVuY2llcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgZGVwTmFtZSA9IGxvYWQuZGVwZW5kZW5jaWVzW2tdLnZhbHVlO1xuICAgICAgICB2YXIgZGVwTG9hZDtcbiAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBsb2Fkcy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgIGlmIChsb2Fkc1tsXS5uYW1lICE9IGRlcE5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBkZXBMb2FkID0gbG9hZHNbbF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsb2FkaW5nIHJlY29yZHMgYXJlIGFsbG93ZWQgbm90IHRvIGhhdmUgdGhlaXIgZGVwZW5kZW5jaWVzIHlldFxuICAgICAgICAvLyBpZiAobG9hZC5zdGF0dXMgIT0gJ2xvYWRpbmcnKVxuICAgICAgICAvLyAgY29uc29sZS5hc3NlcnQoZGVwTG9hZCwgJ2RlcExvYWQgZm91bmQnKTtcblxuICAgICAgICAvLyBjb25zb2xlLmFzc2VydChsaW5rU2V0LmxvYWRzLmluZGV4T2YoZGVwTG9hZCkgIT0gLTEsICdsaW5rc2V0IGNvbnRhaW5zIGFsbCBkZXBlbmRlbmNpZXMnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0gKi9cblxuICAvLyAxNS4yLjMgLSBSdW50aW1lIFNlbWFudGljczogTG9hZGVyIFN0YXRlXG5cbiAgLy8gMTUuMi4zLjExXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvYWRlckxvYWQob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIG1vZHVsZXMgaXMgYW4gb2JqZWN0IGZvciBFUzUgaW1wbGVtZW50YXRpb25cbiAgICAgIG1vZHVsZXM6IHt9LFxuICAgICAgbG9hZHM6IFtdLFxuICAgICAgbG9hZGVyT2JqOiBvYmplY3RcbiAgICB9O1xuICB9XG5cbiAgLy8gMTUuMi4zLjIgTG9hZCBSZWNvcmRzIGFuZCBMb2FkUmVxdWVzdCBPYmplY3RzXG5cbiAgLy8gMTUuMi4zLjIuMVxuICBmdW5jdGlvbiBjcmVhdGVMb2FkKG5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnbG9hZGluZycsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgbGlua1NldHM6IFtdLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgIG1ldGFkYXRhOiB7fVxuICAgIH07XG4gIH1cblxuICAvLyAxNS4yLjMuMi4yIGNyZWF0ZUxvYWRSZXF1ZXN0T2JqZWN0LCBhYnNvcmJlZCBpbnRvIGNhbGxpbmcgZnVuY3Rpb25zXG5cbiAgLy8gMTUuMi40XG5cbiAgLy8gMTUuMi40LjFcbiAgZnVuY3Rpb24gbG9hZE1vZHVsZShsb2FkZXIsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmNTdGFydExvYWRQYXJ0d2F5VGhyb3VnaCh7XG4gICAgICBzdGVwOiBvcHRpb25zLmFkZHJlc3MgPyAnZmV0Y2gnIDogJ2xvY2F0ZScsXG4gICAgICBsb2FkZXI6IGxvYWRlcixcbiAgICAgIG1vZHVsZU5hbWU6IG5hbWUsXG4gICAgICAvLyBhbGxvdyBtZXRhZGF0YSBmb3IgaW1wb3J0IGh0dHBzOi8vYnVncy5lY21hc2NyaXB0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MzA5MVxuICAgICAgbW9kdWxlTWV0YWRhdGE6IG9wdGlvbnMgJiYgb3B0aW9ucy5tZXRhZGF0YSB8fCB7fSxcbiAgICAgIG1vZHVsZVNvdXJjZTogb3B0aW9ucy5zb3VyY2UsXG4gICAgICBtb2R1bGVBZGRyZXNzOiBvcHRpb25zLmFkZHJlc3NcbiAgICB9KSk7XG4gIH1cblxuICAvLyAxNS4yLjQuMlxuICBmdW5jdGlvbiByZXF1ZXN0TG9hZChsb2FkZXIsIHJlcXVlc3QsIHJlZmVyZXJOYW1lLCByZWZlcmVyQWRkcmVzcykge1xuICAgIC8vIDE1LjIuNC4yLjEgQ2FsbE5vcm1hbGl6ZVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlc29sdmUobG9hZGVyLmxvYWRlck9iai5ub3JtYWxpemUocmVxdWVzdCwgcmVmZXJlck5hbWUsIHJlZmVyZXJBZGRyZXNzKSk7XG4gICAgfSlcbiAgICAvLyAxNS4yLjQuMi4yIEdldE9yQ3JlYXRlTG9hZFxuICAgIC50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBsb2FkO1xuICAgICAgaWYgKGxvYWRlci5tb2R1bGVzW25hbWVdKSB7XG4gICAgICAgIGxvYWQgPSBjcmVhdGVMb2FkKG5hbWUpO1xuICAgICAgICBsb2FkLnN0YXR1cyA9ICdsaW5rZWQnO1xuICAgICAgICAvLyBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI3OTVcbiAgICAgICAgbG9hZC5tb2R1bGUgPSBsb2FkZXIubW9kdWxlc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIGxvYWQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbG9hZGVyLmxvYWRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsb2FkID0gbG9hZGVyLmxvYWRzW2ldO1xuICAgICAgICBpZiAobG9hZC5uYW1lICE9IG5hbWUpXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGxvYWQuc3RhdHVzID09ICdsb2FkaW5nJyB8fCBsb2FkLnN0YXR1cyA9PSAnbG9hZGVkJywgJ2xvYWRpbmcgb3IgbG9hZGVkJyk7XG4gICAgICAgIHJldHVybiBsb2FkO1xuICAgICAgfVxuXG4gICAgICBsb2FkID0gY3JlYXRlTG9hZChuYW1lKTtcbiAgICAgIGxvYWRlci5sb2Fkcy5wdXNoKGxvYWQpO1xuXG4gICAgICBwcm9jZWVkVG9Mb2NhdGUobG9hZGVyLCBsb2FkKTtcblxuICAgICAgcmV0dXJuIGxvYWQ7XG4gICAgfSk7XG4gIH1cblxuICAvLyAxNS4yLjQuM1xuICBmdW5jdGlvbiBwcm9jZWVkVG9Mb2NhdGUobG9hZGVyLCBsb2FkKSB7XG4gICAgcHJvY2VlZFRvRmV0Y2gobG9hZGVyLCBsb2FkLFxuICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC8vIDE1LjIuNC4zLjEgQ2FsbExvY2F0ZVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBsb2FkZXIubG9hZGVyT2JqLmxvY2F0ZSh7IG5hbWU6IGxvYWQubmFtZSwgbWV0YWRhdGE6IGxvYWQubWV0YWRhdGEgfSk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvLyAxNS4yLjQuNFxuICBmdW5jdGlvbiBwcm9jZWVkVG9GZXRjaChsb2FkZXIsIGxvYWQsIHApIHtcbiAgICBwcm9jZWVkVG9UcmFuc2xhdGUobG9hZGVyLCBsb2FkLFxuICAgICAgcFxuICAgICAgLy8gMTUuMi40LjQuMSBDYWxsRmV0Y2hcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGFkZHJlc3MpIHtcbiAgICAgICAgLy8gYWRqdXN0ZWQsIHNlZSBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI2MDJcbiAgICAgICAgaWYgKGxvYWQuc3RhdHVzICE9ICdsb2FkaW5nJylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxvYWQuYWRkcmVzcyA9IGFkZHJlc3M7XG5cbiAgICAgICAgcmV0dXJuIGxvYWRlci5sb2FkZXJPYmouZmV0Y2goeyBuYW1lOiBsb2FkLm5hbWUsIG1ldGFkYXRhOiBsb2FkLm1ldGFkYXRhLCBhZGRyZXNzOiBhZGRyZXNzIH0pO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgdmFyIGFub25DbnQgPSAwO1xuXG4gIC8vIDE1LjIuNC41XG4gIGZ1bmN0aW9uIHByb2NlZWRUb1RyYW5zbGF0ZShsb2FkZXIsIGxvYWQsIHApIHtcbiAgICBwXG4gICAgLy8gMTUuMi40LjUuMSBDYWxsVHJhbnNsYXRlXG4gICAgLnRoZW4oZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICBpZiAobG9hZC5zdGF0dXMgIT0gJ2xvYWRpbmcnKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobG9hZGVyLmxvYWRlck9iai50cmFuc2xhdGUoeyBuYW1lOiBsb2FkLm5hbWUsIG1ldGFkYXRhOiBsb2FkLm1ldGFkYXRhLCBhZGRyZXNzOiBsb2FkLmFkZHJlc3MsIHNvdXJjZTogc291cmNlIH0pKVxuXG4gICAgICAvLyAxNS4yLjQuNS4yIENhbGxJbnN0YW50aWF0ZVxuICAgICAgLnRoZW4oZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIGxvYWQuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gbG9hZGVyLmxvYWRlck9iai5pbnN0YW50aWF0ZSh7IG5hbWU6IGxvYWQubmFtZSwgbWV0YWRhdGE6IGxvYWQubWV0YWRhdGEsIGFkZHJlc3M6IGxvYWQuYWRkcmVzcywgc291cmNlOiBzb3VyY2UgfSk7XG4gICAgICB9KVxuXG4gICAgICAvLyAxNS4yLjQuNS4zIEluc3RhbnRpYXRlU3VjY2VlZGVkXG4gICAgICAudGhlbihmdW5jdGlvbihpbnN0YW50aWF0ZVJlc3VsdCkge1xuICAgICAgICBpZiAoaW5zdGFudGlhdGVSZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxvYWQuYWRkcmVzcyA9IGxvYWQuYWRkcmVzcyB8fCAnPEFub255bW91cyBNb2R1bGUgJyArICsrYW5vbkNudCArICc+JztcblxuICAgICAgICAgIC8vIGluc3RlYWQgb2YgbG9hZC5raW5kLCB1c2UgbG9hZC5pc0RlY2xhcmF0aXZlXG4gICAgICAgICAgbG9hZC5pc0RlY2xhcmF0aXZlID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gdHJhbnNwaWxlLmNhbGwobG9hZGVyLmxvYWRlck9iaiwgbG9hZClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbih0cmFuc3BpbGVkKSB7XG4gICAgICAgICAgICAvLyBIaWphY2sgU3lzdGVtLnJlZ2lzdGVyIHRvIHNldCBkZWNsYXJlIGZ1bmN0aW9uXG4gICAgICAgICAgICB2YXIgY3VyU3lzdGVtID0gX19nbG9iYWwuU3lzdGVtO1xuICAgICAgICAgICAgdmFyIGN1clJlZ2lzdGVyID0gY3VyU3lzdGVtLnJlZ2lzdGVyO1xuICAgICAgICAgICAgY3VyU3lzdGVtLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgZGVwcywgZGVjbGFyZSkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkZWNsYXJlID0gZGVwcztcbiAgICAgICAgICAgICAgICBkZXBzID0gbmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBzdG9yZSB0aGUgcmVnaXN0ZXJlZCBkZWNsYXJhdGlvbiBhcyBsb2FkLmRlY2xhcmVcbiAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGRlcHMgYXMgbG9hZC5kZXBzXG4gICAgICAgICAgICAgIGxvYWQuZGVjbGFyZSA9IGRlY2xhcmU7XG4gICAgICAgICAgICAgIGxvYWQuZGVwc0xpc3QgPSBkZXBzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1wdHkge30gY29udGV4dCBpcyBjbG9zZXN0IHRvIHVuZGVmaW5lZCAndGhpcycgd2UgY2FuIGdldFxuICAgICAgICAgICAgX19ldmFsKHRyYW5zcGlsZWQsIGxvYWQuYWRkcmVzcywge30pO1xuICAgICAgICAgICAgY3VyU3lzdGVtLnJlZ2lzdGVyID0gY3VyUmVnaXN0ZXI7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGluc3RhbnRpYXRlUmVzdWx0ID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbG9hZC5kZXBzTGlzdCA9IGluc3RhbnRpYXRlUmVzdWx0LmRlcHMgfHwgW107XG4gICAgICAgICAgbG9hZC5leGVjdXRlID0gaW5zdGFudGlhdGVSZXN1bHQuZXhlY3V0ZTtcbiAgICAgICAgICBsb2FkLmlzRGVjbGFyYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIGluc3RhbnRpYXRlIHJldHVybiB2YWx1ZScpO1xuICAgICAgfSlcbiAgICAgIC8vIDE1LjIuNC42IFByb2Nlc3NMb2FkRGVwZW5kZW5jaWVzXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgbG9hZC5kZXBlbmRlbmNpZXMgPSBbXTtcbiAgICAgICAgdmFyIGRlcHNMaXN0ID0gbG9hZC5kZXBzTGlzdDtcblxuICAgICAgICB2YXIgbG9hZFByb21pc2VzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVwc0xpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSAoZnVuY3Rpb24ocmVxdWVzdCwgaW5kZXgpIHtcbiAgICAgICAgICBsb2FkUHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgIHJlcXVlc3RMb2FkKGxvYWRlciwgcmVxdWVzdCwgbG9hZC5uYW1lLCBsb2FkLmFkZHJlc3MpXG5cbiAgICAgICAgICAgIC8vIDE1LjIuNC42LjEgQWRkRGVwZW5kZW5jeUxvYWQgKGxvYWQgaXMgcGFyZW50TG9hZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRlcExvYWQpIHtcblxuICAgICAgICAgICAgICAvLyBhZGp1c3RlZCBmcm9tIHNwZWMgdG8gbWFpbnRhaW4gZGVwZW5kZW5jeSBvcmRlclxuICAgICAgICAgICAgICAvLyB0aGlzIGlzIGR1ZSB0byB0aGUgU3lzdGVtLnJlZ2lzdGVyIGludGVybmFsIGltcGxlbWVudGF0aW9uIG5lZWRzXG4gICAgICAgICAgICAgIGxvYWQuZGVwZW5kZW5jaWVzW2luZGV4XSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHJlcXVlc3QsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlcExvYWQubmFtZVxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGlmIChkZXBMb2FkLnN0YXR1cyAhPSAnbGlua2VkJykge1xuICAgICAgICAgICAgICAgIHZhciBsaW5rU2V0cyA9IGxvYWQubGlua1NldHMuY29uY2F0KFtdKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgICAgICAgICAgIGFkZExvYWRUb0xpbmtTZXQobGlua1NldHNbaV0sIGRlcExvYWQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0FkZERlcGVuZGVuY3lMb2FkICcgKyBkZXBMb2FkLm5hbWUgKyAnIGZvciAnICsgbG9hZC5uYW1lKTtcbiAgICAgICAgICAgICAgLy8gc25hcHNob3QobG9hZGVyKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkoZGVwc0xpc3RbaV0sIGkpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChsb2FkUHJvbWlzZXMpO1xuICAgICAgfSlcblxuICAgICAgLy8gMTUuMi40LjYuMiBMb2FkU3VjY2VlZGVkXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0xvYWRTdWNjZWVkZWQgJyArIGxvYWQubmFtZSk7XG4gICAgICAgIC8vIHNuYXBzaG90KGxvYWRlcik7XG5cbiAgICAgICAgY29uc29sZS5hc3NlcnQobG9hZC5zdGF0dXMgPT0gJ2xvYWRpbmcnLCAnaXMgbG9hZGluZycpO1xuXG4gICAgICAgIGxvYWQuc3RhdHVzID0gJ2xvYWRlZCc7XG5cbiAgICAgICAgdmFyIGxpbmtTZXRzID0gbG9hZC5saW5rU2V0cy5jb25jYXQoW10pO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgICB1cGRhdGVMaW5rU2V0T25Mb2FkKGxpbmtTZXRzW2ldLCBsb2FkKTtcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLy8gMTUuMi40LjUuNCBMb2FkRmFpbGVkXG4gICAgWydjYXRjaCddKGZ1bmN0aW9uKGV4Yykge1xuICAgICAgbG9hZC5zdGF0dXMgPSAnZmFpbGVkJztcbiAgICAgIGxvYWQuZXhjZXB0aW9uID0gZXhjO1xuXG4gICAgICB2YXIgbGlua1NldHMgPSBsb2FkLmxpbmtTZXRzLmNvbmNhdChbXSk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsaW5rU2V0RmFpbGVkKGxpbmtTZXRzW2ldLCBsb2FkLCBleGMpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmFzc2VydChsb2FkLmxpbmtTZXRzLmxlbmd0aCA9PSAwLCAnbGlua1NldHMgbm90IHJlbW92ZWQnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIDE1LjIuNC43IFByb21pc2VPZlN0YXJ0TG9hZFBhcnR3YXlUaHJvdWdoIGFic29yYmVkIGludG8gY2FsbGluZyBmdW5jdGlvbnNcblxuICAvLyAxNS4yLjQuNy4xXG4gIGZ1bmN0aW9uIGFzeW5jU3RhcnRMb2FkUGFydHdheVRocm91Z2goc3RlcFN0YXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGxvYWRlciA9IHN0ZXBTdGF0ZS5sb2FkZXI7XG4gICAgICB2YXIgbmFtZSA9IHN0ZXBTdGF0ZS5tb2R1bGVOYW1lO1xuICAgICAgdmFyIHN0ZXAgPSBzdGVwU3RhdGUuc3RlcDtcblxuICAgICAgaWYgKGxvYWRlci5tb2R1bGVzW25hbWVdKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIicgKyBuYW1lICsgJ1wiIGFscmVhZHkgZXhpc3RzIGluIHRoZSBtb2R1bGUgdGFibGUnKTtcblxuICAgICAgLy8gYWRqdXN0ZWQgdG8gcGljayB1cCBleGlzdGluZyBsb2Fkc1xuICAgICAgdmFyIGV4aXN0aW5nTG9hZDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbG9hZGVyLmxvYWRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAobG9hZGVyLmxvYWRzW2ldLm5hbWUgPT0gbmFtZSkge1xuICAgICAgICAgIGV4aXN0aW5nTG9hZCA9IGxvYWRlci5sb2Fkc1tpXTtcblxuICAgICAgICAgIGlmIChzdGVwID09ICd0cmFuc2xhdGUnICYmICFleGlzdGluZ0xvYWQuc291cmNlKSB7XG4gICAgICAgICAgICBleGlzdGluZ0xvYWQuYWRkcmVzcyA9IHN0ZXBTdGF0ZS5tb2R1bGVBZGRyZXNzO1xuICAgICAgICAgICAgcHJvY2VlZFRvVHJhbnNsYXRlKGxvYWRlciwgZXhpc3RpbmdMb2FkLCBQcm9taXNlLnJlc29sdmUoc3RlcFN0YXRlLm1vZHVsZVNvdXJjZSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGEgcHJpbWFyeSBsb2FkIC0+IHVzZSB0aGF0IGV4aXN0aW5nIGxpbmtzZXQgaWYgaXQgaXMgZm9yIHRoZSBkaXJlY3QgbG9hZCBoZXJlXG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBsaW5rc2V0IHVuaXRcbiAgICAgICAgICBpZiAoZXhpc3RpbmdMb2FkLmxpbmtTZXRzLmxlbmd0aCAmJiBleGlzdGluZ0xvYWQubGlua1NldHNbMF0ubG9hZHNbMF0ubmFtZSA9PSBleGlzdGluZ0xvYWQubmFtZSlcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0xvYWQubGlua1NldHNbMF0uZG9uZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXNvbHZlKGV4aXN0aW5nTG9hZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbG9hZCA9IGV4aXN0aW5nTG9hZCB8fCBjcmVhdGVMb2FkKG5hbWUpO1xuXG4gICAgICBsb2FkLm1ldGFkYXRhID0gc3RlcFN0YXRlLm1vZHVsZU1ldGFkYXRhO1xuXG4gICAgICB2YXIgbGlua1NldCA9IGNyZWF0ZUxpbmtTZXQobG9hZGVyLCBsb2FkKTtcblxuICAgICAgbG9hZGVyLmxvYWRzLnB1c2gobG9hZCk7XG5cbiAgICAgIHJlc29sdmUobGlua1NldC5kb25lKTtcblxuICAgICAgaWYgKHN0ZXAgPT0gJ2xvY2F0ZScpXG4gICAgICAgIHByb2NlZWRUb0xvY2F0ZShsb2FkZXIsIGxvYWQpO1xuXG4gICAgICBlbHNlIGlmIChzdGVwID09ICdmZXRjaCcpXG4gICAgICAgIHByb2NlZWRUb0ZldGNoKGxvYWRlciwgbG9hZCwgUHJvbWlzZS5yZXNvbHZlKHN0ZXBTdGF0ZS5tb2R1bGVBZGRyZXNzKSk7XG5cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmFzc2VydChzdGVwID09ICd0cmFuc2xhdGUnLCAndHJhbnNsYXRlIHN0ZXAnKTtcbiAgICAgICAgbG9hZC5hZGRyZXNzID0gc3RlcFN0YXRlLm1vZHVsZUFkZHJlc3M7XG4gICAgICAgIHByb2NlZWRUb1RyYW5zbGF0ZShsb2FkZXIsIGxvYWQsIFByb21pc2UucmVzb2x2ZShzdGVwU3RhdGUubW9kdWxlU291cmNlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRGVjbGFyYXRpdmUgbGlua2luZyBmdW5jdGlvbnMgcnVuIHRocm91Z2ggYWx0ZXJuYXRpdmUgaW1wbGVtZW50YXRpb246XG4gIC8vIDE1LjIuNS4xLjEgQ3JlYXRlTW9kdWxlTGlua2FnZVJlY29yZCBub3QgaW1wbGVtZW50ZWRcbiAgLy8gMTUuMi41LjEuMiBMb29rdXBFeHBvcnQgbm90IGltcGxlbWVudGVkXG4gIC8vIDE1LjIuNS4xLjMgTG9va3VwTW9kdWxlRGVwZW5kZW5jeSBub3QgaW1wbGVtZW50ZWRcblxuICAvLyAxNS4yLjUuMi4xXG4gIGZ1bmN0aW9uIGNyZWF0ZUxpbmtTZXQobG9hZGVyLCBzdGFydGluZ0xvYWQpIHtcbiAgICB2YXIgbGlua1NldCA9IHtcbiAgICAgIGxvYWRlcjogbG9hZGVyLFxuICAgICAgbG9hZHM6IFtdLFxuICAgICAgc3RhcnRpbmdMb2FkOiBzdGFydGluZ0xvYWQsIC8vIGFkZGVkIHNlZSBzcGVjIGJ1ZyBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5OTVcbiAgICAgIGxvYWRpbmdDb3VudDogMFxuICAgIH07XG4gICAgbGlua1NldC5kb25lID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsaW5rU2V0LnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgbGlua1NldC5yZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgYWRkTG9hZFRvTGlua1NldChsaW5rU2V0LCBzdGFydGluZ0xvYWQpO1xuICAgIHJldHVybiBsaW5rU2V0O1xuICB9XG4gIC8vIDE1LjIuNS4yLjJcbiAgZnVuY3Rpb24gYWRkTG9hZFRvTGlua1NldChsaW5rU2V0LCBsb2FkKSB7XG4gICAgaWYgKGxvYWQuc3RhdHVzID09ICdmYWlsZWQnKVxuICAgICAgcmV0dXJuO1xuXG4gICAgY29uc29sZS5hc3NlcnQobG9hZC5zdGF0dXMgPT0gJ2xvYWRpbmcnIHx8IGxvYWQuc3RhdHVzID09ICdsb2FkZWQnLCAnbG9hZGluZyBvciBsb2FkZWQgb24gbGluayBzZXQnKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlua1NldC5sb2Fkcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICBpZiAobGlua1NldC5sb2Fkc1tpXSA9PSBsb2FkKVxuICAgICAgICByZXR1cm47XG5cbiAgICBsaW5rU2V0LmxvYWRzLnB1c2gobG9hZCk7XG4gICAgbG9hZC5saW5rU2V0cy5wdXNoKGxpbmtTZXQpO1xuXG4gICAgLy8gYWRqdXN0bWVudCwgc2VlIGh0dHBzOi8vYnVncy5lY21hc2NyaXB0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjYwM1xuICAgIGlmIChsb2FkLnN0YXR1cyAhPSAnbG9hZGVkJykge1xuICAgICAgbGlua1NldC5sb2FkaW5nQ291bnQrKztcbiAgICB9XG5cbiAgICB2YXIgbG9hZGVyID0gbGlua1NldC5sb2FkZXI7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxvYWQuZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKCFsb2FkLmRlcGVuZGVuY2llc1tpXSlcbiAgICAgICAgY29udGludWU7XG5cbiAgICAgIHZhciBuYW1lID0gbG9hZC5kZXBlbmRlbmNpZXNbaV0udmFsdWU7XG5cbiAgICAgIGlmIChsb2FkZXIubW9kdWxlc1tuYW1lXSlcbiAgICAgICAgY29udGludWU7XG5cbiAgICAgIGZvciAodmFyIGogPSAwLCBkID0gbG9hZGVyLmxvYWRzLmxlbmd0aDsgaiA8IGQ7IGorKykge1xuICAgICAgICBpZiAobG9hZGVyLmxvYWRzW2pdLm5hbWUgIT0gbmFtZSlcbiAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBhZGRMb2FkVG9MaW5rU2V0KGxpbmtTZXQsIGxvYWRlci5sb2Fkc1tqXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygnYWRkIHRvIGxpbmtzZXQgJyArIGxvYWQubmFtZSk7XG4gICAgLy8gc25hcHNob3QobGlua1NldC5sb2FkZXIpO1xuICB9XG5cbiAgLy8gbGlua2luZyBlcnJvcnMgY2FuIGJlIGdlbmVyaWMgb3IgbG9hZC1zcGVjaWZpY1xuICAvLyB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgZGVidWdnaW5nIGluZm9cbiAgZnVuY3Rpb24gZG9MaW5rKGxpbmtTZXQpIHtcbiAgICB2YXIgZXJyb3IgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgbGluayhsaW5rU2V0LCBmdW5jdGlvbihsb2FkLCBleGMpIHtcbiAgICAgICAgbGlua1NldEZhaWxlZChsaW5rU2V0LCBsb2FkLCBleGMpO1xuICAgICAgICBlcnJvciA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgbGlua1NldEZhaWxlZChsaW5rU2V0LCBudWxsLCBlKTtcbiAgICAgIGVycm9yID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgLy8gMTUuMi41LjIuM1xuICBmdW5jdGlvbiB1cGRhdGVMaW5rU2V0T25Mb2FkKGxpbmtTZXQsIGxvYWQpIHtcbiAgICAvLyBjb25zb2xlLmxvZygndXBkYXRlIGxpbmtzZXQgb24gbG9hZCAnICsgbG9hZC5uYW1lKTtcbiAgICAvLyBzbmFwc2hvdChsaW5rU2V0LmxvYWRlcik7XG5cbiAgICBjb25zb2xlLmFzc2VydChsb2FkLnN0YXR1cyA9PSAnbG9hZGVkJyB8fCBsb2FkLnN0YXR1cyA9PSAnbGlua2VkJywgJ2xvYWRlZCBvciBsaW5rZWQnKTtcblxuICAgIGxpbmtTZXQubG9hZGluZ0NvdW50LS07XG5cbiAgICBpZiAobGlua1NldC5sb2FkaW5nQ291bnQgPiAwKVxuICAgICAgcmV0dXJuO1xuXG4gICAgLy8gYWRqdXN0ZWQgZm9yIHNwZWMgYnVnIGh0dHBzOi8vYnVncy5lY21hc2NyaXB0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Mjk5NVxuICAgIHZhciBzdGFydGluZ0xvYWQgPSBsaW5rU2V0LnN0YXJ0aW5nTG9hZDtcblxuICAgIC8vIG5vbi1leGVjdXRpbmcgbGluayB2YXJpYXRpb24gZm9yIGxvYWRlciB0cmFjaW5nXG4gICAgLy8gb24gdGhlIHNlcnZlci4gTm90IGluIHNwZWMuXG4gICAgLyoqKi9cbiAgICBpZiAobGlua1NldC5sb2FkZXIubG9hZGVyT2JqLmV4ZWN1dGUgPT09IGZhbHNlKSB7XG4gICAgICB2YXIgbG9hZHMgPSBbXS5jb25jYXQobGlua1NldC5sb2Fkcyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxvYWRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgbG9hZCA9IGxvYWRzW2ldO1xuICAgICAgICBsb2FkLm1vZHVsZSA9ICFsb2FkLmlzRGVjbGFyYXRpdmUgPyB7XG4gICAgICAgICAgbW9kdWxlOiBfbmV3TW9kdWxlKHt9KVxuICAgICAgICB9IDoge1xuICAgICAgICAgIG5hbWU6IGxvYWQubmFtZSxcbiAgICAgICAgICBtb2R1bGU6IF9uZXdNb2R1bGUoe30pLFxuICAgICAgICAgIGV2YWx1YXRlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBsb2FkLnN0YXR1cyA9ICdsaW5rZWQnO1xuICAgICAgICBmaW5pc2hMb2FkKGxpbmtTZXQubG9hZGVyLCBsb2FkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaW5rU2V0LnJlc29sdmUoc3RhcnRpbmdMb2FkKTtcbiAgICB9XG4gICAgLyoqKi9cblxuICAgIHZhciBhYnJ1cHQgPSBkb0xpbmsobGlua1NldCk7XG5cbiAgICBpZiAoYWJydXB0KVxuICAgICAgcmV0dXJuO1xuXG4gICAgY29uc29sZS5hc3NlcnQobGlua1NldC5sb2Fkcy5sZW5ndGggPT0gMCwgJ2xvYWRzIGNsZWFyZWQnKTtcblxuICAgIGxpbmtTZXQucmVzb2x2ZShzdGFydGluZ0xvYWQpO1xuICB9XG5cbiAgLy8gMTUuMi41LjIuNFxuICBmdW5jdGlvbiBsaW5rU2V0RmFpbGVkKGxpbmtTZXQsIGxvYWQsIGV4Yykge1xuICAgIHZhciBsb2FkZXIgPSBsaW5rU2V0LmxvYWRlcjtcbiAgICB2YXIgcmVxdWVzdHM7XG5cbiAgICBjaGVja0Vycm9yOiBcbiAgICBpZiAobG9hZCkge1xuICAgICAgaWYgKGxpbmtTZXQubG9hZHNbMF0ubmFtZSA9PSBsb2FkLm5hbWUpIHtcbiAgICAgICAgZXhjID0gYWRkVG9FcnJvcihleGMsICdFcnJvciBsb2FkaW5nICcgKyBsb2FkLm5hbWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlua1NldC5sb2Fkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBwTG9hZCA9IGxpbmtTZXQubG9hZHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwTG9hZC5kZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBkZXAgPSBwTG9hZC5kZXBlbmRlbmNpZXNbal07XG4gICAgICAgICAgICBpZiAoZGVwLnZhbHVlID09IGxvYWQubmFtZSkge1xuICAgICAgICAgICAgICBleGMgPSBhZGRUb0Vycm9yKGV4YywgJ0Vycm9yIGxvYWRpbmcgJyArIGxvYWQubmFtZSArICcgYXMgXCInICsgZGVwLmtleSArICdcIiBmcm9tICcgKyBwTG9hZC5uYW1lKTtcbiAgICAgICAgICAgICAgYnJlYWsgY2hlY2tFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhjID0gYWRkVG9FcnJvcihleGMsICdFcnJvciBsb2FkaW5nICcgKyBsb2FkLm5hbWUgKyAnIGZyb20gJyArIGxpbmtTZXQubG9hZHNbMF0ubmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZXhjID0gYWRkVG9FcnJvcihleGMsICdFcnJvciBsaW5raW5nICcgKyBsaW5rU2V0LmxvYWRzWzBdLm5hbWUpO1xuICAgIH1cblxuXG4gICAgdmFyIGxvYWRzID0gbGlua1NldC5sb2Fkcy5jb25jYXQoW10pO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbG9hZHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbG9hZCA9IGxvYWRzW2ldO1xuXG4gICAgICAvLyBzdG9yZSBhbGwgZmFpbGVkIGxvYWQgcmVjb3Jkc1xuICAgICAgbG9hZGVyLmxvYWRlck9iai5mYWlsZWQgPSBsb2FkZXIubG9hZGVyT2JqLmZhaWxlZCB8fCBbXTtcbiAgICAgIGlmIChpbmRleE9mLmNhbGwobG9hZGVyLmxvYWRlck9iai5mYWlsZWQsIGxvYWQpID09IC0xKVxuICAgICAgICBsb2FkZXIubG9hZGVyT2JqLmZhaWxlZC5wdXNoKGxvYWQpO1xuXG4gICAgICB2YXIgbGlua0luZGV4ID0gaW5kZXhPZi5jYWxsKGxvYWQubGlua1NldHMsIGxpbmtTZXQpO1xuICAgICAgY29uc29sZS5hc3NlcnQobGlua0luZGV4ICE9IC0xLCAnbGluayBub3QgcHJlc2VudCcpO1xuICAgICAgbG9hZC5saW5rU2V0cy5zcGxpY2UobGlua0luZGV4LCAxKTtcbiAgICAgIGlmIChsb2FkLmxpbmtTZXRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHZhciBnbG9iYWxMb2Fkc0luZGV4ID0gaW5kZXhPZi5jYWxsKGxpbmtTZXQubG9hZGVyLmxvYWRzLCBsb2FkKTtcbiAgICAgICAgaWYgKGdsb2JhbExvYWRzSW5kZXggIT0gLTEpXG4gICAgICAgICAgbGlua1NldC5sb2FkZXIubG9hZHMuc3BsaWNlKGdsb2JhbExvYWRzSW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsaW5rU2V0LnJlamVjdChleGMpO1xuICB9XG5cbiAgLy8gMTUuMi41LjIuNVxuICBmdW5jdGlvbiBmaW5pc2hMb2FkKGxvYWRlciwgbG9hZCkge1xuICAgIC8vIGFkZCB0byBnbG9iYWwgdHJhY2UgaWYgdHJhY2luZ1xuICAgIGlmIChsb2FkZXIubG9hZGVyT2JqLnRyYWNlKSB7XG4gICAgICBpZiAoIWxvYWRlci5sb2FkZXJPYmoubG9hZHMpXG4gICAgICAgIGxvYWRlci5sb2FkZXJPYmoubG9hZHMgPSB7fTtcbiAgICAgIHZhciBkZXBNYXAgPSB7fTtcbiAgICAgIGxvYWQuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24oZGVwKSB7XG4gICAgICAgIGRlcE1hcFtkZXAua2V5XSA9IGRlcC52YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgbG9hZGVyLmxvYWRlck9iai5sb2Fkc1tsb2FkLm5hbWVdID0ge1xuICAgICAgICBuYW1lOiBsb2FkLm5hbWUsXG4gICAgICAgIGRlcHM6IGxvYWQuZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbihkZXApeyByZXR1cm4gZGVwLmtleSB9KSxcbiAgICAgICAgZGVwTWFwOiBkZXBNYXAsXG4gICAgICAgIGFkZHJlc3M6IGxvYWQuYWRkcmVzcyxcbiAgICAgICAgbWV0YWRhdGE6IGxvYWQubWV0YWRhdGEsXG4gICAgICAgIHNvdXJjZTogbG9hZC5zb3VyY2UsXG4gICAgICAgIGtpbmQ6IGxvYWQuaXNEZWNsYXJhdGl2ZSA/ICdkZWNsYXJhdGl2ZScgOiAnZHluYW1pYydcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIGlmIG5vdCBhbm9ueW1vdXMsIGFkZCB0byB0aGUgbW9kdWxlIHRhYmxlXG4gICAgaWYgKGxvYWQubmFtZSkge1xuICAgICAgY29uc29sZS5hc3NlcnQoIWxvYWRlci5tb2R1bGVzW2xvYWQubmFtZV0sICdsb2FkIG5vdCBpbiBtb2R1bGUgdGFibGUnKTtcbiAgICAgIGxvYWRlci5tb2R1bGVzW2xvYWQubmFtZV0gPSBsb2FkLm1vZHVsZTtcbiAgICB9XG4gICAgdmFyIGxvYWRJbmRleCA9IGluZGV4T2YuY2FsbChsb2FkZXIubG9hZHMsIGxvYWQpO1xuICAgIGlmIChsb2FkSW5kZXggIT0gLTEpXG4gICAgICBsb2FkZXIubG9hZHMuc3BsaWNlKGxvYWRJbmRleCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBsb2FkLmxpbmtTZXRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgbG9hZEluZGV4ID0gaW5kZXhPZi5jYWxsKGxvYWQubGlua1NldHNbaV0ubG9hZHMsIGxvYWQpO1xuICAgICAgaWYgKGxvYWRJbmRleCAhPSAtMSlcbiAgICAgICAgbG9hZC5saW5rU2V0c1tpXS5sb2Fkcy5zcGxpY2UobG9hZEluZGV4LCAxKTtcbiAgICB9XG4gICAgbG9hZC5saW5rU2V0cy5zcGxpY2UoMCwgbG9hZC5saW5rU2V0cy5sZW5ndGgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9EeW5hbWljRXhlY3V0ZShsaW5rU2V0LCBsb2FkLCBsaW5rRXJyb3IpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG1vZHVsZSA9IGxvYWQuZXhlY3V0ZSgpO1xuICAgIH1cbiAgICBjYXRjaChlKSB7XG4gICAgICBsaW5rRXJyb3IobG9hZCwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbW9kdWxlIHx8ICEobW9kdWxlIGluc3RhbmNlb2YgTW9kdWxlKSlcbiAgICAgIGxpbmtFcnJvcihsb2FkLCBuZXcgVHlwZUVycm9yKCdFeGVjdXRpb24gbXVzdCBkZWZpbmUgYSBNb2R1bGUgaW5zdGFuY2UnKSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG1vZHVsZTtcbiAgfVxuXG4gIC8vIDI2LjMgTG9hZGVyXG5cbiAgLy8gMjYuMy4xLjFcbiAgLy8gZGVmaW5lZCBhdCB0b3BcblxuICAvLyBpbXBvcnRQcm9taXNlcyBhZGRzIGFiaWxpdHkgdG8gaW1wb3J0IGEgbW9kdWxlIHR3aWNlIHdpdGhvdXQgZXJyb3IgLSBodHRwczovL2J1Z3MuZWNtYXNjcmlwdC5vcmcvc2hvd19idWcuY2dpP2lkPTI2MDFcbiAgZnVuY3Rpb24gY3JlYXRlSW1wb3J0UHJvbWlzZShsb2FkZXIsIG5hbWUsIHByb21pc2UpIHtcbiAgICB2YXIgaW1wb3J0UHJvbWlzZXMgPSBsb2FkZXIuX2xvYWRlci5pbXBvcnRQcm9taXNlcztcbiAgICByZXR1cm4gaW1wb3J0UHJvbWlzZXNbbmFtZV0gPSBwcm9taXNlLnRoZW4oZnVuY3Rpb24obSkge1xuICAgICAgaW1wb3J0UHJvbWlzZXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gbTtcbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBpbXBvcnRQcm9taXNlc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gIH1cblxuICBMb2FkZXIucHJvdG90eXBlID0ge1xuICAgIC8vIDI2LjMuMy4xXG4gICAgY29uc3RydWN0b3I6IExvYWRlcixcbiAgICAvLyAyNi4zLjMuMlxuICAgIGRlZmluZTogZnVuY3Rpb24obmFtZSwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAvLyBjaGVjayBpZiBhbHJlYWR5IGRlZmluZWRcbiAgICAgIGlmICh0aGlzLl9sb2FkZXIuaW1wb3J0UHJvbWlzZXNbbmFtZV0pXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01vZHVsZSBpcyBhbHJlYWR5IGxvYWRpbmcuJyk7XG4gICAgICByZXR1cm4gY3JlYXRlSW1wb3J0UHJvbWlzZSh0aGlzLCBuYW1lLCBuZXcgUHJvbWlzZShhc3luY1N0YXJ0TG9hZFBhcnR3YXlUaHJvdWdoKHtcbiAgICAgICAgc3RlcDogJ3RyYW5zbGF0ZScsXG4gICAgICAgIGxvYWRlcjogdGhpcy5fbG9hZGVyLFxuICAgICAgICBtb2R1bGVOYW1lOiBuYW1lLFxuICAgICAgICBtb2R1bGVNZXRhZGF0YTogb3B0aW9ucyAmJiBvcHRpb25zLm1ldGFkYXRhIHx8IHt9LFxuICAgICAgICBtb2R1bGVTb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgbW9kdWxlQWRkcmVzczogb3B0aW9ucyAmJiBvcHRpb25zLmFkZHJlc3NcbiAgICAgIH0pKSk7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuM1xuICAgICdkZWxldGUnOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5fbG9hZGVyO1xuICAgICAgZGVsZXRlIGxvYWRlci5pbXBvcnRQcm9taXNlc1tuYW1lXTtcbiAgICAgIGRlbGV0ZSBsb2FkZXIubW9kdWxlUmVjb3Jkc1tuYW1lXTtcbiAgICAgIHJldHVybiBsb2FkZXIubW9kdWxlc1tuYW1lXSA/IGRlbGV0ZSBsb2FkZXIubW9kdWxlc1tuYW1lXSA6IGZhbHNlO1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjQgZW50cmllcyBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuNVxuICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoIXRoaXMuX2xvYWRlci5tb2R1bGVzW2tleV0pXG4gICAgICAgIHJldHVybjtcbiAgICAgIGRvRW5zdXJlRXZhbHVhdGVkKHRoaXMuX2xvYWRlci5tb2R1bGVzW2tleV0sIFtdLCB0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkZXIubW9kdWxlc1trZXldLm1vZHVsZTtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy43XG4gICAgaGFzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gISF0aGlzLl9sb2FkZXIubW9kdWxlc1tuYW1lXTtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy44XG4gICAgJ2ltcG9ydCc6IGZ1bmN0aW9uKG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyZW50TmFtZSA9PSAnb2JqZWN0JylcbiAgICAgICAgcGFyZW50TmFtZSA9IHBhcmVudE5hbWUubmFtZTtcblxuICAgICAgLy8gcnVuIG5vcm1hbGl6ZSBmaXJzdFxuICAgICAgdmFyIGxvYWRlck9iaiA9IHRoaXM7XG5cbiAgICAgIC8vIGFkZGVkLCBzZWUgaHR0cHM6Ly9idWdzLmVjbWFzY3JpcHQub3JnL3Nob3dfYnVnLmNnaT9pZD0yNjU5XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvYWRlck9iai5ub3JtYWxpemUobmFtZSwgcGFyZW50TmFtZSkpXG4gICAgICAudGhlbihmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHZhciBsb2FkZXIgPSBsb2FkZXJPYmouX2xvYWRlcjtcblxuICAgICAgICBpZiAobG9hZGVyLm1vZHVsZXNbbmFtZV0pIHtcbiAgICAgICAgICBkb0Vuc3VyZUV2YWx1YXRlZChsb2FkZXIubW9kdWxlc1tuYW1lXSwgW10sIGxvYWRlci5fbG9hZGVyKTtcbiAgICAgICAgICByZXR1cm4gbG9hZGVyLm1vZHVsZXNbbmFtZV0ubW9kdWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxvYWRlci5pbXBvcnRQcm9taXNlc1tuYW1lXSB8fCBjcmVhdGVJbXBvcnRQcm9taXNlKGxvYWRlck9iaiwgbmFtZSxcbiAgICAgICAgICBsb2FkTW9kdWxlKGxvYWRlciwgbmFtZSwge30pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24obG9hZCkge1xuICAgICAgICAgICAgZGVsZXRlIGxvYWRlci5pbXBvcnRQcm9taXNlc1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0ZUxvYWRlZE1vZHVsZShsb2FkZXIsIGxvYWQpO1xuICAgICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjkga2V5cyBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuMTBcbiAgICBsb2FkOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5fbG9hZGVyO1xuICAgICAgaWYgKGxvYWRlci5tb2R1bGVzW25hbWVdKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICByZXR1cm4gbG9hZGVyLmltcG9ydFByb21pc2VzW25hbWVdIHx8IGNyZWF0ZUltcG9ydFByb21pc2UodGhpcywgbmFtZSwgbmV3IFByb21pc2UoYXN5bmNTdGFydExvYWRQYXJ0d2F5VGhyb3VnaCh7XG4gICAgICAgIHN0ZXA6ICdsb2NhdGUnLFxuICAgICAgICBsb2FkZXI6IGxvYWRlcixcbiAgICAgICAgbW9kdWxlTmFtZTogbmFtZSxcbiAgICAgICAgbW9kdWxlTWV0YWRhdGE6IHt9LFxuICAgICAgICBtb2R1bGVTb3VyY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgbW9kdWxlQWRkcmVzczogdW5kZWZpbmVkXG4gICAgICB9KSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBkZWxldGUgbG9hZGVyLmltcG9ydFByb21pc2VzW25hbWVdO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjExXG4gICAgbW9kdWxlOiBmdW5jdGlvbihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsb2FkID0gY3JlYXRlTG9hZCgpO1xuICAgICAgbG9hZC5hZGRyZXNzID0gb3B0aW9ucyAmJiBvcHRpb25zLmFkZHJlc3M7XG4gICAgICB2YXIgbGlua1NldCA9IGNyZWF0ZUxpbmtTZXQodGhpcy5fbG9hZGVyLCBsb2FkKTtcbiAgICAgIHZhciBzb3VyY2VQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHNvdXJjZSk7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5fbG9hZGVyO1xuICAgICAgdmFyIHAgPSBsaW5rU2V0LmRvbmUudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGV2YWx1YXRlTG9hZGVkTW9kdWxlKGxvYWRlciwgbG9hZCk7XG4gICAgICB9KTtcbiAgICAgIHByb2NlZWRUb1RyYW5zbGF0ZShsb2FkZXIsIGxvYWQsIHNvdXJjZVByb21pc2UpO1xuICAgICAgcmV0dXJuIHA7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTJcbiAgICBuZXdNb2R1bGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqICE9ICdvYmplY3QnKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBvYmplY3QnKTtcblxuICAgICAgdmFyIG0gPSBuZXcgTW9kdWxlKCk7XG5cbiAgICAgIHZhciBwTmFtZXMgPSBbXTtcbiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyAmJiBvYmogIT0gbnVsbClcbiAgICAgICAgcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iailcbiAgICAgICAgICBwTmFtZXMucHVzaChrZXkpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBOYW1lcy5sZW5ndGg7IGkrKykgKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShtLCBrZXksIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgZXhwb3J0cyBjYW5ub3QgYmUgY2hhbmdlZCBleHRlcm5hbGx5LicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KShwTmFtZXNbaV0pO1xuXG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSlcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShtKTtcblxuICAgICAgcmV0dXJuIG07XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTRcbiAgICBzZXQ6IGZ1bmN0aW9uKG5hbWUsIG1vZHVsZSkge1xuICAgICAgaWYgKCEobW9kdWxlIGluc3RhbmNlb2YgTW9kdWxlKSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTG9hZGVyLnNldCgnICsgbmFtZSArICcsIG1vZHVsZSkgbXVzdCBiZSBhIG1vZHVsZScpO1xuICAgICAgdGhpcy5fbG9hZGVyLm1vZHVsZXNbbmFtZV0gPSB7XG4gICAgICAgIG1vZHVsZTogbW9kdWxlXG4gICAgICB9O1xuICAgIH0sXG4gICAgLy8gMjYuMy4zLjE1IHZhbHVlcyBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuMTYgQEBpdGVyYXRvciBub3QgaW1wbGVtZW50ZWRcbiAgICAvLyAyNi4zLjMuMTcgQEB0b1N0cmluZ1RhZyBub3QgaW1wbGVtZW50ZWRcblxuICAgIC8vIDI2LjMuMy4xOC4xXG4gICAgbm9ybWFsaXplOiBmdW5jdGlvbihuYW1lLCByZWZlcnJlck5hbWUsIHJlZmVycmVyQWRkcmVzcykge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTguMlxuICAgIGxvY2F0ZTogZnVuY3Rpb24obG9hZCkge1xuICAgICAgcmV0dXJuIGxvYWQubmFtZTtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy4xOC4zXG4gICAgZmV0Y2g6IGZ1bmN0aW9uKGxvYWQpIHtcbiAgICB9LFxuICAgIC8vIDI2LjMuMy4xOC40XG4gICAgdHJhbnNsYXRlOiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICByZXR1cm4gbG9hZC5zb3VyY2U7XG4gICAgfSxcbiAgICAvLyAyNi4zLjMuMTguNVxuICAgIGluc3RhbnRpYXRlOiBmdW5jdGlvbihsb2FkKSB7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfbmV3TW9kdWxlID0gTG9hZGVyLnByb3RvdHlwZS5uZXdNb2R1bGU7XG4vKlxuICogRVM2IE1vZHVsZSBEZWNsYXJhdGl2ZSBMaW5raW5nIENvZGUgLSBEZXYgQnVpbGQgT25seVxuICovXG4gIGZ1bmN0aW9uIGxpbmsobGlua1NldCwgbGlua0Vycm9yKSB7XG5cbiAgICB2YXIgbG9hZGVyID0gbGlua1NldC5sb2FkZXI7XG5cbiAgICBpZiAoIWxpbmtTZXQubG9hZHMubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGxvYWRzID0gbGlua1NldC5sb2Fkcy5jb25jYXQoW10pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2Fkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxvYWQgPSBsb2Fkc1tpXTtcblxuICAgICAgdmFyIG1vZHVsZSA9IGRvRHluYW1pY0V4ZWN1dGUobGlua1NldCwgbG9hZCwgbGlua0Vycm9yKTtcbiAgICAgIGlmICghbW9kdWxlKVxuICAgICAgICByZXR1cm47XG4gICAgICBsb2FkLm1vZHVsZSA9IHtcbiAgICAgICAgbmFtZTogbG9hZC5uYW1lLFxuICAgICAgICBtb2R1bGU6IG1vZHVsZVxuICAgICAgfTtcbiAgICAgIGxvYWQuc3RhdHVzID0gJ2xpbmtlZCc7XG5cbiAgICAgIGZpbmlzaExvYWQobG9hZGVyLCBsb2FkKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBldmFsdWF0ZUxvYWRlZE1vZHVsZShsb2FkZXIsIGxvYWQpIHtcbiAgICBjb25zb2xlLmFzc2VydChsb2FkLnN0YXR1cyA9PSAnbGlua2VkJywgJ2lzIGxpbmtlZCAnICsgbG9hZC5uYW1lKTtcbiAgICByZXR1cm4gbG9hZC5tb2R1bGUubW9kdWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9FbnN1cmVFdmFsdWF0ZWQoKSB7fVxuXG4gIGZ1bmN0aW9uIHRyYW5zcGlsZSgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFUzYgdHJhbnNwaWxhdGlvbiBpcyBvbmx5IHByb3ZpZGVkIGluIHRoZSBkZXYgbW9kdWxlIGxvYWRlciBidWlsZC4nKTtcbiAgfVxufSkoKTsvKlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgU3lzdGVtIExvYWRlciBJbXBsZW1lbnRhdGlvblxuXG4gICAgLSBJbXBsZW1lbnRlZCB0byBodHRwczovL2dpdGh1Yi5jb20vam9yZW5kb3JmZi9qcy1sb2FkZXJzL2Jsb2IvbWFzdGVyL2Jyb3dzZXItbG9hZGVyLmpzXG5cbiAgICAtIDxzY3JpcHQgdHlwZT1cIm1vZHVsZVwiPiBzdXBwb3J0ZWRcblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4qL1xuXG52YXIgU3lzdGVtO1xuXG5mdW5jdGlvbiBTeXN0ZW1Mb2FkZXIoKSB7XG4gIExvYWRlci5jYWxsKHRoaXMpO1xuICB0aGlzLnBhdGhzID0ge307XG59XG5cbi8vIE5CIG5vIHNwZWNpZmljYXRpb24gcHJvdmlkZWQgZm9yIFN5c3RlbS5wYXRocywgdXNlZCBpZGVhcyBkaXNjdXNzZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL2pvcmVuZG9yZmYvanMtbG9hZGVycy9pc3N1ZXMvMjVcbmZ1bmN0aW9uIGFwcGx5UGF0aHMocGF0aHMsIG5hbWUpIHtcbiAgLy8gbW9zdCBzcGVjaWZpYyAobW9zdCBudW1iZXIgb2Ygc2xhc2hlcyBpbiBwYXRoKSBtYXRjaCB3aW5zXG4gIHZhciBwYXRoTWF0Y2ggPSAnJywgd2lsZGNhcmQsIG1heFdpbGRjYXJkUHJlZml4TGVuID0gMDtcblxuICAvLyBjaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHBhdGhzIGVudHJ5XG4gIGZvciAodmFyIHAgaW4gcGF0aHMpIHtcbiAgICB2YXIgcGF0aFBhcnRzID0gcC5zcGxpdCgnKicpO1xuICAgIGlmIChwYXRoUGFydHMubGVuZ3RoID4gMilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09ubHkgb25lIHdpbGRjYXJkIGluIGEgcGF0aCBpcyBwZXJtaXR0ZWQnKTtcblxuICAgIC8vIGV4YWN0IHBhdGggbWF0Y2hcbiAgICBpZiAocGF0aFBhcnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICBpZiAobmFtZSA9PSBwKVxuICAgICAgICByZXR1cm4gcGF0aHNbcF07XG4gICAgICBcbiAgICAgIC8vIHN1cHBvcnQgdHJhaWxpbmcgLyBpbiBwYXRocyBydWxlc1xuICAgICAgZWxzZSBpZiAobmFtZS5zdWJzdHIoMCwgcC5sZW5ndGggLSAxKSA9PSBwLnN1YnN0cigwLCBwLmxlbmd0aCAtIDEpICYmIChuYW1lLmxlbmd0aCA8IHAubGVuZ3RoIHx8IG5hbWVbcC5sZW5ndGggLSAxXSA9PSBwW3AubGVuZ3RoIC0gMV0pICYmIHBhdGhzW3BdW3BhdGhzW3BdLmxlbmd0aCAtIDFdID09ICcvJylcbiAgICAgICAgcmV0dXJuIHBhdGhzW3BdLnN1YnN0cigwLCBwYXRoc1twXS5sZW5ndGggLSAxKSArIChuYW1lLmxlbmd0aCA+IHAubGVuZ3RoID8gJy8nICsgbmFtZS5zdWJzdHIocC5sZW5ndGgpIDogJycpO1xuICAgIH1cbiAgICAvLyB3aWxkY2FyZCBwYXRoIG1hdGNoXG4gICAgZWxzZSB7XG4gICAgICB2YXIgd2lsZGNhcmRQcmVmaXhMZW4gPSBwYXRoUGFydHNbMF0ubGVuZ3RoO1xuICAgICAgaWYgKHdpbGRjYXJkUHJlZml4TGVuID49IG1heFdpbGRjYXJkUHJlZml4TGVuICYmXG4gICAgICAgICAgbmFtZS5zdWJzdHIoMCwgcGF0aFBhcnRzWzBdLmxlbmd0aCkgPT0gcGF0aFBhcnRzWzBdICYmXG4gICAgICAgICAgbmFtZS5zdWJzdHIobmFtZS5sZW5ndGggLSBwYXRoUGFydHNbMV0ubGVuZ3RoKSA9PSBwYXRoUGFydHNbMV0pIHtcbiAgICAgICAgICAgIG1heFdpbGRjYXJkUHJlZml4TGVuID0gd2lsZGNhcmRQcmVmaXhMZW47XG4gICAgICAgICAgICBwYXRoTWF0Y2ggPSBwO1xuICAgICAgICAgICAgd2lsZGNhcmQgPSBuYW1lLnN1YnN0cihwYXRoUGFydHNbMF0ubGVuZ3RoLCBuYW1lLmxlbmd0aCAtIHBhdGhQYXJ0c1sxXS5sZW5ndGggLSBwYXRoUGFydHNbMF0ubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dFBhdGggPSBwYXRoc1twYXRoTWF0Y2hdO1xuICBpZiAodHlwZW9mIHdpbGRjYXJkID09ICdzdHJpbmcnKVxuICAgIG91dFBhdGggPSBvdXRQYXRoLnJlcGxhY2UoJyonLCB3aWxkY2FyZCk7XG5cbiAgcmV0dXJuIG91dFBhdGg7XG59XG5cbi8vIGlubGluZSBPYmplY3QuY3JlYXRlLXN0eWxlIGNsYXNzIGV4dGVuc2lvblxuZnVuY3Rpb24gTG9hZGVyUHJvdG8oKSB7fVxuTG9hZGVyUHJvdG8ucHJvdG90eXBlID0gTG9hZGVyLnByb3RvdHlwZTtcblN5c3RlbUxvYWRlci5wcm90b3R5cGUgPSBuZXcgTG9hZGVyUHJvdG8oKTtcbiAgdmFyIGZldGNoVGV4dEZyb21VUkw7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBmZXRjaFRleHRGcm9tVVJMID0gZnVuY3Rpb24odXJsLCBhdXRob3JpemF0aW9uLCBmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHZhciBzYW1lRG9tYWluID0gdHJ1ZTtcbiAgICAgIHZhciBkb1RpbWVvdXQgPSBmYWxzZTtcbiAgICAgIGlmICghKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgc2FtZSBkb21haW5cbiAgICAgICAgdmFyIGRvbWFpbkNoZWNrID0gL14oXFx3KzopP1xcL1xcLyhbXlxcL10rKS8uZXhlYyh1cmwpO1xuICAgICAgICBpZiAoZG9tYWluQ2hlY2spIHtcbiAgICAgICAgICBzYW1lRG9tYWluID0gZG9tYWluQ2hlY2tbMl0gPT09IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICAgIGlmIChkb21haW5DaGVja1sxXSlcbiAgICAgICAgICAgIHNhbWVEb21haW4gJj0gZG9tYWluQ2hlY2tbMV0gPT09IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzYW1lRG9tYWluICYmIHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICB4aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ubG9hZCA9IGxvYWQ7XG4gICAgICAgIHhoci5vbmVycm9yID0gZXJyb3I7XG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSBlcnJvcjtcbiAgICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICB4aHIudGltZW91dCA9IDA7XG4gICAgICAgIGRvVGltZW91dCA9IHRydWU7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICBmdWxmaWxsKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1hIUiBlcnJvcicgKyAoeGhyLnN0YXR1cyA/ICcgKCcgKyB4aHIuc3RhdHVzICsgKHhoci5zdGF0dXNUZXh0ID8gJyAnICsgeGhyLnN0YXR1c1RleHQgIDogJycpICsgJyknIDogJycpICsgJyBsb2FkaW5nICcgKyB1cmwpKTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgLy8gaW4gQ2hyb21lIG9uIGZpbGU6Ly8vIFVSTHMsIHN0YXR1cyBpcyAwXG4gICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gMCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVRleHQpIHtcbiAgICAgICAgICAgICAgbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHdoZW4gcmVzcG9uc2VUZXh0IGlzIGVtcHR5LCB3YWl0IGZvciBsb2FkIG9yIGVycm9yIGV2ZW50XG4gICAgICAgICAgICAgIC8vIHRvIGluZm9ybSBpZiBpdCBpcyBhIDQwNCBvciBlbXB0eSBmaWxlXG4gICAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBsb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuXG4gICAgICBpZiAoeGhyLnNldFJlcXVlc3RIZWFkZXIpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi94LWVzLW1vZHVsZSwgKi8qJyk7XG4gICAgICAgIC8vIGNhbiBzZXQgXCJhdXRob3JpemF0aW9uOiB0cnVlXCIgdG8gZW5hYmxlIHdpdGhDcmVkZW50aWFscyBvbmx5XG4gICAgICAgIGlmIChhdXRob3JpemF0aW9uKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBhdXRob3JpemF0aW9uID09ICdzdHJpbmcnKVxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0F1dGhvcml6YXRpb24nLCBhdXRob3JpemF0aW9uKTtcbiAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZG9UaW1lb3V0KSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiByZXF1aXJlICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIGZzO1xuICAgIGZldGNoVGV4dEZyb21VUkwgPSBmdW5jdGlvbih1cmwsIGF1dGhvcml6YXRpb24sIGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgaWYgKHVybC5zdWJzdHIoMCwgOCkgIT0gJ2ZpbGU6Ly8vJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmV0Y2ggXCInICsgdXJsICsgJ1wiLiBPbmx5IGZpbGUgVVJMcyBvZiB0aGUgZm9ybSBmaWxlOi8vLyBhbGxvd2VkIHJ1bm5pbmcgaW4gTm9kZS4nKTtcbiAgICAgIGZzID0gZnMgfHwgcmVxdWlyZSgnZnMnKTtcbiAgICAgIGlmIChpc1dpbmRvd3MpXG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXC8vZywgJ1xcXFwnKS5zdWJzdHIoOCk7XG4gICAgICBlbHNlXG4gICAgICAgIHVybCA9IHVybC5zdWJzdHIoNyk7XG4gICAgICByZXR1cm4gZnMucmVhZEZpbGUodXJsLCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBTdHJpcCBCeXRlIE9yZGVyIE1hcmsgb3V0IGlmIGl0J3MgdGhlIGxlYWRpbmcgY2hhclxuICAgICAgICAgIHZhciBkYXRhU3RyaW5nID0gZGF0YSArICcnO1xuICAgICAgICAgIGlmIChkYXRhU3RyaW5nWzBdID09PSAnXFx1ZmVmZicpXG4gICAgICAgICAgICBkYXRhU3RyaW5nID0gZGF0YVN0cmluZy5zdWJzdHIoMSk7XG5cbiAgICAgICAgICBmdWxmaWxsKGRhdGFTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzZWxmLmZldGNoICE9ICd1bmRlZmluZWQnKSB7XG4gICAgZmV0Y2hUZXh0RnJvbVVSTCA9IGZ1bmN0aW9uKHVybCwgYXV0aG9yaXphdGlvbiwgZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgaGVhZGVyczogeydBY2NlcHQnOiAnYXBwbGljYXRpb24veC1lcy1tb2R1bGUsICovKid9XG4gICAgICB9O1xuXG4gICAgICBpZiAoYXV0aG9yaXphdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGF1dGhvcml6YXRpb24gPT0gJ3N0cmluZycpXG4gICAgICAgICAgb3B0cy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBhdXRob3JpemF0aW9uO1xuICAgICAgICBvcHRzLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuICAgICAgfVxuXG4gICAgICBmZXRjaCh1cmwsIG9wdHMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgaWYgKHIub2spIHtcbiAgICAgICAgICAgIHJldHVybiByLnRleHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGZXRjaCBlcnJvcjogJyArIHIuc3RhdHVzICsgJyAnICsgci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bGZpbGwsIHJlamVjdCk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIGVudmlyb25tZW50IGZldGNoIEFQSSBhdmFpbGFibGUuJyk7XG4gIH1cblxuICBTeXN0ZW1Mb2FkZXIucHJvdG90eXBlLmZldGNoID0gZnVuY3Rpb24obG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZldGNoVGV4dEZyb21VUkwobG9hZC5hZGRyZXNzLCB1bmRlZmluZWQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG4vKlxuICogVHJhY2V1ciwgQmFiZWwgYW5kIFR5cGVTY3JpcHQgdHJhbnNwaWxlIGhvb2sgZm9yIExvYWRlclxuICovXG52YXIgdHJhbnNwaWxlID0gKGZ1bmN0aW9uKCkge1xuXG4gIC8vIHVzZSBUcmFjZXVyIGJ5IGRlZmF1bHRcbiAgTG9hZGVyLnByb3RvdHlwZS50cmFuc3BpbGVyID0gJ3RyYWNldXInO1xuXG4gIGZ1bmN0aW9uIHRyYW5zcGlsZShsb2FkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfX2dsb2JhbFtzZWxmLnRyYW5zcGlsZXIgPT0gJ3R5cGVzY3JpcHQnID8gJ3RzJyA6IHNlbGYudHJhbnNwaWxlcl1cbiAgICAgICAgfHwgKHNlbGYucGx1Z2luTG9hZGVyIHx8IHNlbGYpWydpbXBvcnQnXShzZWxmLnRyYW5zcGlsZXIpKVxuICAgIC50aGVuKGZ1bmN0aW9uKHRyYW5zcGlsZXIpIHtcbiAgICAgIGlmICh0cmFuc3BpbGVyLl9fdXNlRGVmYXVsdClcbiAgICAgICAgdHJhbnNwaWxlciA9IHRyYW5zcGlsZXJbJ2RlZmF1bHQnXTtcblxuICAgICAgdmFyIHRyYW5zcGlsZUZ1bmN0aW9uO1xuICAgICAgaWYgKHRyYW5zcGlsZXIuQ29tcGlsZXIpXG4gICAgICAgIHRyYW5zcGlsZUZ1bmN0aW9uID0gdHJhY2V1clRyYW5zcGlsZTtcbiAgICAgIGVsc2UgaWYgKHRyYW5zcGlsZXIuY3JlYXRlTGFuZ3VhZ2VTZXJ2aWNlKVxuICAgICAgICB0cmFuc3BpbGVGdW5jdGlvbiA9IHR5cGVzY3JpcHRUcmFuc3BpbGU7XG4gICAgICBlbHNlXG4gICAgICAgIHRyYW5zcGlsZUZ1bmN0aW9uID0gYmFiZWxUcmFuc3BpbGU7XG5cbiAgICAgIC8vIG5vdGUgX19tb2R1bGVOYW1lIHdpbGwgYmUgcGFydCBvZiB0aGUgdHJhbnNmb3JtZXIgbWV0YSBpbiBmdXR1cmUgd2hlbiB3ZSBoYXZlIHRoZSBzcGVjIGZvciB0aGlzXG4gICAgICByZXR1cm4gJyhmdW5jdGlvbihfX21vZHVsZU5hbWUpeycgKyB0cmFuc3BpbGVGdW5jdGlvbi5jYWxsKHNlbGYsIGxvYWQsIHRyYW5zcGlsZXIpICsgJ1xcbn0pKFwiJyArIGxvYWQubmFtZSArICdcIik7XFxuLy8jIHNvdXJjZVVSTD0nICsgbG9hZC5hZGRyZXNzICsgJyF0cmFuc3BpbGVkJztcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiB0cmFjZXVyVHJhbnNwaWxlKGxvYWQsIHRyYWNldXIpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMudHJhY2V1ck9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5tb2R1bGVzID0gJ2luc3RhbnRpYXRlJztcbiAgICBvcHRpb25zLnNjcmlwdCA9IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLnNvdXJjZU1hcHMgPT09IHVuZGVmaW5lZClcbiAgICAgIG9wdGlvbnMuc291cmNlTWFwcyA9ICdpbmxpbmUnO1xuICAgIG9wdGlvbnMuZmlsZW5hbWUgPSBsb2FkLmFkZHJlc3M7XG4gICAgb3B0aW9ucy5pbnB1dFNvdXJjZU1hcCA9IGxvYWQubWV0YWRhdGEuc291cmNlTWFwO1xuICAgIG9wdGlvbnMubW9kdWxlTmFtZSA9IGZhbHNlO1xuXG4gICAgdmFyIGNvbXBpbGVyID0gbmV3IHRyYWNldXIuQ29tcGlsZXIob3B0aW9ucyk7XG5cbiAgICByZXR1cm4gZG9UcmFjZXVyQ29tcGlsZShsb2FkLnNvdXJjZSwgY29tcGlsZXIsIG9wdGlvbnMuZmlsZW5hbWUpO1xuICB9XG4gIGZ1bmN0aW9uIGRvVHJhY2V1ckNvbXBpbGUoc291cmNlLCBjb21waWxlciwgZmlsZW5hbWUpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGUoc291cmNlLCBmaWxlbmFtZSk7XG4gICAgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgIC8vIG9uIG9sZGVyIHZlcnNpb25zIG9mIHRyYWNldXIgKDwwLjkuMyksIGFuIGFycmF5IG9mIGVycm9ycyBpcyB0aHJvd25cbiAgICAgIC8vIHJhdGhlciB0aGFuIGEgc2luZ2xlIGVycm9yLlxuICAgICAgaWYgKGUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IGVbMF07XG4gICAgICB9XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGJhYmVsVHJhbnNwaWxlKGxvYWQsIGJhYmVsKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLmJhYmVsT3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLm1vZHVsZXMgPSAnc3lzdGVtJztcbiAgICBpZiAob3B0aW9ucy5zb3VyY2VNYXAgPT09IHVuZGVmaW5lZClcbiAgICAgIG9wdGlvbnMuc291cmNlTWFwID0gJ2lubGluZSc7XG4gICAgb3B0aW9ucy5pbnB1dFNvdXJjZU1hcCA9IGxvYWQubWV0YWRhdGEuc291cmNlTWFwO1xuICAgIG9wdGlvbnMuZmlsZW5hbWUgPSBsb2FkLmFkZHJlc3M7XG4gICAgb3B0aW9ucy5jb2RlID0gdHJ1ZTtcbiAgICBvcHRpb25zLmFzdCA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIGJhYmVsLnRyYW5zZm9ybShsb2FkLnNvdXJjZSwgb3B0aW9ucykuY29kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHR5cGVzY3JpcHRUcmFuc3BpbGUobG9hZCwgdHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMudHlwZXNjcmlwdE9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCB0cy5TY3JpcHRUYXJnZXQuRVM1O1xuICAgIGlmIChvcHRpb25zLnNvdXJjZU1hcCA9PT0gdW5kZWZpbmVkKVxuICAgICAgb3B0aW9ucy5zb3VyY2VNYXAgPSB0cnVlO1xuICAgIGlmIChvcHRpb25zLnNvdXJjZU1hcCAmJiBvcHRpb25zLmlubGluZVNvdXJjZU1hcCAhPT0gZmFsc2UpXG4gICAgICBvcHRpb25zLmlubGluZVNvdXJjZU1hcCA9IHRydWU7XG5cbiAgICBvcHRpb25zLm1vZHVsZSA9IHRzLk1vZHVsZUtpbmQuU3lzdGVtO1xuXG4gICAgcmV0dXJuIHRzLnRyYW5zcGlsZShsb2FkLnNvdXJjZSwgb3B0aW9ucywgbG9hZC5hZGRyZXNzKTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc3BpbGU7XG59KSgpO1xuLy8gU3lzdGVtSlMgTG9hZGVyIENsYXNzIGFuZCBFeHRlbnNpb24gaGVscGVyc1xuXG5mdW5jdGlvbiBTeXN0ZW1KU0xvYWRlcigpIHtcbiAgU3lzdGVtTG9hZGVyLmNhbGwodGhpcyk7XG5cbiAgc3lzdGVtSlNDb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xufVxuXG4vLyBpbmxpbmUgT2JqZWN0LmNyZWF0ZS1zdHlsZSBjbGFzcyBleHRlbnNpb25cbmZ1bmN0aW9uIFN5c3RlbVByb3RvKCkge307XG5TeXN0ZW1Qcm90by5wcm90b3R5cGUgPSBTeXN0ZW1Mb2FkZXIucHJvdG90eXBlO1xuU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlID0gbmV3IFN5c3RlbVByb3RvKCk7XG5TeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTeXN0ZW1KU0xvYWRlcjtcblxuLy8gcmVtb3ZlIEVTTUwgaW5zdGFudGlhdGVcblN5c3RlbUpTTG9hZGVyLnByb3RvdHlwZS5pbnN0YW50aWF0ZSA9IGZ1bmN0aW9uKCkge307XG5cbnZhciBzeXN0ZW1KU0NvbnN0cnVjdG9yO1xuXG5mdW5jdGlvbiBob29rKG5hbWUsIGhvb2spIHtcbiAgU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlW25hbWVdID0gaG9vayhTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGVbbmFtZV0gfHwgZnVuY3Rpb24oKSB7fSk7XG59XG5mdW5jdGlvbiBob29rQ29uc3RydWN0b3IoaG9vaykge1xuICBzeXN0ZW1KU0NvbnN0cnVjdG9yID0gaG9vayhzeXN0ZW1KU0NvbnN0cnVjdG9yIHx8IGZ1bmN0aW9uKCkge30pO1xufVxuXG5mdW5jdGlvbiBkZWR1cGUoZGVwcykge1xuICB2YXIgbmV3RGVwcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGRlcHMubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgIGlmIChpbmRleE9mLmNhbGwobmV3RGVwcywgZGVwc1tpXSkgPT0gLTEpXG4gICAgICBuZXdEZXBzLnB1c2goZGVwc1tpXSlcbiAgcmV0dXJuIG5ld0RlcHM7XG59XG5cbmZ1bmN0aW9uIGdyb3VwKGRlcHMpIHtcbiAgdmFyIG5hbWVzID0gW107XG4gIHZhciBpbmRpY2VzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gZGVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgaW5kZXggPSBpbmRleE9mLmNhbGwobmFtZXMsIGRlcHNbaV0pO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIG5hbWVzLnB1c2goZGVwc1tpXSk7XG4gICAgICBpbmRpY2VzLnB1c2goW2ldKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpbmRpY2VzW2luZGV4XS5wdXNoKGkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBuYW1lczogbmFtZXMsIGluZGljZXM6IGluZGljZXMgfTtcbn1cblxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHRydWU7XG50cnkge1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHsgYTogMCB9LCAnYScpO1xufVxuY2F0Y2goZSkge1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmYWxzZTtcbn1cblxuLy8gY29udmVydHMgYW55IG1vZHVsZS5leHBvcnRzIG9iamVjdCBpbnRvIGFuIG9iamVjdCByZWFkeSBmb3IgU3lzdGVtSlMubmV3TW9kdWxlXG5mdW5jdGlvbiBnZXRFU01vZHVsZShleHBvcnRzKSB7XG4gIHZhciBlc01vZHVsZSA9IHt9O1xuICAvLyBkb24ndCB0cmlnZ2VyIGdldHRlcnMvc2V0dGVycyBpbiBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IHRoZW1cbiAgaWYgKHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnIHx8IHR5cGVvZiBleHBvcnRzID09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgICB2YXIgZDtcbiAgICAgIGZvciAodmFyIHAgaW4gZXhwb3J0cylcbiAgICAgICAgaWYgKGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGV4cG9ydHMsIHApKVxuICAgICAgICAgIGRlZmluZVByb3BlcnR5KGVzTW9kdWxlLCBwLCBkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBleHBvcnRzICYmIGV4cG9ydHMuaGFzT3duUHJvcGVydHk7XG4gICAgICBmb3IgKHZhciBwIGluIGV4cG9ydHMpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eSB8fCBleHBvcnRzLmhhc093blByb3BlcnR5KHApKVxuICAgICAgICAgIGVzTW9kdWxlW3BdID0gZXhwb3J0c1twXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZXNNb2R1bGVbJ2RlZmF1bHQnXSA9IGV4cG9ydHM7XG4gIGRlZmluZVByb3BlcnR5KGVzTW9kdWxlLCAnX191c2VEZWZhdWx0Jywge1xuICAgIHZhbHVlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gZXNNb2R1bGU7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCBwcmVwZW5kKSB7XG4gIGZvciAodmFyIHAgaW4gYikge1xuICAgIGlmICghcHJlcGVuZCB8fCAhKHAgaW4gYSkpXG4gICAgICBhW3BdID0gYltwXTtcbiAgfVxuICByZXR1cm4gYTtcbn1cblxuLy8gcGFja2FnZSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbnZhciBwYWNrYWdlUHJvcGVydGllcyA9IFsnbWFpbicsICdmb3JtYXQnLCAnZGVmYXVsdEV4dGVuc2lvbicsICdtZXRhJywgJ21hcCcsICdiYXNlUGF0aCcsICdkZXBDYWNoZSddO1xuXG4vLyBtZXRhIGZpcnN0LWxldmVsIGV4dGVuZHMgd2hlcmU6XG4vLyBhcnJheSArIGFycmF5IGFwcGVuZHNcbi8vIG9iamVjdCArIG9iamVjdCBleHRlbmRzXG4vLyBvdGhlciBwcm9wZXJ0aWVzIHJlcGxhY2VcbmZ1bmN0aW9uIGV4dGVuZE1ldGEoYSwgYiwgcHJlcGVuZCkge1xuICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICB2YXIgdmFsID0gYltwXTtcbiAgICBpZiAoIShwIGluIGEpKVxuICAgICAgYVtwXSA9IHZhbDtcbiAgICBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBBcnJheSAmJiBhW3BdIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICBhW3BdID0gW10uY29uY2F0KHByZXBlbmQgPyB2YWwgOiBhW3BdKS5jb25jYXQocHJlcGVuZCA/IGFbcF0gOiB2YWwpO1xuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWwgPT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHR5cGVvZiBhW3BdID09ICdvYmplY3QnKVxuICAgICAgYVtwXSA9IGV4dGVuZChleHRlbmQoe30sIGFbcF0pLCB2YWwsIHByZXBlbmQpO1xuICAgIGVsc2UgaWYgKCFwcmVwZW5kKVxuICAgICAgYVtwXSA9IHZhbDtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICBpZiAodGhpcy53YXJuaW5ncyAmJiB0eXBlb2YgY29uc29sZSAhPSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLndhcm4pXG4gICAgY29uc29sZS53YXJuKG1zZyk7XG59Ly8gd2UgZGVmaW5lIGEgX19leGVjIGZvciBnbG9iYWxseS1zY29wZWQgZXhlY3V0aW9uXG4vLyB1c2VkIGJ5IG1vZHVsZSBmb3JtYXQgaW1wbGVtZW50YXRpb25zXG52YXIgX19leGVjO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGhhc0J0b2EgPSB0eXBlb2YgYnRvYSAhPSAndW5kZWZpbmVkJztcblxuICAvLyB1c2VkIHRvIHN1cHBvcnQgbGVhZGluZyAjIS91c3IvYmluL2VudiBpbiBzY3JpcHRzIGFzIHN1cHBvcnRlZCBpbiBOb2RlXG4gIHZhciBoYXNoQmFuZ1JlZ0V4ID0gL15cXCNcXCEuKi87XG5cbiAgZnVuY3Rpb24gZ2V0U291cmNlKGxvYWQpIHtcbiAgICB2YXIgbGFzdExpbmVJbmRleCA9IGxvYWQuc291cmNlLmxhc3RJbmRleE9mKCdcXG4nKTtcblxuICAgIC8vIHdyYXAgRVMgZm9ybWF0cyB3aXRoIGEgU3lzdGVtIGNsb3N1cmUgZm9yIFN5c3RlbSBnbG9iYWwgZW5jYXBzdWxhdGlvblxuICAgIHZhciB3cmFwID0gbG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ2VzbScgfHwgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ3JlZ2lzdGVyJyB8fCBsb2FkLm1ldGFkYXRhLmJ1bmRsZTtcblxuICAgIHZhciBzb3VyY2VNYXAgPSBsb2FkLm1ldGFkYXRhLnNvdXJjZU1hcDtcbiAgICBpZiAoc291cmNlTWFwKSB7XG4gICAgICBpZiAodHlwZW9mIHNvdXJjZU1hcCAhPSAnb2JqZWN0JylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbG9hZC5tZXRhZGF0YS5zb3VyY2VNYXAgbXVzdCBiZSBzZXQgdG8gYW4gb2JqZWN0LicpO1xuXG4gICAgICBpZiAoc291cmNlTWFwLm1hcHBpbmdzKVxuICAgICAgICBzb3VyY2VNYXAubWFwcGluZ3MgPSAnOycgKyBzb3VyY2VNYXAubWFwcGluZ3M7XG4gICAgfVxuICAgIFxuICAgIHNvdXJjZU1hcCA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCk7XG5cbiAgICByZXR1cm4gKHdyYXAgPyAnKGZ1bmN0aW9uKFN5c3RlbSwgU3lzdGVtSlMpIHsnIDogJycpICsgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdjanMnID8gbG9hZC5zb3VyY2UucmVwbGFjZShoYXNoQmFuZ1JlZ0V4LCAnJykgOiBsb2FkLnNvdXJjZSkgKyAod3JhcCA/ICdcXG59KShTeXN0ZW0sIFN5c3RlbSk7JyA6ICcnKVxuICAgICAgICAvLyBhZGRzIHRoZSBzb3VyY2VVUkwgY29tbWVudCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICsgKGxvYWQuc291cmNlLnN1YnN0cihsYXN0TGluZUluZGV4LCAxNSkgIT0gJ1xcbi8vIyBzb3VyY2VVUkw9JyBcbiAgICAgICAgICA/ICdcXG4vLyMgc291cmNlVVJMPScgKyBsb2FkLmFkZHJlc3MgKyAoc291cmNlTWFwID8gJyF0cmFuc3BpbGVkJyA6ICcnKSA6ICcnKVxuICAgICAgICAvLyBhZGQgc291cmNlTWFwcGluZ1VSTCBpZiBsb2FkLm1ldGFkYXRhLnNvdXJjZU1hcCBpcyBzZXRcbiAgICAgICAgKyAoc291cmNlTWFwICYmIGhhc0J0b2EgJiYgJ1xcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsJyArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHNvdXJjZU1hcCkpKSB8fCAnJyk7XG4gIH1cblxuICB2YXIgY3VyTG9hZDtcblxuICAvLyBTeXN0ZW0ucmVnaXN0ZXIsIFN5c3RlbS5yZWdpc3RlckR5bmFtaWMsIEFNRCBkZWZpbmUgcGlwZWxpbmVcbiAgLy8gaWYgY3VycmVudGx5IGV2YWxsaW5nIGNvZGUgaGVyZSwgaW1tZWRpYXRlbHkgcmVkdWNlIHRoZSByZWdpc3RlcmVkIGVudHJ5IGFnYWluc3QgdGhlIGxvYWQgcmVjb3JkXG4gIGhvb2soJ3B1c2hSZWdpc3Rlcl8nLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ocmVnaXN0ZXIpIHtcbiAgICAgIGlmICghY3VyTG9hZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB0aGlzLnJlZHVjZVJlZ2lzdGVyXyhjdXJMb2FkLCByZWdpc3Rlcik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBTeXN0ZW0gY2xvYmJlcmluZyBwcm90ZWN0aW9uIChtb3N0bHkgZm9yIFRyYWNldXIpXG4gIHZhciBjdXJTeXN0ZW07XG4gIHZhciBjYWxsQ291bnRlciA9IDA7XG4gIGZ1bmN0aW9uIHByZUV4ZWMobG9hZGVyLCBsb2FkKSB7XG4gICAgY3VyTG9hZCA9IGxvYWQ7XG4gICAgaWYgKGNhbGxDb3VudGVyKysgPT0gMClcbiAgICAgIGN1clN5c3RlbSA9IF9fZ2xvYmFsLlN5c3RlbTtcbiAgICBfX2dsb2JhbC5TeXN0ZW0gPSBfX2dsb2JhbC5TeXN0ZW1KUyA9IGxvYWRlcjsgXG4gIH1cbiAgZnVuY3Rpb24gcG9zdEV4ZWMoKSB7XG4gICAgaWYgKC0tY2FsbENvdW50ZXIgPT0gMClcbiAgICAgIF9fZ2xvYmFsLlN5c3RlbSA9IF9fZ2xvYmFsLlN5c3RlbUpTID0gY3VyU3lzdGVtO1xuICAgIGN1ckxvYWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfX2V4ZWMgPSBmdW5jdGlvbihsb2FkKSB7XG4gICAgaWYgKChsb2FkLm1ldGFkYXRhLmludGVncml0eSB8fCBsb2FkLm1ldGFkYXRhLm5vbmNlKSAmJiBzdXBwb3J0c1NjcmlwdEV4ZWMpXG4gICAgICByZXR1cm4gc2NyaXB0RXhlYy5jYWxsKHRoaXMsIGxvYWQpO1xuICAgIHRyeSB7XG4gICAgICBwcmVFeGVjKHRoaXMsIGxvYWQpO1xuICAgICAgY3VyTG9hZCA9IGxvYWQ7XG4gICAgICAoMCwgZXZhbCkoZ2V0U291cmNlKGxvYWQpKTtcbiAgICAgIHBvc3RFeGVjKCk7XG4gICAgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgIHBvc3RFeGVjKCk7IFxuICAgICAgdGhyb3cgYWRkVG9FcnJvcihlLCAnRXZhbHVhdGluZyAnICsgbG9hZC5hZGRyZXNzKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHN1cHBvcnRzU2NyaXB0RXhlYyA9IGZhbHNlO1xuICBpZiAoaXNCcm93c2VyICYmIHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSkge1xuICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICAgICRfX2N1clNjcmlwdCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXTtcblxuICAgIGlmICghKHdpbmRvdy5jaHJvbWUgJiYgd2luZG93LmNocm9tZS5leHRlbnNpb24gfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvXk5vZGVcXC5qcy8pKSlcbiAgICAgIHN1cHBvcnRzU2NyaXB0RXhlYyA9IHRydWU7XG4gIH1cblxuICAvLyBzY3JpcHQgZXhlY3V0aW9uIHZpYSBpbmplY3RpbmcgYSBzY3JpcHQgdGFnIGludG8gdGhlIHBhZ2VcbiAgLy8gdGhpcyBhbGxvd3MgQ1NQIGludGVncml0eSBhbmQgbm9uY2UgdG8gYmUgc2V0IGZvciBDU1AgZW52aXJvbm1lbnRzXG4gIHZhciBoZWFkO1xuICBmdW5jdGlvbiBzY3JpcHRFeGVjKGxvYWQpIHtcbiAgICBpZiAoIWhlYWQpXG4gICAgICBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHQudGV4dCA9IGdldFNvdXJjZShsb2FkLCBmYWxzZSk7XG4gICAgdmFyIG9uZXJyb3IgPSB3aW5kb3cub25lcnJvcjtcbiAgICB2YXIgZTtcbiAgICB3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKF9lKSB7XG4gICAgICBlID0gYWRkVG9FcnJvcihfZSwgJ0V2YWx1YXRpbmcgJyArIGxvYWQuYWRkcmVzcyk7XG4gICAgfVxuICAgIHByZUV4ZWModGhpcywgbG9hZCk7XG5cbiAgICBpZiAobG9hZC5tZXRhZGF0YS5pbnRlZ3JpdHkpXG4gICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdpbnRlZ3JpdHknLCBsb2FkLm1ldGFkYXRhLmludGVncml0eSk7XG4gICAgaWYgKGxvYWQubWV0YWRhdGEubm9uY2UpXG4gICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdub25jZScsIGxvYWQubWV0YWRhdGEubm9uY2UpO1xuXG4gICAgaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIGhlYWQucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICBwb3N0RXhlYygpO1xuICAgIHdpbmRvdy5vbmVycm9yID0gb25lcnJvcjtcbiAgICBpZiAoZSlcbiAgICAgIHRocm93IGU7XG4gIH1cblxufSkoKTt2YXIgYWJzVVJMUmVnRXggPSAvXlteXFwvXSs6XFwvXFwvLztcblxuZnVuY3Rpb24gcmVhZE1lbWJlckV4cHJlc3Npb24ocCwgdmFsdWUpIHtcbiAgdmFyIHBQYXJ0cyA9IHAuc3BsaXQoJy4nKTtcbiAgd2hpbGUgKHBQYXJ0cy5sZW5ndGgpXG4gICAgdmFsdWUgPSB2YWx1ZVtwUGFydHMuc2hpZnQoKV07XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIGJhc2VVUkxDYWNoZSA9IHt9O1xuZnVuY3Rpb24gZ2V0QmFzZVVSTE9iaigpIHtcbiAgaWYgKGJhc2VVUkxDYWNoZVt0aGlzLmJhc2VVUkxdKVxuICAgIHJldHVybiBiYXNlVVJMQ2FjaGVbdGhpcy5iYXNlVVJMXTtcblxuICAvLyBub3JtYWxpemUgYmFzZVVSTCBpZiBub3QgYWxyZWFkeVxuICBpZiAodGhpcy5iYXNlVVJMW3RoaXMuYmFzZVVSTC5sZW5ndGggLSAxXSAhPSAnLycpXG4gICAgdGhpcy5iYXNlVVJMICs9ICcvJztcblxuICB2YXIgYmFzZVVSTCA9IG5ldyBVUkwodGhpcy5iYXNlVVJMLCBiYXNlVVJJKTtcblxuICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMLmhyZWY7XG5cbiAgcmV0dXJuIChiYXNlVVJMQ2FjaGVbdGhpcy5iYXNlVVJMXSA9IGJhc2VVUkwpO1xufVxuXG5mdW5jdGlvbiBnZXRNYXBNYXRjaChtYXAsIG5hbWUpIHtcbiAgdmFyIGJlc3RNYXRjaCwgYmVzdE1hdGNoTGVuZ3RoID0gMDtcblxuICBmb3IgKHZhciBwIGluIG1hcCkge1xuICAgIGlmIChuYW1lLnN1YnN0cigwLCBwLmxlbmd0aCkgPT0gcCAmJiAobmFtZS5sZW5ndGggPT0gcC5sZW5ndGggfHwgbmFtZVtwLmxlbmd0aF0gPT0gJy8nKSkge1xuICAgICAgdmFyIGN1ck1hdGNoTGVuZ3RoID0gcC5zcGxpdCgnLycpLmxlbmd0aDtcbiAgICAgIGlmIChjdXJNYXRjaExlbmd0aCA8PSBiZXN0TWF0Y2hMZW5ndGgpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgYmVzdE1hdGNoID0gcDtcbiAgICAgIGJlc3RNYXRjaExlbmd0aCA9IGN1ck1hdGNoTGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBiZXN0TWF0Y2g7XG59XG5cbmZ1bmN0aW9uIHNldFByb2R1Y3Rpb24oaXNQcm9kdWN0aW9uKSB7XG4gIHRoaXMuc2V0KCdAc3lzdGVtLWVudicsIHRoaXMubmV3TW9kdWxlKHtcbiAgICBicm93c2VyOiBpc0Jyb3dzZXIsXG4gICAgbm9kZTogISF0aGlzLl9ub2RlUmVxdWlyZSxcbiAgICBwcm9kdWN0aW9uOiBpc1Byb2R1Y3Rpb25cbiAgfSkpO1xufVxuXG52YXIgYmFzZVVSSU9iaiA9IG5ldyBVUkwoYmFzZVVSSSk7XG5cbmhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcblxuICAgIC8vIHN1cHBvcnQgYmFzZVVSTFxuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkkuc3Vic3RyKDAsIGJhc2VVUkkubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuXG4gICAgLy8gc3VwcG9ydCBtYXAgYW5kIHBhdGhzXG4gICAgdGhpcy5tYXAgPSB7fTtcbiAgICB0aGlzLnBhdGhzID0ge307XG5cbiAgICAvLyBnbG9iYWwgYmVoYXZpb3VyIGZsYWdzXG4gICAgdGhpcy53YXJuaW5ncyA9IGZhbHNlO1xuICAgIHRoaXMuZGVmYXVsdEpTRXh0ZW5zaW9ucyA9IGZhbHNlO1xuICAgIHRoaXMucGx1Z2luRmlyc3QgPSBmYWxzZTtcblxuICAgIC8vIGJ5IGRlZmF1bHQgbG9hZCBcIi5qc29uXCIgZmlsZXMgYXMganNvblxuICAgIC8vIGxlYWRpbmcgKiBtZXRhIGRvZXNuJ3QgbmVlZCBub3JtYWxpemF0aW9uXG4gICAgLy8gTkIgYWRkIHRoaXMgaW4gbmV4dCBicmVha2luZyByZWxlYXNlXG4gICAgLy8gdGhpcy5tZXRhWycqLmpzb24nXSA9IHsgZm9ybWF0OiAnanNvbicgfTtcblxuICAgIC8vIHN1cHBvcnQgdGhlIGVtcHR5IG1vZHVsZSwgYXMgYSBjb25jZXB0XG4gICAgdGhpcy5zZXQoJ0BlbXB0eScsIHRoaXMubmV3TW9kdWxlKHt9KSk7XG5cbiAgICBzZXRQcm9kdWN0aW9uLmNhbGwodGhpcywgZmFsc2UpO1xuICB9O1xufSk7XG5cbi8vIGluY2x1ZGUgdGhlIG5vZGUgcmVxdWlyZSBzaW5jZSB3ZSdyZSBvdmVycmlkaW5nIGl0XG5pZiAodHlwZW9mIHJlcXVpcmUgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3NlcilcbiAgU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlLl9ub2RlUmVxdWlyZSA9IHJlcXVpcmU7XG5cbnZhciBub2RlQ29yZU1vZHVsZXMgPSBbJ2Fzc2VydCcsICdidWZmZXInLCAnY2hpbGRfcHJvY2VzcycsICdjbHVzdGVyJywgJ2NvbnNvbGUnLCAnY29uc3RhbnRzJywgXG4gICAgJ2NyeXB0bycsICdkZ3JhbScsICdkbnMnLCAnZG9tYWluJywgJ2V2ZW50cycsICdmcycsICdodHRwJywgJ2h0dHBzJywgJ21vZHVsZScsICduZXQnLCAnb3MnLCAncGF0aCcsIFxuICAgICdwcm9jZXNzJywgJ3B1bnljb2RlJywgJ3F1ZXJ5c3RyaW5nJywgJ3JlYWRsaW5lJywgJ3JlcGwnLCAnc3RyZWFtJywgJ3N0cmluZ19kZWNvZGVyJywgJ3N5cycsICd0aW1lcnMnLCBcbiAgICAndGxzJywgJ3R0eScsICd1cmwnLCAndXRpbCcsICd2bScsICd6bGliJ107XG5cbi8qXG4gIENvcmUgU3lzdGVtSlMgTm9ybWFsaXphdGlvblxuXG4gIElmIGEgbmFtZSBpcyByZWxhdGl2ZSwgd2UgYXBwbHkgVVJMIG5vcm1hbGl6YXRpb24gdG8gdGhlIHBhZ2VcbiAgSWYgYSBuYW1lIGlzIGFuIGFic29sdXRlIFVSTCwgd2UgbGVhdmUgaXQgYXMtaXNcblxuICBQbGFpbiBuYW1lcyAobmVpdGhlciBvZiB0aGUgYWJvdmUpIHJ1biB0aHJvdWdoIHRoZSBtYXAgYW5kIHBhdGhzXG4gIG5vcm1hbGl6YXRpb24gcGhhc2VzLlxuXG4gIFRoZSBwYXRocyBub3JtYWxpemF0aW9uIHBoYXNlIGFwcGxpZXMgbGFzdCAocGF0aHMgZXh0ZW5zaW9uKSwgd2hpY2hcbiAgZGVmaW5lcyB0aGUgYGRlY2Fub25pY2FsaXplYCBmdW5jdGlvbiBhbmQgbm9ybWFsaXplcyBldmVyeXRoaW5nIGludG9cbiAgYSBVUkwuXG4gKi9cblxuZnVuY3Rpb24gaXNQbGFpbihuYW1lKSB7XG4gcmV0dXJuIG5hbWVbMF0gIT0gJy4nICYmIG5hbWVbMF0gIT0gJy8nICYmICFuYW1lLm1hdGNoKGFic1VSTFJlZ0V4KTtcbn1cblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShuYW1lLCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudClcbiAgICBwYXJlbnQgPSBwYXJlbnQucmVwbGFjZSgvIy9nLCAnJTA1Jyk7XG4gIHJldHVybiBuZXcgVVJMKG5hbWUsIHBhcmVudCB8fCBiYXNlVVJJT2JqKS5ocmVmLnJlcGxhY2UoLyUwNS9nLCAnIycpO1xufVxuXG4vLyBvbmx5IGFwcGxpZXMgdG8gcGxhaW4gbmFtZXNcbmZ1bmN0aW9uIGJhc2VVUkxSZXNvbHZlKGxvYWRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFVSTChuYW1lLCBnZXRCYXNlVVJMT2JqLmNhbGwobG9hZGVyKSkuaHJlZjtcbn1cblxuZnVuY3Rpb24gY29yZVJlc29sdmUobmFtZSwgcGFyZW50TmFtZSkge1xuICAvLyBzdGFuZGFyZCBVUkwgcmVzb2x1dGlvblxuICBpZiAoIWlzUGxhaW4obmFtZSkpXG4gICAgcmV0dXJuIHVybFJlc29sdmUobmFtZSwgcGFyZW50TmFtZSk7XG5cbiAgLy8gcGxhaW4gbmFtZXMgbm90IHN0YXJ0aW5nIHdpdGggJy4vJywgJzovLycgYW5kICcvJyBnbyB0aHJvdWdoIGN1c3RvbSByZXNvbHV0aW9uXG4gIHZhciBtYXBNYXRjaCA9IGdldE1hcE1hdGNoKHRoaXMubWFwLCBuYW1lKTtcblxuICBpZiAobWFwTWF0Y2gpIHtcbiAgICBuYW1lID0gdGhpcy5tYXBbbWFwTWF0Y2hdICsgbmFtZS5zdWJzdHIobWFwTWF0Y2gubGVuZ3RoKTtcblxuICAgIGlmICghaXNQbGFpbihuYW1lKSlcbiAgICAgIHJldHVybiB1cmxSZXNvbHZlKG5hbWUpO1xuICB9XG5cbiAgaWYgKHRoaXMuaGFzKG5hbWUpKVxuICAgIHJldHVybiBuYW1lO1xuICAvLyBkeW5hbWljYWxseSBsb2FkIG5vZGUtY29yZSBtb2R1bGVzIHdoZW4gcmVxdWlyaW5nIGBAbm9kZS9mc2AgZm9yIGV4YW1wbGVcbiAgaWYgKG5hbWUuc3Vic3RyKDAsIDYpID09ICdAbm9kZS8nICYmIG5vZGVDb3JlTW9kdWxlcy5pbmRleE9mKG5hbWUuc3Vic3RyKDYpKSAhPSAtMSkge1xuICAgIGlmICghdGhpcy5fbm9kZVJlcXVpcmUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFcnJvciBsb2FkaW5nICcgKyBuYW1lICsgJy4gQ2FuIG9ubHkgbG9hZCBub2RlIGNvcmUgbW9kdWxlcyBpbiBOb2RlLicpO1xuICAgIHRoaXMuc2V0KG5hbWUsIHRoaXMubmV3TW9kdWxlKGdldEVTTW9kdWxlKHRoaXMuX25vZGVSZXF1aXJlKG5hbWUuc3Vic3RyKDYpKSkpKTtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIHZhciBwYXRoZWQgPSBhcHBseVBhdGhzKHRoaXMucGF0aHMsIG5hbWUpO1xuXG4gIGlmIChwYXRoZWQgJiYgIWlzUGxhaW4ocGF0aGVkKSlcbiAgICByZXR1cm4gdXJsUmVzb2x2ZShwYXRoZWQpO1xuXG4gIHJldHVybiBiYXNlVVJMUmVzb2x2ZSh0aGlzLCBwYXRoZWQgfHwgbmFtZSk7XG59XG5cbmhvb2soJ25vcm1hbGl6ZScsIGZ1bmN0aW9uKG5vcm1hbGl6ZSkge1xuICByZXR1cm4gZnVuY3Rpb24obmFtZSwgcGFyZW50TmFtZSwgc2tpcEV4dCkge1xuICAgIHZhciByZXNvbHZlZCA9IGNvcmVSZXNvbHZlLmNhbGwodGhpcywgbmFtZSwgcGFyZW50TmFtZSk7XG4gICAgaWYgKCFza2lwRXh0ICYmIHRoaXMuZGVmYXVsdEpTRXh0ZW5zaW9ucyAmJiByZXNvbHZlZC5zdWJzdHIocmVzb2x2ZWQubGVuZ3RoIC0gMywgMykgIT0gJy5qcycgJiYgIWlzUGxhaW4ocmVzb2x2ZWQpKVxuICAgICAgcmVzb2x2ZWQgKz0gJy5qcyc7XG4gICAgcmV0dXJuIHJlc29sdmVkO1xuICB9O1xufSk7XG5cbi8vIHBlcmNlbnQgZW5jb2RlIGp1c3QgJyMnIGluIHVybHMgaWYgdXNpbmcgSFRUUCByZXF1ZXN0c1xudmFyIGh0dHBSZXF1ZXN0ID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9ICd1bmRlZmluZWQnO1xuaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsb2NhdGUuY2FsbCh0aGlzLCBsb2FkKSlcbiAgICAudGhlbihmdW5jdGlvbihhZGRyZXNzKSB7XG4gICAgICBpZiAoaHR0cFJlcXVlc3QpXG4gICAgICAgIHJldHVybiBhZGRyZXNzLnJlcGxhY2UoLyMvZywgJyUyMycpO1xuICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfSk7XG4gIH07XG59KTtcblxuLypcbiAqIEZldGNoIHdpdGggYXV0aG9yaXphdGlvblxuICovXG5ob29rKCdmZXRjaCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZldGNoVGV4dEZyb21VUkwobG9hZC5hZGRyZXNzLCBsb2FkLm1ldGFkYXRhLmF1dGhvcml6YXRpb24sIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG59KTtcblxuLypcbiAgX191c2VEZWZhdWx0XG4gIFxuICBXaGVuIGEgbW9kdWxlIG9iamVjdCBsb29rcyBsaWtlOlxuICBuZXdNb2R1bGUoXG4gICAgX191c2VEZWZhdWx0OiB0cnVlLFxuICAgIGRlZmF1bHQ6ICdzb21lLW1vZHVsZSdcbiAgfSlcblxuICBUaGVuIGltcG9ydGluZyB0aGF0IG1vZHVsZSBwcm92aWRlcyB0aGUgJ3NvbWUtbW9kdWxlJ1xuICByZXN1bHQgZGlyZWN0bHkgaW5zdGVhZCBvZiB0aGUgZnVsbCBtb2R1bGUuXG5cbiAgVXNlZnVsIGZvciBlZyBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge31cbiovXG5ob29rKCdpbXBvcnQnLCBmdW5jdGlvbihzeXN0ZW1JbXBvcnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpIHtcbiAgICBpZiAocGFyZW50TmFtZSAmJiBwYXJlbnROYW1lLm5hbWUpXG4gICAgICB3YXJuLmNhbGwodGhpcywgJ1N5c3RlbUpTLmltcG9ydChuYW1lLCB7IG5hbWU6IHBhcmVudE5hbWUgfSkgaXMgZGVwcmVjYXRlZCBmb3IgU3lzdGVtSlMuaW1wb3J0KG5hbWUsIHBhcmVudE5hbWUpLCB3aGlsZSBpbXBvcnRpbmcgJyArIG5hbWUgKyAnIGZyb20gJyArIHBhcmVudE5hbWUubmFtZSk7XG4gICAgcmV0dXJuIHN5c3RlbUltcG9ydC5jYWxsKHRoaXMsIG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpLnRoZW4oZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLl9fdXNlRGVmYXVsdCA/IG1vZHVsZVsnZGVmYXVsdCddIDogbW9kdWxlO1xuICAgIH0pO1xuICB9O1xufSk7XG5cbi8qXG4gKiBBbGxvdyBmb3JtYXQ6ICdkZXRlY3QnIG1ldGEgdG8gZW5hYmxlIGZvcm1hdCBkZXRlY3Rpb25cbiAqL1xuaG9vaygndHJhbnNsYXRlJywgZnVuY3Rpb24oc3lzdGVtVHJhbnNsYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdkZXRlY3QnKVxuICAgICAgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN5c3RlbVRyYW5zbGF0ZS5jYWxsKHRoaXMsIGxvYWQpO1xuICB9O1xufSk7XG5cblxuLypcbiAqIEpTT04gZm9ybWF0IHN1cHBvcnRcbiAqXG4gKiBTdXBwb3J0cyBsb2FkaW5nIEpTT04gZmlsZXMgYXMgYSBtb2R1bGUgZm9ybWF0IGl0c2VsZlxuICpcbiAqIFVzYWdlOlxuICpcbiAqIFN5c3RlbUpTLmNvbmZpZyh7XG4gKiAgIG1ldGE6IHtcbiAqICAgICAnKi5qc29uJzogeyBmb3JtYXQ6ICdqc29uJyB9XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIE1vZHVsZSBpcyByZXR1cm5lZCBhcyBpZiB3cml0dGVuOlxuICpcbiAqIGV4cG9ydCBkZWZhdWx0IHtKU09OfVxuICpcbiAqIE5vIG5hbWVkIGV4cG9ydHMgYXJlIHByb3ZpZGVkXG4gKlxuICogRmlsZXMgZW5kaW5nIGluIFwiLmpzb25cIiBhcmUgdHJlYXRlZCBhcyBqc29uIGF1dG9tYXRpY2FsbHkgYnkgU3lzdGVtSlNcbiAqL1xuaG9vaygnaW5zdGFudGlhdGUnLCBmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgIGlmIChsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAnanNvbicgJiYgIXRoaXMuYnVpbGRlcikge1xuICAgICAgdmFyIGVudHJ5ID0gbG9hZC5tZXRhZGF0YS5lbnRyeSA9IGNyZWF0ZUVudHJ5KCk7XG4gICAgICBlbnRyeS5kZXBzID0gW107XG4gICAgICBlbnRyeS5leGVjdXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9hZC5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEpTT04gZmlsZSBcIiArIGxvYWQubmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufSlcblxuLypcbiBFeHRlbmQgY29uZmlnIG1lcmdpbmcgb25lIGRlZXAgb25seVxuXG4gIGxvYWRlci5jb25maWcoe1xuICAgIHNvbWU6ICdyYW5kb20nLFxuICAgIGNvbmZpZzogJ2hlcmUnLFxuICAgIGRlZXA6IHtcbiAgICAgIGNvbmZpZzogeyB0b286ICd0b28nIH1cbiAgICB9XG4gIH0pO1xuXG4gIDw9PlxuXG4gIGxvYWRlci5zb21lID0gJ3JhbmRvbSc7XG4gIGxvYWRlci5jb25maWcgPSAnaGVyZSdcbiAgbG9hZGVyLmRlZXAgPSBsb2FkZXIuZGVlcCB8fCB7fTtcbiAgbG9hZGVyLmRlZXAuY29uZmlnID0geyB0b286ICd0b28nIH07XG5cblxuICBOb3JtYWxpemVzIG1ldGEgYW5kIHBhY2thZ2UgY29uZmlncyBhbGxvd2luZyBmb3I6XG5cbiAgU3lzdGVtSlMuY29uZmlnKHtcbiAgICBtZXRhOiB7XG4gICAgICAnLi9pbmRleC5qcyc6IHt9XG4gICAgfVxuICB9KTtcblxuICBUbyBiZWNvbWVcblxuICBTeXN0ZW1KUy5tZXRhWydodHRwczovL3RoaXNzaXRlLmNvbS9pbmRleC5qcyddID0ge307XG5cbiAgRm9yIGVhc3kgbm9ybWFsaXphdGlvbiBjYW5vbmljYWxpemF0aW9uIHdpdGggbGF0ZXN0IFVSTCBzdXBwb3J0LlxuXG4qL1xuU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlLmVudiA9ICdkZXZlbG9wbWVudCc7XG5cblN5c3RlbUpTTG9hZGVyLnByb3RvdHlwZS5jb25maWcgPSBmdW5jdGlvbihjZmcpIHtcbiAgdmFyIGxvYWRlciA9IHRoaXM7XG5cbiAgaWYgKCd3YXJuaW5ncycgaW4gY2ZnKVxuICAgIGxvYWRlci53YXJuaW5ncyA9IGNmZy53YXJuaW5ncztcblxuICAvLyB0cmFuc3BpbGVyIGRlcHJlY2F0aW9uIHBhdGhcbiAgaWYgKGNmZy50cmFuc3BpbGVyUnVudGltZSA9PT0gZmFsc2UpXG4gICAgbG9hZGVyLl9sb2FkZXIubG9hZGVkVHJhbnNwaWxlclJ1bnRpbWUgPSB0cnVlO1xuXG4gIC8vIGFsd2F5cyBjb25maWd1cmUgYmFzZVVSTCBmaXJzdFxuICBpZiAoY2ZnLmJhc2VVUkwpIHtcbiAgICB2YXIgaGFzQ29uZmlnID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gY2hlY2tIYXNDb25maWcob2JqKSB7XG4gICAgICBmb3IgKHZhciBwIGluIG9iailcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwKSlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrSGFzQ29uZmlnKGxvYWRlci5wYWNrYWdlcykgfHwgY2hlY2tIYXNDb25maWcobG9hZGVyLm1ldGEpIHx8IGNoZWNrSGFzQ29uZmlnKGxvYWRlci5kZXBDYWNoZSkgfHwgY2hlY2tIYXNDb25maWcobG9hZGVyLmJ1bmRsZXMpIHx8IGNoZWNrSGFzQ29uZmlnKGxvYWRlci5wYWNrYWdlQ29uZmlnUGF0aHMpKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5jb3JyZWN0IGNvbmZpZ3VyYXRpb24gb3JkZXIuIFRoZSBiYXNlVVJMIG11c3QgYmUgY29uZmlndXJlZCB3aXRoIHRoZSBmaXJzdCBTeXN0ZW1KUy5jb25maWcgY2FsbC4nKTtcblxuICAgIGxvYWRlci5iYXNlVVJMID0gY2ZnLmJhc2VVUkw7XG5cbiAgICAvLyBzYW5pdGl6ZSBiYXNlVVJMXG4gICAgZ2V0QmFzZVVSTE9iai5jYWxsKGxvYWRlcik7XG4gIH1cblxuICBpZiAoY2ZnLmRlZmF1bHRKU0V4dGVuc2lvbnMpIHtcbiAgICBsb2FkZXIuZGVmYXVsdEpTRXh0ZW5zaW9ucyA9IGNmZy5kZWZhdWx0SlNFeHRlbnNpb25zO1xuICAgIHdhcm4uY2FsbChsb2FkZXIsICdUaGUgZGVmYXVsdEpTRXh0ZW5zaW9ucyBjb25maWd1cmF0aW9uIG9wdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgcGFja2FnZXMgY29uZmlndXJhdGlvbiBpbnN0ZWFkLicpO1xuICB9XG5cbiAgaWYgKGNmZy5wbHVnaW5GaXJzdClcbiAgICBsb2FkZXIucGx1Z2luRmlyc3QgPSBjZmcucGx1Z2luRmlyc3Q7XG5cbiAgaWYgKGNmZy5wcm9kdWN0aW9uKVxuICAgIHNldFByb2R1Y3Rpb24uY2FsbChsb2FkZXIsIHRydWUpO1xuXG4gIGlmIChjZmcucGF0aHMpIHtcbiAgICBmb3IgKHZhciBwIGluIGNmZy5wYXRocylcbiAgICAgIGxvYWRlci5wYXRoc1twXSA9IGNmZy5wYXRoc1twXTtcbiAgfVxuXG4gIGlmIChjZmcubWFwKSB7XG4gICAgdmFyIG9iak1hcHMgPSAnJztcbiAgICBmb3IgKHZhciBwIGluIGNmZy5tYXApIHtcbiAgICAgIHZhciB2ID0gY2ZnLm1hcFtwXTtcblxuICAgICAgLy8gb2JqZWN0IG1hcCBiYWNrd2FyZHMtY29tcGF0IGludG8gcGFja2FnZXMgY29uZmlndXJhdGlvblxuICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBvYmpNYXBzICs9IChvYmpNYXBzLmxlbmd0aCA/ICcsICcgOiAnJykgKyAnXCInICsgcCArICdcIic7XG5cbiAgICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHAuc3Vic3RyKHAubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICAgIHZhciBwcm9wID0gbG9hZGVyLmRlY2Fub25pY2FsaXplKHApO1xuICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIHByb3Auc3Vic3RyKHByb3AubGVuZ3RoIC0gMywgMykgPT0gJy5qcycpXG4gICAgICAgICAgcHJvcCA9IHByb3Auc3Vic3RyKDAsIHByb3AubGVuZ3RoIC0gMyk7XG5cbiAgICAgICAgLy8gaWYgYSBwYWNrYWdlIG1haW4sIHJldmVydCBpdFxuICAgICAgICB2YXIgcGtnTWF0Y2ggPSAnJztcbiAgICAgICAgZm9yICh2YXIgcGtnIGluIGxvYWRlci5wYWNrYWdlcykge1xuICAgICAgICAgIGlmIChwcm9wLnN1YnN0cigwLCBwa2cubGVuZ3RoKSA9PSBwa2cgXG4gICAgICAgICAgICAgICYmICghcHJvcFtwa2cubGVuZ3RoXSB8fCBwcm9wW3BrZy5sZW5ndGhdID09ICcvJykgXG4gICAgICAgICAgICAgICYmIHBrZ01hdGNoLnNwbGl0KCcvJykubGVuZ3RoIDwgcGtnLnNwbGl0KCcvJykubGVuZ3RoKVxuICAgICAgICAgICAgcGtnTWF0Y2ggPSBwa2c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBrZ01hdGNoICYmIGxvYWRlci5wYWNrYWdlc1twa2dNYXRjaF0ubWFpbilcbiAgICAgICAgICBwcm9wID0gcHJvcC5zdWJzdHIoMCwgcHJvcC5sZW5ndGggLSBsb2FkZXIucGFja2FnZXNbcGtnTWF0Y2hdLm1haW4ubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgdmFyIHBrZyA9IGxvYWRlci5wYWNrYWdlc1twcm9wXSA9IGxvYWRlci5wYWNrYWdlc1twcm9wXSB8fCB7fTtcbiAgICAgICAgcGtnLm1hcCA9IHY7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9hZGVyLm1hcFtwXSA9IHY7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvYmpNYXBzKVxuICAgICAgd2Fybi5jYWxsKGxvYWRlciwgJ1RoZSBtYXAgY29uZmlndXJhdGlvbiBmb3IgJyArIG9iak1hcHMgKyAnIHVzZXMgb2JqZWN0IHN1Ym1hcHMsIHdoaWNoIGlzIGRlcHJlY2F0ZWQgaW4gZ2xvYmFsIG1hcC5cXG5VcGRhdGUgdGhpcyB0byB1c2UgcGFja2FnZSBjb250ZXh0dWFsIG1hcCB3aXRoIGNvbmZpZ3MgbGlrZSBTeXN0ZW1KUy5jb25maWcoeyBwYWNrYWdlczogeyBcIicgKyBwICsgJ1wiOiB7IG1hcDogey4uLn0gfSB9IH0pLicpO1xuICB9XG5cbiAgaWYgKGNmZy5wYWNrYWdlQ29uZmlnUGF0aHMpIHtcbiAgICB2YXIgcGFja2FnZUNvbmZpZ1BhdGhzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjZmcucGFja2FnZUNvbmZpZ1BhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGF0aCA9IGNmZy5wYWNrYWdlQ29uZmlnUGF0aHNbaV07XG4gICAgICB2YXIgcGFja2FnZUxlbmd0aCA9IE1hdGgubWF4KHBhdGgubGFzdEluZGV4T2YoJyonKSArIDEsIHBhdGgubGFzdEluZGV4T2YoJy8nKSk7XG4gICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgcGF0aC5zdWJzdHIocGFja2FnZUxlbmd0aCAtIDMsIDMpICE9ICcuanMnO1xuICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBsb2FkZXIuZGVjYW5vbmljYWxpemUocGF0aC5zdWJzdHIoMCwgcGFja2FnZUxlbmd0aCkpO1xuICAgICAgaWYgKGRlZmF1bHRKU0V4dGVuc2lvbiAmJiBub3JtYWxpemVkLnN1YnN0cihub3JtYWxpemVkLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5zdWJzdHIoMCwgbm9ybWFsaXplZC5sZW5ndGggLSAzKTtcbiAgICAgIHBhY2thZ2VDb25maWdQYXRoc1tpXSA9IG5vcm1hbGl6ZWQgKyBwYXRoLnN1YnN0cihwYWNrYWdlTGVuZ3RoKTtcbiAgICB9XG4gICAgbG9hZGVyLnBhY2thZ2VDb25maWdQYXRocyA9IHBhY2thZ2VDb25maWdQYXRocztcbiAgfVxuXG4gIGlmIChjZmcuYnVuZGxlcykge1xuICAgIGZvciAodmFyIHAgaW4gY2ZnLmJ1bmRsZXMpIHtcbiAgICAgIHZhciBidW5kbGUgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2ZnLmJ1bmRsZXNbcF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIGNmZy5idW5kbGVzW3BdW2ldLnN1YnN0cihjZmcuYnVuZGxlc1twXVtpXS5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRCdW5kbGVEZXAgPSBsb2FkZXIuZGVjYW5vbmljYWxpemUoY2ZnLmJ1bmRsZXNbcF1baV0pO1xuICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIG5vcm1hbGl6ZWRCdW5kbGVEZXAuc3Vic3RyKG5vcm1hbGl6ZWRCdW5kbGVEZXAubGVuZ3RoIC0gMywgMykgPT0gJy5qcycpXG4gICAgICAgICAgbm9ybWFsaXplZEJ1bmRsZURlcCA9IG5vcm1hbGl6ZWRCdW5kbGVEZXAuc3Vic3RyKDAsIG5vcm1hbGl6ZWRCdW5kbGVEZXAubGVuZ3RoIC0gMyk7XG4gICAgICAgIGJ1bmRsZS5wdXNoKG5vcm1hbGl6ZWRCdW5kbGVEZXApO1xuICAgICAgfVxuICAgICAgbG9hZGVyLmJ1bmRsZXNbcF0gPSBidW5kbGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNmZy5wYWNrYWdlcykge1xuICAgIGZvciAodmFyIHAgaW4gY2ZnLnBhY2thZ2VzKSB7XG4gICAgICBpZiAocC5tYXRjaCgvXihbXlxcL10rOik/XFwvXFwvJC8pKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIicgKyBwICsgJ1wiIGlzIG5vdCBhIHZhbGlkIHBhY2thZ2UgbmFtZS4nKTtcblxuICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHAuc3Vic3RyKHAubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICB2YXIgcHJvcCA9IGNvcmVSZXNvbHZlLmNhbGwobG9hZGVyLCBwKTtcbiAgICAgIGlmIChkZWZhdWx0SlNFeHRlbnNpb24gJiYgcHJvcC5zdWJzdHIocHJvcC5sZW5ndGggLSAzLCAzKSA9PSAnLmpzJylcbiAgICAgICAgcHJvcCA9IHByb3Auc3Vic3RyKDAsIHByb3AubGVuZ3RoIC0gMyk7XG5cbiAgICAgIC8vIGFsbG93IHRyYWlsaW5nIHNsYXNoIGluIHBhY2thZ2VzXG4gICAgICBpZiAocHJvcFtwcm9wLmxlbmd0aCAtIDFdID09ICcvJylcbiAgICAgICAgcHJvcCA9IHByb3Auc3Vic3RyKDAsIHByb3AubGVuZ3RoIC0gMSk7XG5cbiAgICAgIGxvYWRlci5wYWNrYWdlc1twcm9wXSA9IGxvYWRlci5wYWNrYWdlc1twcm9wXSB8fCB7fTtcblxuICAgICAgLy8gbWV0YSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgaWYgKGNmZy5wYWNrYWdlc1twXS5tb2R1bGVzKSB7XG4gICAgICAgIHdhcm4uY2FsbChsb2FkZXIsICdQYWNrYWdlICcgKyBwICsgJyBpcyBjb25maWd1cmVkIHdpdGggXCJtb2R1bGVzXCIsIHdoaWNoIGlzIGRlcHJlY2F0ZWQgYXMgaXQgaGFzIGJlZW4gcmVuYW1lZCB0byBcIm1ldGFcIi4nKTtcbiAgICAgICAgY2ZnLnBhY2thZ2VzW3BdLm1ldGEgPSBjZmcucGFja2FnZXNbcF0ubW9kdWxlcztcbiAgICAgICAgZGVsZXRlIGNmZy5wYWNrYWdlc1twXS5tb2R1bGVzO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBxIGluIGNmZy5wYWNrYWdlc1twXSlcbiAgICAgICAgaWYgKGluZGV4T2YuY2FsbChwYWNrYWdlUHJvcGVydGllcywgcSkgPT0gLTEpXG4gICAgICAgICAgd2Fybi5jYWxsKGxvYWRlciwgJ1wiJyArIHEgKyAnXCIgaXMgbm90IGEgdmFsaWQgcGFja2FnZSBjb25maWd1cmF0aW9uIG9wdGlvbiBpbiBwYWNrYWdlICcgKyBwKTtcblxuICAgICAgZXh0ZW5kTWV0YShsb2FkZXIucGFja2FnZXNbcHJvcF0sIGNmZy5wYWNrYWdlc1twXSk7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgYyBpbiBjZmcpIHtcbiAgICB2YXIgdiA9IGNmZ1tjXTtcblxuICAgIGlmIChjID09ICdiYXNlVVJMJyB8fCBjID09ICdtYXAnIHx8IGMgPT0gJ3BhY2thZ2VzJyB8fCBjID09ICdidW5kbGVzJyB8fCBjID09ICdwYXRocycgfHwgYyA9PSAnd2FybmluZ3MnIHx8IGMgPT0gJ3BhY2thZ2VDb25maWdQYXRocycpXG4gICAgICBjb250aW51ZTtcblxuICAgIGlmICh0eXBlb2YgdiAhPSAnb2JqZWN0JyB8fCB2IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGxvYWRlcltjXSA9IHY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbG9hZGVyW2NdID0gbG9hZGVyW2NdIHx8IHt9O1xuXG4gICAgICBmb3IgKHZhciBwIGluIHYpIHtcbiAgICAgICAgLy8gYmFzZS1sZXZlbCB3aWxkY2FyZCBtZXRhIGRvZXMgbm90IG5vcm1hbGl6ZSB0byByZXRhaW4gY2F0Y2gtYWxsIHF1YWxpdHlcbiAgICAgICAgaWYgKGMgPT0gJ21ldGEnICYmIHBbMF0gPT0gJyonKSB7XG4gICAgICAgICAgbG9hZGVyW2NdW3BdID0gdltwXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09ICdtZXRhJykge1xuICAgICAgICAgIC8vIG1ldGEgY2FuIGdvIHRocm91Z2ggZ2xvYmFsIG1hcFxuICAgICAgICAgIGxvYWRlcltjXVtjb3JlUmVzb2x2ZS5jYWxsKGxvYWRlciwgcCldID0gdltwXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09ICdkZXBDYWNoZScpIHtcbiAgICAgICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgcC5zdWJzdHIocC5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcbiAgICAgICAgICB2YXIgcHJvcCA9IGxvYWRlci5kZWNhbm9uaWNhbGl6ZShwKTtcbiAgICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIHByb3Auc3Vic3RyKHByb3AubGVuZ3RoIC0gMywgMykgPT0gJy5qcycpXG4gICAgICAgICAgICBwcm9wID0gcHJvcC5zdWJzdHIoMCwgcHJvcC5sZW5ndGggLSAzKTtcbiAgICAgICAgICBsb2FkZXJbY11bcHJvcF0gPSB2W3BdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvYWRlcltjXVtwXSA9IHZbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07LypcbiAqIFBhY2thZ2UgQ29uZmlndXJhdGlvbiBFeHRlbnNpb25cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIFN5c3RlbUpTLnBhY2thZ2VzID0ge1xuICogICBqcXVlcnk6IHtcbiAqICAgICBiYXNlUGF0aDogJ2xpYicsIC8vIG9wdGlvbmFsbHkgb25seSB1c2UgYSBzdWJkaXJlY3Rvcnkgd2l0aGluIHRoZSBwYWNrYWdlXG4gKiAgICAgbWFpbjogJ2luZGV4LmpzJywgLy8gd2hlbiBub3Qgc2V0LCBwYWNrYWdlIG5hbWUgaXMgcmVxdWVzdGVkIGRpcmVjdGx5XG4gKiAgICAgZm9ybWF0OiAnYW1kJyxcbiAqICAgICBkZWZhdWx0RXh0ZW5zaW9uOiAndHMnLCAvLyBkZWZhdWx0cyB0byAnanMnLCBjYW4gYmUgc2V0IHRvIGZhbHNlXG4gKiAgICAgbW9kdWxlczoge1xuICogICAgICAgJyoudHMnOiB7XG4gKiAgICAgICAgIGxvYWRlcjogJ3R5cGVzY3JpcHQnXG4gKiAgICAgICB9LFxuICogICAgICAgJ3ZlbmRvci9zaXp6bGUuanMnOiB7XG4gKiAgICAgICAgIGZvcm1hdDogJ2dsb2JhbCdcbiAqICAgICAgIH1cbiAqICAgICB9LFxuICogICAgIG1hcDoge1xuICogICAgICAgIC8vIG1hcCBpbnRlcm5hbCByZXF1aXJlKCdzaXp6bGUnKSB0byBsb2NhbCByZXF1aXJlKCcuL3ZlbmRvci9zaXp6bGUnKVxuICogICAgICAgIHNpenpsZTogJy4vdmVuZG9yL3NpenpsZS5qcycsXG4gKiAgICAgICAgLy8gbWFwIGFueSBpbnRlcm5hbCBvciBleHRlcm5hbCByZXF1aXJlIG9mICdqcXVlcnkvdmVuZG9yL2Fub3RoZXInIHRvICdhbm90aGVyL2luZGV4LmpzJ1xuICogICAgICAgICcuL3ZlbmRvci9hbm90aGVyLmpzJzogJy4vYW5vdGhlci9pbmRleC5qcycsXG4gKiAgICAgICAgLy8gdGVzdC5qcyAvIHRlc3QgLT4gbGliL3Rlc3QuanNcbiAqICAgICAgICAnLi90ZXN0LmpzJzogJy4vbGliL3Rlc3QuanMnLFxuICpcbiAqICAgICAgICAvLyBlbnZpcm9ubWVudC1zcGVjaWZpYyBtYXAgY29uZmlndXJhdGlvbnNcbiAqICAgICAgICAnLi9pbmRleC5qcyc6IHtcbiAqICAgICAgICAgICd+YnJvd3Nlcic6ICcuL2luZGV4LW5vZGUuanMnXG4gKiAgICAgICAgfVxuICogICAgIH0sXG4gKiAgICAgLy8gYWxsb3dzIGZvciBzZXR0aW5nIHBhY2thZ2UtcHJlZml4ZWQgZGVwQ2FjaGVcbiAqICAgICAvLyBrZXlzIGFyZSBub3JtYWxpemVkIG1vZHVsZSBuYW1lcyByZWxhdGl2ZSB0byB0aGUgcGFja2FnZSBpdHNlbGZcbiAqICAgICBkZXBDYWNoZToge1xuICogICAgICAgLy8gaW1wb3J0ICdwYWNrYWdlL2luZGV4LmpzJyBsb2FkcyBpbiBwYXJhbGxlbCBwYWNrYWdlL2xpYi90ZXN0LmpzLHBhY2thZ2UvdmVuZG9yL3NpenpsZS5qc1xuICogICAgICAgJy4vaW5kZXguanMnOiBbJy4vdGVzdCddLFxuICogICAgICAgJy4vdGVzdC5qcyc6IFsnZXh0ZXJuYWwtZGVwJ10sXG4gKiAgICAgICAnZXh0ZXJuYWwtZGVwL3BhdGguanMnOiBbJy4vYW5vdGhlci5qcyddXG4gKiAgICAgfVxuICogICB9XG4gKiB9O1xuICpcbiAqIFRoZW46XG4gKiAgIGltcG9ydCAnanF1ZXJ5JyAgICAgICAgICAgICAgICAgICAgICAgLT4ganF1ZXJ5L2luZGV4LmpzXG4gKiAgIGltcG9ydCAnanF1ZXJ5L3N1Ym1vZHVsZScgICAgICAgICAgICAgLT4ganF1ZXJ5L3N1Ym1vZHVsZS5qc1xuICogICBpbXBvcnQgJ2pxdWVyeS9zdWJtb2R1bGUudHMnICAgICAgICAgIC0+IGpxdWVyeS9zdWJtb2R1bGUudHMgbG9hZGVkIGFzIHR5cGVzY3JpcHRcbiAqICAgaW1wb3J0ICdqcXVlcnkvdmVuZG9yL2Fub3RoZXInICAgICAgICAtPiBhbm90aGVyL2luZGV4LmpzXG4gKlxuICogRGV0YWlsZWQgQmVoYXZpb3Vyc1xuICogLSBtYWluIGNhbiBoYXZlIGEgbGVhZGluZyBcIi4vXCIgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHlcbiAqIC0gbWFwIGFuZCBkZWZhdWx0RXh0ZW5zaW9uIGFyZSBhcHBsaWVkIHRvIHRoZSBtYWluXG4gKiAtIGRlZmF1bHRFeHRlbnNpb24gYWRkcyB0aGUgZXh0ZW5zaW9uIG9ubHkgaWYgdGhlIGV4YWN0IGV4dGVuc2lvbiBpcyBub3QgcHJlc2VudFxuICogLSBkZWZhdWx0SlNFeHRlbnNpb25zIGFwcGxpZXMgYWZ0ZXIgbWFwIHdoZW4gZGVmYXVsdEV4dGVuc2lvbiBpcyBub3Qgc2V0XG4gKiAtIGlmIGEgbWV0YSB2YWx1ZSBpcyBhdmFpbGFibGUgZm9yIGEgbW9kdWxlLCBtYXAgYW5kIGRlZmF1bHRFeHRlbnNpb24gYXJlIHNraXBwZWRcbiAqIC0gbGlrZSBnbG9iYWwgbWFwLCBwYWNrYWdlIG1hcCBhbHNvIGFwcGxpZXMgdG8gc3VicGF0aHMgKHNpenpsZS94LCAuL3ZlbmRvci9hbm90aGVyL3N1YilcbiAqIC0gY29uZGl0aW9uIG1vZHVsZSBtYXAgaXMgJ0BlbnYnIG1vZHVsZSBpbiBwYWNrYWdlIG9yICdAc3lzdGVtLWVudicgZ2xvYmFsbHlcbiAqIC0gbWFwIHRhcmdldHMgc3VwcG9ydCBjb25kaXRpb25hbCBpbnRlcnBvbGF0aW9uICgnLi94JzogJy4veC4je3xlbnZ9LmpzJylcbiAqIC0gaW50ZXJuYWwgcGFja2FnZSBtYXAgdGFyZ2V0cyBjYW5ub3QgdXNlIGJvb2xlYW4gY29uZGl0aW9uYWxzXG4gKlxuICogSW4gYWRkaXRpb24sIHRoZSBmb2xsb3dpbmcgbW9kdWxlcyBwcm9wZXJ0aWVzIHdpbGwgYmUgYWxsb3dlZCB0byBiZSBwYWNrYWdlXG4gKiAtcmVsYXRpdmUgYXMgd2VsbCBpbiB0aGUgcGFja2FnZSBtb2R1bGUgY29uZmlnOlxuICpcbiAqICAgLSBsb2FkZXJcbiAqICAgLSBhbGlhc1xuICpcbiAqXG4gKiBQYWNrYWdlIENvbmZpZ3VyYXRpb24gTG9hZGluZ1xuICpcbiAqIE5vdCBhbGwgcGFja2FnZXMgbWF5IGFscmVhZHkgaGF2ZSB0aGVpciBjb25maWd1cmF0aW9uIHByZXNlbnQgaW4gdGhlIFN5c3RlbSBjb25maWdcbiAqIEZvciB0aGVzZSBjYXNlcywgYSBsaXN0IG9mIHBhY2thZ2VDb25maWdQYXRocyBjYW4gYmUgcHJvdmlkZWQsIHdoaWNoIHdoZW4gbWF0Y2hlZCBhZ2FpbnN0XG4gKiBhIHJlcXVlc3QsIHdpbGwgZmlyc3QgcmVxdWVzdCBhIFwiLmpzb25cIiBmaWxlIGJ5IHRoZSBwYWNrYWdlIG5hbWUgdG8gZGVyaXZlIHRoZSBwYWNrYWdlXG4gKiBjb25maWd1cmF0aW9uIGZyb20uIFRoaXMgYWxsb3dzIGR5bmFtaWMgbG9hZGluZyBvZiBub24tcHJlZGV0ZXJtaW5lZCBjb2RlLCBhIGtleSB1c2VcbiAqIGNhc2UgaW4gU3lzdGVtSlMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgIFN5c3RlbUpTLnBhY2thZ2VDb25maWdQYXRocyA9IFsncGFja2FnZXMvdGVzdC9wYWNrYWdlLmpzb24nLCAncGFja2FnZXMvKi5qc29uJ107XG4gKlxuICogICAvLyB3aWxsIGZpcnN0IHJlcXVlc3QgJ3BhY2thZ2VzL25ldy1wYWNrYWdlL3BhY2thZ2UuanNvbicgZm9yIHRoZSBwYWNrYWdlIGNvbmZpZ1xuICogICAvLyBiZWZvcmUgY29tcGxldGluZyB0aGUgcGFja2FnZSByZXF1ZXN0IHRvICdwYWNrYWdlcy9uZXctcGFja2FnZS9wYXRoJ1xuICogICBTeXN0ZW1KUy5pbXBvcnQoJ3BhY2thZ2VzL25ldy1wYWNrYWdlL3BhdGgnKTtcbiAqXG4gKiAgIC8vIHdpbGwgZmlyc3QgcmVxdWVzdCAncGFja2FnZXMvdGVzdC9wYWNrYWdlLmpzb24nIGJlZm9yZSB0aGUgbWFpblxuICogICBTeXN0ZW1KUy5pbXBvcnQoJ3BhY2thZ2VzL3Rlc3QnKTtcbiAqXG4gKiBXaGVuIGEgcGFja2FnZSBtYXRjaGVzIHBhY2thZ2VDb25maWdQYXRocywgaXQgd2lsbCBhbHdheXMgc2VuZCBhIGNvbmZpZyByZXF1ZXN0IGZvclxuICogdGhlIHBhY2thZ2UgY29uZmlndXJhdGlvbi5cbiAqIFRoZSBwYWNrYWdlIG5hbWUgaXRzZWxmIGlzIHRha2VuIHRvIGJlIHRoZSBtYXRjaCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBsYXN0IHdpbGRjYXJkXG4gKiBvciB0cmFpbGluZyBzbGFzaC5cbiAqIFRoZSBtb3N0IHNwZWNpZmljIHBhY2thZ2UgY29uZmlnIHBhdGggd2lsbCBiZSB1c2VkLlxuICogQW55IGV4aXN0aW5nIHBhY2thZ2UgY29uZmlndXJhdGlvbnMgZm9yIHRoZSBwYWNrYWdlIHdpbGwgZGVlcGx5IG1lcmdlIHdpdGggdGhlXG4gKiBwYWNrYWdlIGNvbmZpZywgd2l0aCB0aGUgZXhpc3RpbmcgcGFja2FnZSBjb25maWd1cmF0aW9ucyB0YWtpbmcgcHJlZmVyZW5jZS5cbiAqIFRvIG9wdC1vdXQgb2YgdGhlIHBhY2thZ2UgY29uZmlndXJhdGlvbiByZXF1ZXN0IGZvciBhIHBhY2thZ2UgdGhhdCBtYXRjaGVzXG4gKiBwYWNrYWdlQ29uZmlnUGF0aHMsIHVzZSB0aGUgeyBjb25maWd1cmVkOiB0cnVlIH0gcGFja2FnZSBjb25maWcgb3B0aW9uLlxuICpcbiAqL1xuKGZ1bmN0aW9uKCkge1xuXG4gIGhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnBhY2thZ2VzID0ge307XG4gICAgICB0aGlzLnBhY2thZ2VDb25maWdQYXRocyA9IFtdO1xuICAgIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFBhY2thZ2UobG9hZGVyLCBub3JtYWxpemVkKSB7XG4gICAgLy8gdXNlIG1vc3Qgc3BlY2lmaWMgcGFja2FnZVxuICAgIHZhciBjdXJQa2csIGN1clBrZ0xlbiA9IDAsIHBrZ0xlbjtcbiAgICBmb3IgKHZhciBwIGluIGxvYWRlci5wYWNrYWdlcykge1xuICAgICAgaWYgKG5vcm1hbGl6ZWQuc3Vic3RyKDAsIHAubGVuZ3RoKSA9PT0gcCAmJiAobm9ybWFsaXplZC5sZW5ndGggPT09IHAubGVuZ3RoIHx8IG5vcm1hbGl6ZWRbcC5sZW5ndGhdID09PSAnLycpKSB7XG4gICAgICAgIHBrZ0xlbiA9IHAuc3BsaXQoJy8nKS5sZW5ndGg7XG4gICAgICAgIGlmIChwa2dMZW4gPiBjdXJQa2dMZW4pIHtcbiAgICAgICAgICBjdXJQa2cgPSBwO1xuICAgICAgICAgIGN1clBrZ0xlbiA9IHBrZ0xlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VyUGtnO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmFzZVBhdGgocGtnKSB7XG4gICAgLy8gc2FuaXRpemUgYmFzZVBhdGhcbiAgICB2YXIgYmFzZVBhdGggPSBwa2cuYmFzZVBhdGggJiYgcGtnLmJhc2VQYXRoICE9ICcuJyA/IHBrZy5iYXNlUGF0aCA6ICcnO1xuICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgaWYgKGJhc2VQYXRoLnN1YnN0cigwLCAyKSA9PSAnLi8nKVxuICAgICAgICBiYXNlUGF0aCA9IGJhc2VQYXRoLnN1YnN0cigyKTtcbiAgICAgIGlmIChiYXNlUGF0aFtiYXNlUGF0aC5sZW5ndGggLSAxXSAhPSAnLycpXG4gICAgICAgIGJhc2VQYXRoICs9ICcvJztcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VQYXRoO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIHN1YlBhdGgsIHNraXBFeHRlbnNpb25zKSB7XG4gICAgLy8gZG9uJ3QgYXBwbHkgZXh0ZW5zaW9ucyB0byBmb2xkZXJzIG9yIGlmIGRlZmF1bHRFeHRlbnNpb24gPSBmYWxzZVxuICAgIGlmICghc3ViUGF0aCB8fCBzdWJQYXRoW3N1YlBhdGgubGVuZ3RoIC0gMV0gPT0gJy8nIHx8IHNraXBFeHRlbnNpb25zIHx8IHBrZy5kZWZhdWx0RXh0ZW5zaW9uID09PSBmYWxzZSlcbiAgICAgIHJldHVybiBzdWJQYXRoO1xuXG4gICAgLy8gTkIgYXJlIHlvdSBzdXJlIGFib3V0IHRoaXM/XG4gICAgLy8gc2tpcCBpZiB3ZSBoYXZlIGludGVycG9sYXRpb24gY29uZGl0aW9uYWwgc3ludGF4IGluIHN1YlBhdGg/XG4gICAgaWYgKHN1YlBhdGgubWF0Y2goaW50ZXJwb2xhdGlvblJlZ0V4KSlcbiAgICAgIHJldHVybiBzdWJQYXRoO1xuXG4gICAgdmFyIG1ldGFNYXRjaCA9IGZhbHNlO1xuXG4gICAgLy8gZXhhY3QgbWV0YSBvciBtZXRhIHdpdGggYW55IGNvbnRlbnQgYWZ0ZXIgdGhlIGxhc3Qgd2lsZGNhcmQgc2tpcHMgZXh0ZW5zaW9uXG4gICAgaWYgKHBrZy5tZXRhKVxuICAgICAgZ2V0TWV0YU1hdGNoZXMocGtnLm1ldGEsIHN1YlBhdGgsIGZ1bmN0aW9uKG1ldGFQYXR0ZXJuLCBtYXRjaE1ldGEsIG1hdGNoRGVwdGgpIHtcbiAgICAgICAgaWYgKG1hdGNoRGVwdGggPT0gMCB8fCBtZXRhUGF0dGVybi5sYXN0SW5kZXhPZignKicpICE9IG1ldGFQYXR0ZXJuLmxlbmd0aCAtIDEpXG4gICAgICAgICAgcmV0dXJuIG1ldGFNYXRjaCA9IHRydWU7XG4gICAgICB9KTtcblxuICAgIC8vIGV4YWN0IGdsb2JhbCBtZXRhIG9yIG1ldGEgd2l0aCBhbnkgY29udGVudCBhZnRlciB0aGUgbGFzdCB3aWxkY2FyZCBza2lwcyBleHRlbnNpb25cbiAgICBpZiAoIW1ldGFNYXRjaCAmJiBsb2FkZXIubWV0YSlcbiAgICAgIGdldE1ldGFNYXRjaGVzKGxvYWRlci5tZXRhLCBwa2dOYW1lICsgJy8nICsgYmFzZVBhdGggKyBzdWJQYXRoLCBmdW5jdGlvbihtZXRhUGF0dGVybiwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoKSB7XG4gICAgICAgIGlmIChtYXRjaERlcHRoID09IDAgfHwgbWV0YVBhdHRlcm4ubGFzdEluZGV4T2YoJyonKSAhPSBtZXRhUGF0dGVybi5sZW5ndGggLSAxKVxuICAgICAgICAgIHJldHVybiBtZXRhTWF0Y2ggPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICBpZiAobWV0YU1hdGNoKVxuICAgICAgcmV0dXJuIHN1YlBhdGg7XG5cbiAgICAvLyB3b3JrIG91dCB3aGF0IHRoZSBkZWZhdWx0RXh0ZW5zaW9uIGlzIGFuZCBhZGQgaWYgbm90IHRoZXJlIGFscmVhZHlcbiAgICAvLyBOQiByZWNvbnNpZGVyIGlmIGRlZmF1bHQgc2hvdWxkIHJlYWxseSBiZSBcIi5qc1wiP1xuICAgIHZhciBkZWZhdWx0RXh0ZW5zaW9uID0gJy4nICsgKHBrZy5kZWZhdWx0RXh0ZW5zaW9uIHx8ICdqcycpO1xuICAgIGlmIChzdWJQYXRoLnN1YnN0cihzdWJQYXRoLmxlbmd0aCAtIGRlZmF1bHRFeHRlbnNpb24ubGVuZ3RoKSAhPSBkZWZhdWx0RXh0ZW5zaW9uKVxuICAgICAgcmV0dXJuIHN1YlBhdGggKyBkZWZhdWx0RXh0ZW5zaW9uO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBzdWJQYXRoO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlQYWNrYWdlQ29uZmlnU3luYyhsb2FkZXIsIHBrZywgcGtnTmFtZSwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICAvLyBtYWluXG4gICAgaWYgKCFzdWJQYXRoKSB7XG4gICAgICBpZiAocGtnLm1haW4pXG4gICAgICAgIHN1YlBhdGggPSBwa2cubWFpbi5zdWJzdHIoMCwgMikgPT0gJy4vJyA/IHBrZy5tYWluLnN1YnN0cigyKSA6IHBrZy5tYWluO1xuICAgICAgLy8gYWxzbyBubyBzdWJtYXAgaWYgbmFtZSBpcyBwYWNrYWdlIGl0c2VsZiAoaW1wb3J0ICdwa2cnIC0+ICdwYXRoL3RvL3BrZy5qcycpXG4gICAgICBlbHNlXG4gICAgICAgIC8vIE5CIGNhbiBhZGQgYSBkZWZhdWx0IHBhY2thZ2UgbWFpbiBjb252ZW50aW9uIGhlcmUgd2hlbiBkZWZhdWx0SlNFeHRlbnNpb25zIGlzIGRlcHJlY2F0ZWRcbiAgICAgICAgLy8gaWYgaXQgYmVjb21lcyBpbnRlcm5hbCB0byB0aGUgcGFja2FnZSB0aGVuIGl0IHdvdWxkIG5vIGxvbmdlciBiZSBhbiBleGl0IHBhdGhcbiAgICAgICAgcmV0dXJuIHBrZ05hbWUgKyAobG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgPyAnLmpzJyA6ICcnKTtcbiAgICB9XG5cbiAgICB2YXIgYmFzZVBhdGggPSBnZXRCYXNlUGF0aChwa2cpO1xuXG4gICAgLy8gbWFwIGNvbmZpZyBjaGVja2luZyB3aXRob3V0IHRoZW4gd2l0aCBleHRlbnNpb25zXG4gICAgaWYgKHBrZy5tYXApIHtcbiAgICAgIHZhciBtYXBQYXRoID0gJy4vJyArIHN1YlBhdGg7XG5cbiAgICAgIHZhciBtYXBNYXRjaCA9IGdldE1hcE1hdGNoKHBrZy5tYXAsIG1hcFBhdGgpO1xuXG4gICAgICAvLyB3ZSB0aGVuIGNoZWNrIG1hcCB3aXRoIHRoZSBkZWZhdWx0IGV4dGVuc2lvbiBhZGRpbmdcbiAgICAgIGlmICghbWFwTWF0Y2gpIHtcbiAgICAgICAgbWFwUGF0aCA9ICcuLycgKyBhZGREZWZhdWx0RXh0ZW5zaW9uKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpO1xuICAgICAgICBpZiAobWFwUGF0aCAhPSAnLi8nICsgc3ViUGF0aClcbiAgICAgICAgICBtYXBNYXRjaCA9IGdldE1hcE1hdGNoKHBrZy5tYXAsIG1hcFBhdGgpO1xuICAgICAgfVxuICAgICAgaWYgKG1hcE1hdGNoKVxuICAgICAgICByZXR1cm4gZG9NYXBTeW5jKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgbWFwTWF0Y2gsIG1hcFBhdGgsIHNraXBFeHRlbnNpb25zKTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWwgcGFja2FnZSByZXNvbHV0aW9uXG4gICAgcmV0dXJuIHBrZ05hbWUgKyAnLycgKyBiYXNlUGF0aCArIGFkZERlZmF1bHRFeHRlbnNpb24obG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBzdWJQYXRoLCBza2lwRXh0ZW5zaW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBkb01hcFN5bmMobG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBtYXBNYXRjaCwgcGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICB2YXIgbWFwcGVkID0gcGtnLm1hcFttYXBNYXRjaF07XG5cbiAgICAvLyBpZ25vcmUgY29uZGl0aW9uYWxzIGluIHN5bmNcbiAgICBpZiAodHlwZW9mIG1hcHBlZCAhPSAnc3RyaW5nJylcbiAgICAgIG1hcHBlZCA9IG1hcE1hdGNoID0gcGF0aDtcblxuICAgIC8vIHBhY2thZ2UgbWFwIHRvIG1haW4gLyBiYXNlLWxldmVsXG4gICAgaWYgKG1hcHBlZCA9PSAnLicpXG4gICAgICBtYXBwZWQgPSBwa2dOYW1lO1xuXG4gICAgLy8gaW50ZXJuYWwgcGFja2FnZSBtYXBcbiAgICBlbHNlIGlmIChtYXBwZWQuc3Vic3RyKDAsIDIpID09ICcuLycpXG4gICAgICByZXR1cm4gcGtnTmFtZSArICcvJyArIGJhc2VQYXRoICsgYWRkRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIG1hcHBlZC5zdWJzdHIoMikgKyBwYXRoLnN1YnN0cihtYXBNYXRjaC5sZW5ndGgpLCBza2lwRXh0ZW5zaW9ucyk7XG4gICAgXG4gICAgLy8gZXh0ZXJuYWwgbWFwIHJlZmVyZW5jZVxuICAgIHJldHVybiBsb2FkZXIubm9ybWFsaXplU3luYyhtYXBwZWQgKyBwYXRoLnN1YnN0cihtYXBNYXRjaC5sZW5ndGgpLCBwa2dOYW1lICsgJy8nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5UGFja2FnZUNvbmZpZyhsb2FkZXIsIHBrZywgcGtnTmFtZSwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICAvLyBtYWluXG4gICAgaWYgKCFzdWJQYXRoKSB7XG4gICAgICBpZiAocGtnLm1haW4pXG4gICAgICAgIHN1YlBhdGggPSBwa2cubWFpbi5zdWJzdHIoMCwgMikgPT0gJy4vJyA/IHBrZy5tYWluLnN1YnN0cigyKSA6IHBrZy5tYWluO1xuICAgICAgLy8gYWxzbyBubyBzdWJtYXAgaWYgbmFtZSBpcyBwYWNrYWdlIGl0c2VsZiAoaW1wb3J0ICdwa2cnIC0+ICdwYXRoL3RvL3BrZy5qcycpXG4gICAgICBlbHNlXG4gICAgICAgIC8vIE5CIGNhbiBhZGQgYSBkZWZhdWx0IHBhY2thZ2UgbWFpbiBjb252ZW50aW9uIGhlcmUgd2hlbiBkZWZhdWx0SlNFeHRlbnNpb25zIGlzIGRlcHJlY2F0ZWRcbiAgICAgICAgLy8gaWYgaXQgYmVjb21lcyBpbnRlcm5hbCB0byB0aGUgcGFja2FnZSB0aGVuIGl0IHdvdWxkIG5vIGxvbmdlciBiZSBhbiBleGl0IHBhdGhcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwa2dOYW1lICsgKGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zID8gJy5qcycgOiAnJykpO1xuICAgIH1cblxuICAgIHZhciBiYXNlUGF0aCA9IGdldEJhc2VQYXRoKHBrZyk7XG5cbiAgICAvLyBtYXAgY29uZmlnIGNoZWNraW5nIHdpdGhvdXQgdGhlbiB3aXRoIGV4dGVuc2lvbnNcbiAgICB2YXIgbWFwUGF0aCwgbWFwTWF0Y2g7XG5cbiAgICBpZiAocGtnLm1hcCkge1xuICAgICAgbWFwUGF0aCA9ICcuLycgKyBzdWJQYXRoO1xuICAgICAgbWFwTWF0Y2ggPSBnZXRNYXBNYXRjaChwa2cubWFwLCBtYXBQYXRoKTtcblxuICAgICAgLy8gd2UgdGhlbiBjaGVjayBtYXAgd2l0aCB0aGUgZGVmYXVsdCBleHRlbnNpb24gYWRkaW5nXG4gICAgICBpZiAoIW1hcE1hdGNoKSB7XG4gICAgICAgIG1hcFBhdGggPSAnLi8nICsgYWRkRGVmYXVsdEV4dGVuc2lvbihsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIHN1YlBhdGgsIHNraXBFeHRlbnNpb25zKTtcbiAgICAgICAgaWYgKG1hcFBhdGggIT0gJy4vJyArIHN1YlBhdGgpXG4gICAgICAgICAgbWFwTWF0Y2ggPSBnZXRNYXBNYXRjaChwa2cubWFwLCBtYXBQYXRoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKG1hcE1hdGNoID8gZG9NYXAobG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBtYXBNYXRjaCwgbWFwUGF0aCwgc2tpcEV4dGVuc2lvbnMpIDogUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgLnRoZW4oZnVuY3Rpb24obWFwcGVkKSB7XG4gICAgICBpZiAobWFwcGVkKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1hcHBlZCk7XG5cbiAgICAgIC8vIG5vcm1hbCBwYWNrYWdlIHJlc29sdXRpb24gLyBmYWxsYmFjayByZXNvbHV0aW9uIGZvciBubyBjb25kaXRpb25hbCBtYXRjaFxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwa2dOYW1lICsgJy8nICsgYmFzZVBhdGggKyBhZGREZWZhdWx0RXh0ZW5zaW9uKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgc3ViUGF0aCwgc2tpcEV4dGVuc2lvbnMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvU3RyaW5nTWFwKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgbWFwTWF0Y2gsIG1hcHBlZCwgcGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICAvLyBOQiB0aGUgaW50ZXJwb2xhdGlvbiBjYXNlcyBzaG91bGQgc3RyaWN0bHkgc2tpcCBzdWJzZXF1ZW50IGludGVycG9sYXRpb25cblxuICAgIC8vIHBhY2thZ2UgbWFwIHRvIG1haW4gLyBiYXNlLWxldmVsXG4gICAgaWYgKG1hcHBlZCA9PSAnLicpXG4gICAgICBtYXBwZWQgPSBwa2dOYW1lO1xuICAgIFxuICAgIC8vIGludGVybmFsIHBhY2thZ2UgbWFwXG4gICAgZWxzZSBpZiAobWFwcGVkLnN1YnN0cigwLCAyKSA9PSAnLi8nKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwa2dOYW1lICsgJy8nICsgYmFzZVBhdGggKyBhZGREZWZhdWx0RXh0ZW5zaW9uKGxvYWRlciwgcGtnLCBwa2dOYW1lLCBiYXNlUGF0aCwgbWFwcGVkLnN1YnN0cigyKSArIHBhdGguc3Vic3RyKG1hcE1hdGNoLmxlbmd0aCksIHNraXBFeHRlbnNpb25zKSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlQ29uZGl0aW9uYWwuY2FsbChsb2FkZXIsIG5hbWUsIHBrZ05hbWUgKyAnLycpO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gZXh0ZXJuYWwgbWFwIHJlZmVyZW5jZVxuICAgIC8vIE5CIGRlcHJlY2F0ZSB0aGUgdXNlIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQgaGVyZSAtPiBzaG91bGQgYmUgZnVsbHkgZ2xvYmFsIHJlZmVyZW5jZVxuICAgIHJldHVybiBsb2FkZXIubm9ybWFsaXplKG1hcHBlZCArIHBhdGguc3Vic3RyKG1hcE1hdGNoLmxlbmd0aCksIHBrZ05hbWUgKyAnLycpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9NYXAobG9hZGVyLCBwa2csIHBrZ05hbWUsIGJhc2VQYXRoLCBtYXBNYXRjaCwgcGF0aCwgc2tpcEV4dGVuc2lvbnMpIHtcbiAgICB2YXIgbWFwcGVkID0gcGtnLm1hcFttYXBNYXRjaF07XG5cbiAgICBpZiAodHlwZW9mIG1hcHBlZCA9PSAnc3RyaW5nJylcbiAgICAgIHJldHVybiBkb1N0cmluZ01hcChsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIG1hcE1hdGNoLCBtYXBwZWQsIHBhdGgsIHNraXBFeHRlbnNpb25zKTtcblxuICAgIC8vIHdlIHVzZSBhIHNwZWNpYWwgY29uZGl0aW9uYWwgc3ludGF4IHRvIGFsbG93IHRoZSBidWlsZGVyIHRvIGhhbmRsZSBjb25kaXRpb25hbCBicmFuY2ggcG9pbnRzIGZ1cnRoZXJcbiAgICBpZiAobG9hZGVyLmJ1aWxkZXIpXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBrZ05hbWUgKyAnLyM6JyArIHBhdGgpO1xuXG4gICAgLy8gbWFwIG9iamVjdCAtPiBjb25kaXRpb25hbCBtYXBcbiAgICByZXR1cm4gbG9hZGVyWydpbXBvcnQnXShwa2cubWFwWydAZW52J10gfHwgJ0BzeXN0ZW0tZW52JywgcGtnTmFtZSlcbiAgICAudGhlbihmdW5jdGlvbihlbnYpIHtcbiAgICAgIC8vIGZpcnN0IG1hcCBjb25kaXRpb24gdG8gbWF0Y2ggaXMgdXNlZFxuICAgICAgZm9yICh2YXIgZSBpbiBtYXBwZWQpIHtcbiAgICAgICAgdmFyIG5lZ2F0ZSA9IGVbMF0gPT0gJ34nO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHJlYWRNZW1iZXJFeHByZXNzaW9uKG5lZ2F0ZSA/IGUuc3Vic3RyKDEpIDogZSwgZW52KTtcblxuICAgICAgICBpZiAoIW5lZ2F0ZSAmJiB2YWx1ZSB8fCBuZWdhdGUgJiYgIXZhbHVlKVxuICAgICAgICAgIHJldHVybiBtYXBwZWRbZV07XG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbihtYXBwZWQpIHtcbiAgICAgIGlmIChtYXBwZWQpXG4gICAgICAgIHJldHVybiBkb1N0cmluZ01hcChsb2FkZXIsIHBrZywgcGtnTmFtZSwgYmFzZVBhdGgsIG1hcE1hdGNoLCBtYXBwZWQsIHBhdGgsIHNraXBFeHRlbnNpb25zKTtcblxuICAgICAgLy8gbm8gZW52aXJvbm1lbnQgbWF0Y2ggLT4gZmFsbGJhY2sgdG8gb3JpZ2luYWwgc3ViUGF0aCBieSByZXR1cm5pbmcgdW5kZWZpbmVkXG4gICAgfSk7XG4gIH1cblxuICAvLyBub3JtYWxpemVTeW5jID0gZGVjYW5vbmljYWxpemUgKyBwYWNrYWdlIHJlc29sdXRpb25cbiAgU3lzdGVtSlNMb2FkZXIucHJvdG90eXBlLm5vcm1hbGl6ZVN5bmMgPSBTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUuZGVjYW5vbmljYWxpemUgPSBTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUubm9ybWFsaXplO1xuXG4gIC8vIGRlY2Fub25pY2FsaXplIG11c3QgSlVTVCBoYW5kbGUgcGFja2FnZSBkZWZhdWx0RXh0ZW5zaW9uOiBmYWxzZSBjYXNlIHdoZW4gZGVmYXVsdEpTRXh0ZW5zaW9ucyBpcyBzZXRcbiAgLy8gdG8gYmUgZGVwcmVjYXRlZCFcbiAgaG9vaygnZGVjYW5vbmljYWxpemUnLCBmdW5jdGlvbihkZWNhbm9uaWNhbGl6ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lKSB7XG4gICAgICBpZiAodGhpcy5idWlsZGVyKVxuICAgICAgICByZXR1cm4gZGVjYW5vbmljYWxpemUuY2FsbCh0aGlzLCBuYW1lLCBwYXJlbnROYW1lLCB0cnVlKTtcblxuICAgICAgdmFyIGRlY2Fub25pY2FsaXplZCA9IGRlY2Fub25pY2FsaXplLmNhbGwodGhpcywgbmFtZSwgcGFyZW50TmFtZSk7XG5cbiAgICAgIGlmICghdGhpcy5kZWZhdWx0SlNFeHRlbnNpb25zKVxuICAgICAgICByZXR1cm4gZGVjYW5vbmljYWxpemVkO1xuICAgIFxuICAgICAgdmFyIHBrZ05hbWUgPSBnZXRQYWNrYWdlKHRoaXMsIGRlY2Fub25pY2FsaXplZCk7XG5cbiAgICAgIHZhciBwa2cgPSB0aGlzLnBhY2thZ2VzW3BrZ05hbWVdO1xuICAgICAgdmFyIGRlZmF1bHRFeHRlbnNpb24gPSBwa2cgJiYgcGtnLmRlZmF1bHRFeHRlbnNpb247XG5cbiAgICAgIGlmIChkZWZhdWx0RXh0ZW5zaW9uID09IHVuZGVmaW5lZCAmJiBwa2cgJiYgcGtnLm1ldGEpXG4gICAgICAgIGdldE1ldGFNYXRjaGVzKHBrZy5tZXRhLCBkZWNhbm9uaWNhbGl6ZWQuc3Vic3RyKHBrZ05hbWUpLCBmdW5jdGlvbihtZXRhUGF0dGVybiwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoKSB7XG4gICAgICAgICAgaWYgKG1hdGNoRGVwdGggPT0gMCB8fCBtZXRhUGF0dGVybi5sYXN0SW5kZXhPZignKicpICE9IG1ldGFQYXR0ZXJuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGRlZmF1bHRFeHRlbnNpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICgoZGVmYXVsdEV4dGVuc2lvbiA9PT0gZmFsc2UgfHwgZGVmYXVsdEV4dGVuc2lvbiAmJiBkZWZhdWx0RXh0ZW5zaW9uICE9ICcuanMnKSAmJiBuYW1lLnN1YnN0cihuYW1lLmxlbmd0aCAtIDMsIDMpICE9ICcuanMnICYmIGRlY2Fub25pY2FsaXplZC5zdWJzdHIoZGVjYW5vbmljYWxpemVkLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICBkZWNhbm9uaWNhbGl6ZWQgPSBkZWNhbm9uaWNhbGl6ZWQuc3Vic3RyKDAsIGRlY2Fub25pY2FsaXplZC5sZW5ndGggLSAzKTtcblxuICAgICAgcmV0dXJuIGRlY2Fub25pY2FsaXplZDtcbiAgICB9O1xuICB9KTtcblxuICBob29rKCdub3JtYWxpemVTeW5jJywgZnVuY3Rpb24obm9ybWFsaXplU3luYykge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lLCBpc1BsdWdpbikge1xuICAgICAgd2Fybi5jYWxsKHRoaXMsICdTeXN0ZW1KUy5ub3JtYWxpemVTeW5jIGhhcyBiZWVuIGRlcHJlY2F0ZWQgZm9yIFN5c3RlbUpTLmRlY2Fub25pY2FsaXplLicpO1xuXG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgIGlzUGx1Z2luID0gaXNQbHVnaW4gPT09IHRydWU7XG5cbiAgICAgIC8vIGFwcGx5IGNvbnRleHR1YWwgcGFja2FnZSBtYXAgZmlyc3RcbiAgICAgIC8vICh3ZSBhc3N1bWUgdGhlIHBhcmVudCBwYWNrYWdlIGNvbmZpZyBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZClcbiAgICAgIGlmIChwYXJlbnROYW1lKVxuICAgICAgICB2YXIgcGFyZW50UGFja2FnZU5hbWUgPSBnZXRQYWNrYWdlKGxvYWRlciwgcGFyZW50TmFtZSkgfHxcbiAgICAgICAgICAgIGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHBhcmVudE5hbWUuc3Vic3RyKHBhcmVudE5hbWUubGVuZ3RoIC0gMywgMykgPT0gJy5qcycgJiZcbiAgICAgICAgICAgIGdldFBhY2thZ2UobG9hZGVyLCBwYXJlbnROYW1lLnN1YnN0cigwLCBwYXJlbnROYW1lLmxlbmd0aCAtIDMpKTtcblxuICAgICAgdmFyIHBhcmVudFBhY2thZ2UgPSBwYXJlbnRQYWNrYWdlTmFtZSAmJiBsb2FkZXIucGFja2FnZXNbcGFyZW50UGFja2FnZU5hbWVdO1xuXG4gICAgICAvLyByZW1vdmUgYW55IHBhcmVudCBiYXNlUGF0aCBmcm9tIHBhcmVudE5hbWVcbiAgICAgIGlmIChwYXJlbnRQYWNrYWdlKSB7XG4gICAgICAgIHZhciBwYXJlbnRCYXNlUGF0aCA9IGdldEJhc2VQYXRoKHBhcmVudFBhY2thZ2UpO1xuICAgICAgICBpZiAocGFyZW50QmFzZVBhdGggJiYgcGFyZW50TmFtZS5zdWJzdHIocGFyZW50UGFja2FnZU5hbWUubGVuZ3RoICsgMSwgcGFyZW50QmFzZVBhdGgubGVuZ3RoKSA9PSBwYXJlbnRCYXNlUGF0aClcbiAgICAgICAgICBwYXJlbnROYW1lID0gcGFyZW50UGFja2FnZU5hbWUgKyBwYXJlbnROYW1lLnN1YnN0cihwYXJlbnRQYWNrYWdlTmFtZS5sZW5ndGggKyBwYXJlbnRCYXNlUGF0aC5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZ25vcmUgLiBzaW5jZSBpbnRlcm5hbCBtYXBzIGhhbmRsZWQgYnkgc3RhbmRhcmQgcGFja2FnZSByZXNvbHV0aW9uXG4gICAgICBpZiAocGFyZW50UGFja2FnZSAmJiBuYW1lWzBdICE9ICcuJykge1xuICAgICAgICB2YXIgcGFyZW50TWFwID0gcGFyZW50UGFja2FnZS5tYXA7XG4gICAgICAgIHZhciBwYXJlbnRNYXBNYXRjaCA9IHBhcmVudE1hcCAmJiBnZXRNYXBNYXRjaChwYXJlbnRNYXAsIG5hbWUpO1xuXG4gICAgICAgIGlmIChwYXJlbnRNYXBNYXRjaCAmJiB0eXBlb2YgcGFyZW50TWFwW3BhcmVudE1hcE1hdGNoXSA9PSAnc3RyaW5nJylcbiAgICAgICAgICByZXR1cm4gZG9NYXBTeW5jKGxvYWRlciwgcGFyZW50UGFja2FnZSwgcGFyZW50UGFja2FnZU5hbWUsIGdldEJhc2VQYXRoKHBhcmVudFBhY2thZ2UpLCBwYXJlbnRNYXBNYXRjaCwgbmFtZSwgaXNQbHVnaW4pO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgbmFtZS5zdWJzdHIobmFtZS5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcblxuICAgICAgLy8gYXBwbHkgbWFwLCBjb3JlLCBwYXRocywgY29udGV4dHVhbCBwYWNrYWdlIG1hcFxuICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTeW5jLmNhbGwobG9hZGVyLCBuYW1lLCBwYXJlbnROYW1lKTtcblxuICAgICAgLy8gdW5kbyBkZWZhdWx0SlNFeHRlbnNpb25cbiAgICAgIGlmIChkZWZhdWx0SlNFeHRlbnNpb24gJiYgbm9ybWFsaXplZC5zdWJzdHIobm9ybWFsaXplZC5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJylcbiAgICAgICAgZGVmYXVsdEpTRXh0ZW5zaW9uID0gZmFsc2U7XG4gICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uKVxuICAgICAgICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5zdWJzdHIoMCwgbm9ybWFsaXplZC5sZW5ndGggLSAzKTtcblxuICAgICAgdmFyIHBrZ0NvbmZpZ01hdGNoID0gZ2V0UGFja2FnZUNvbmZpZ01hdGNoKGxvYWRlciwgbm9ybWFsaXplZCk7XG4gICAgICB2YXIgcGtnTmFtZSA9IHBrZ0NvbmZpZ01hdGNoICYmIHBrZ0NvbmZpZ01hdGNoLnBhY2thZ2VOYW1lIHx8IGdldFBhY2thZ2UobG9hZGVyLCBub3JtYWxpemVkKTtcblxuICAgICAgaWYgKCFwa2dOYW1lKVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZCArIChkZWZhdWx0SlNFeHRlbnNpb24gPyAnLmpzJyA6ICcnKTtcblxuICAgICAgdmFyIHN1YlBhdGggPSBub3JtYWxpemVkLnN1YnN0cihwa2dOYW1lLmxlbmd0aCArIDEpO1xuXG4gICAgICByZXR1cm4gYXBwbHlQYWNrYWdlQ29uZmlnU3luYyhsb2FkZXIsIGxvYWRlci5wYWNrYWdlc1twa2dOYW1lXSB8fCB7fSwgcGtnTmFtZSwgc3ViUGF0aCwgaXNQbHVnaW4pO1xuICAgIH07XG4gIH0pO1xuXG4gIGhvb2soJ25vcm1hbGl6ZScsIGZ1bmN0aW9uKG5vcm1hbGl6ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lLCBpc1BsdWdpbikge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICBpc1BsdWdpbiA9IGlzUGx1Z2luID09PSB0cnVlO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBhcHBseSBjb250ZXh0dWFsIHBhY2thZ2UgbWFwIGZpcnN0XG4gICAgICAgIC8vICh3ZSBhc3N1bWUgdGhlIHBhcmVudCBwYWNrYWdlIGNvbmZpZyBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZClcbiAgICAgICAgaWYgKHBhcmVudE5hbWUpXG4gICAgICAgICAgdmFyIHBhcmVudFBhY2thZ2VOYW1lID0gZ2V0UGFja2FnZShsb2FkZXIsIHBhcmVudE5hbWUpIHx8XG4gICAgICAgICAgICAgIGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIHBhcmVudE5hbWUuc3Vic3RyKHBhcmVudE5hbWUubGVuZ3RoIC0gMywgMykgPT0gJy5qcycgJiZcbiAgICAgICAgICAgICAgZ2V0UGFja2FnZShsb2FkZXIsIHBhcmVudE5hbWUuc3Vic3RyKDAsIHBhcmVudE5hbWUubGVuZ3RoIC0gMykpO1xuXG4gICAgICAgIHZhciBwYXJlbnRQYWNrYWdlID0gcGFyZW50UGFja2FnZU5hbWUgJiYgbG9hZGVyLnBhY2thZ2VzW3BhcmVudFBhY2thZ2VOYW1lXTtcblxuICAgICAgICAvLyByZW1vdmUgYW55IHBhcmVudCBiYXNlUGF0aCBmcm9tIHBhcmVudE5hbWVcbiAgICAgICAgaWYgKHBhcmVudFBhY2thZ2UpIHtcbiAgICAgICAgICB2YXIgcGFyZW50QmFzZVBhdGggPSBnZXRCYXNlUGF0aChwYXJlbnRQYWNrYWdlKTtcbiAgICAgICAgICBpZiAocGFyZW50QmFzZVBhdGggJiYgcGFyZW50TmFtZS5zdWJzdHIocGFyZW50UGFja2FnZU5hbWUubGVuZ3RoICsgMSwgcGFyZW50QmFzZVBhdGgubGVuZ3RoKSA9PSBwYXJlbnRCYXNlUGF0aClcbiAgICAgICAgICAgIHBhcmVudE5hbWUgPSBwYXJlbnRQYWNrYWdlTmFtZSArIHBhcmVudE5hbWUuc3Vic3RyKHBhcmVudFBhY2thZ2VOYW1lLmxlbmd0aCArIHBhcmVudEJhc2VQYXRoLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZ25vcmUgLiBzaW5jZSBpbnRlcm5hbCBtYXBzIGhhbmRsZWQgYnkgc3RhbmRhcmQgcGFja2FnZSByZXNvbHV0aW9uXG4gICAgICAgIGlmIChwYXJlbnRQYWNrYWdlICYmIG5hbWUuc3Vic3RyKDAsIDIpICE9ICcuLycpIHtcbiAgICAgICAgICB2YXIgcGFyZW50TWFwID0gcGFyZW50UGFja2FnZS5tYXA7XG4gICAgICAgICAgdmFyIHBhcmVudE1hcE1hdGNoID0gcGFyZW50TWFwICYmIGdldE1hcE1hdGNoKHBhcmVudE1hcCwgbmFtZSk7XG5cbiAgICAgICAgICBpZiAocGFyZW50TWFwTWF0Y2gpXG4gICAgICAgICAgICByZXR1cm4gZG9NYXAobG9hZGVyLCBwYXJlbnRQYWNrYWdlLCBwYXJlbnRQYWNrYWdlTmFtZSwgcGFyZW50QmFzZVBhdGgsIHBhcmVudE1hcE1hdGNoLCBuYW1lLCBpc1BsdWdpbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24obWFwcGVkKSB7XG4gICAgICAgIGlmIChtYXBwZWQpXG4gICAgICAgICAgcmV0dXJuIG1hcHBlZDtcblxuICAgICAgICB2YXIgZGVmYXVsdEpTRXh0ZW5zaW9uID0gbG9hZGVyLmRlZmF1bHRKU0V4dGVuc2lvbnMgJiYgbmFtZS5zdWJzdHIobmFtZS5sZW5ndGggLSAzLCAzKSAhPSAnLmpzJztcblxuICAgICAgICAvLyBhcHBseSBtYXAsIGNvcmUsIHBhdGhzLCBjb250ZXh0dWFsIHBhY2thZ2UgbWFwXG4gICAgICAgIHZhciBub3JtYWxpemVkID0gbm9ybWFsaXplLmNhbGwobG9hZGVyLCBuYW1lLCBwYXJlbnROYW1lKTtcblxuICAgICAgICAvLyB1bmRvIGRlZmF1bHRKU0V4dGVuc2lvblxuICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIG5vcm1hbGl6ZWQuc3Vic3RyKG5vcm1hbGl6ZWQubGVuZ3RoIC0gMywgMykgIT0gJy5qcycpXG4gICAgICAgICAgZGVmYXVsdEpTRXh0ZW5zaW9uID0gZmFsc2U7XG4gICAgICAgIGlmIChkZWZhdWx0SlNFeHRlbnNpb24pXG4gICAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQuc3Vic3RyKDAsIG5vcm1hbGl6ZWQubGVuZ3RoIC0gMyk7XG5cbiAgICAgICAgdmFyIHBrZ0NvbmZpZ01hdGNoID0gZ2V0UGFja2FnZUNvbmZpZ01hdGNoKGxvYWRlciwgbm9ybWFsaXplZCk7XG4gICAgICAgIHZhciBwa2dOYW1lID0gcGtnQ29uZmlnTWF0Y2ggJiYgcGtnQ29uZmlnTWF0Y2gucGFja2FnZU5hbWUgfHwgZ2V0UGFja2FnZShsb2FkZXIsIG5vcm1hbGl6ZWQpO1xuXG4gICAgICAgIGlmICghcGtnTmFtZSlcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vcm1hbGl6ZWQgKyAoZGVmYXVsdEpTRXh0ZW5zaW9uID8gJy5qcycgOiAnJykpO1xuXG4gICAgICAgIHZhciBwa2cgPSBsb2FkZXIucGFja2FnZXNbcGtnTmFtZV07XG5cbiAgICAgICAgLy8gaWYgcGFja2FnZSBpcyBhbHJlYWR5IGNvbmZpZ3VyZWQgb3Igbm90IGEgZHluYW1pYyBjb25maWcgcGFja2FnZSwgdXNlIGV4aXN0aW5nIHBhY2thZ2UgY29uZmlnXG4gICAgICAgIHZhciBpc0NvbmZpZ3VyZWQgPSBwa2cgJiYgKHBrZy5jb25maWd1cmVkIHx8ICFwa2dDb25maWdNYXRjaCk7XG4gICAgICAgIHJldHVybiAoaXNDb25maWd1cmVkID8gUHJvbWlzZS5yZXNvbHZlKHBrZykgOiBsb2FkUGFja2FnZUNvbmZpZ1BhdGgobG9hZGVyLCBwa2dOYW1lLCBwa2dDb25maWdNYXRjaC5jb25maWdQYXRoKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocGtnKSB7XG4gICAgICAgICAgdmFyIHN1YlBhdGggPSBub3JtYWxpemVkLnN1YnN0cihwa2dOYW1lLmxlbmd0aCArIDEpO1xuXG4gICAgICAgICAgcmV0dXJuIGFwcGx5UGFja2FnZUNvbmZpZyhsb2FkZXIsIHBrZywgcGtnTmFtZSwgc3ViUGF0aCwgaXNQbHVnaW4pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIGNoZWNrIGlmIHRoZSBnaXZlbiBub3JtYWxpemVkIG5hbWUgbWF0Y2hlcyBhIHBhY2thZ2VDb25maWdQYXRoXG4gIC8vIGlmIHNvLCBsb2FkcyB0aGUgY29uZmlnXG4gIHZhciBwYWNrYWdlQ29uZmlnUGF0aHMgPSB7fTtcblxuICAvLyBkYXRhIG9iamVjdCBmb3IgcXVpY2sgY2hlY2tzIGFnYWluc3QgcGFja2FnZSBwYXRoc1xuICBmdW5jdGlvbiBjcmVhdGVQa2dDb25maWdQYXRoT2JqKHBhdGgpIHtcbiAgICB2YXIgbGFzdFdpbGRjYXJkID0gcGF0aC5sYXN0SW5kZXhPZignKicpO1xuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChsYXN0V2lsZGNhcmQgKyAxLCBwYXRoLmxhc3RJbmRleE9mKCcvJykpO1xuICAgIHJldHVybiB7XG4gICAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICAgIC8vIE5CIGhhbmRsZSByZWdleCBjb250cm9sIGNoYXJhY3RlciBlc2NhcGVzIG9yIHNpbXBseSBjcmVhdGUgYSB0ZXN0IGZ1bmN0aW9uIGhlcmVcbiAgICAgIHJlZ0V4OiBuZXcgUmVnRXhwKCdeKCcgKyBwYXRoLnN1YnN0cigwLCBsZW5ndGgpLnJlcGxhY2UoL1xcKi9nLCAnW15cXFxcL10rJykgKyAnKShcXFxcL3wkKScpLFxuICAgICAgd2lsZGNhcmQ6IGxhc3RXaWxkY2FyZCAhPSAtMVxuICAgIH07XG4gIH1cblxuICAvLyBtb3N0IHNwZWNpZmljIG1hdGNoIHdpbnNcbiAgZnVuY3Rpb24gZ2V0UGFja2FnZUNvbmZpZ01hdGNoKGxvYWRlciwgbm9ybWFsaXplZCkge1xuICAgIHZhciBwa2dOYW1lLCBleGFjdE1hdGNoID0gZmFsc2UsIGNvbmZpZ1BhdGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkZXIucGFja2FnZUNvbmZpZ1BhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFja2FnZUNvbmZpZ1BhdGggPSBsb2FkZXIucGFja2FnZUNvbmZpZ1BhdGhzW2ldO1xuICAgICAgdmFyIHAgPSBwYWNrYWdlQ29uZmlnUGF0aHNbcGFja2FnZUNvbmZpZ1BhdGhdIHx8IChwYWNrYWdlQ29uZmlnUGF0aHNbcGFja2FnZUNvbmZpZ1BhdGhdID0gY3JlYXRlUGtnQ29uZmlnUGF0aE9iaihwYWNrYWdlQ29uZmlnUGF0aCkpO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQubGVuZ3RoIDwgcC5sZW5ndGgpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIG1hdGNoID0gbm9ybWFsaXplZC5tYXRjaChwLnJlZ0V4KTtcbiAgICAgIGlmIChtYXRjaCAmJiAoIXBrZ05hbWUgfHwgKCEoZXhhY3RNYXRjaCAmJiBwLndpbGRjYXJkKSAmJiBwa2dOYW1lLmxlbmd0aCA8IG1hdGNoWzFdLmxlbmd0aCkpKSB7XG4gICAgICAgIHBrZ05hbWUgPSBtYXRjaFsxXTtcbiAgICAgICAgZXhhY3RNYXRjaCA9ICFwLndpbGRjYXJkO1xuICAgICAgICBjb25maWdQYXRoID0gcGtnTmFtZSArIHBhY2thZ2VDb25maWdQYXRoLnN1YnN0cihwLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwa2dOYW1lKVxuICAgICAgcmV0dXJuO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhY2thZ2VOYW1lOiBwa2dOYW1lLFxuICAgICAgY29uZmlnUGF0aDogY29uZmlnUGF0aFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkUGFja2FnZUNvbmZpZ1BhdGgobG9hZGVyLCBwa2dOYW1lLCBwa2dDb25maWdQYXRoKSB7XG4gICAgdmFyIGNvbmZpZ0xvYWRlciA9IGxvYWRlci5wbHVnaW5Mb2FkZXIgfHwgbG9hZGVyO1xuXG4gICAgLy8gTkIgcmVtb3ZlIHRoaXMgd2hlbiBqc29uIGlzIGRlZmF1bHRcbiAgICAoY29uZmlnTG9hZGVyLm1ldGFbcGtnQ29uZmlnUGF0aF0gPSBjb25maWdMb2FkZXIubWV0YVtwa2dDb25maWdQYXRoXSB8fCB7fSkuZm9ybWF0ID0gJ2pzb24nO1xuXG4gICAgcmV0dXJuIGNvbmZpZ0xvYWRlci5sb2FkKHBrZ0NvbmZpZ1BhdGgpXG4gICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBwa2dDb25maWcgPSBjb25maWdMb2FkZXIuZ2V0KHBrZ0NvbmZpZ1BhdGgpO1xuXG4gICAgICB2YXIgY2ZnID0gcGtnQ29uZmlnWydkZWZhdWx0J107XG5cbiAgICAgIC8vIHN1cHBvcnQgXCJzeXN0ZW1qc1wiIHByZWZpeGluZ1xuICAgICAgaWYgKGNmZy5zeXN0ZW1qcylcbiAgICAgICAgY2ZnID0gY2ZnLnN5c3RlbWpzO1xuXG4gICAgICAvLyBtb2R1bGVzIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICBpZiAoY2ZnLm1vZHVsZXMpIHtcbiAgICAgICAgY2ZnLm1ldGEgPSBjZmcubW9kdWxlcztcbiAgICAgICAgd2Fybi5jYWxsKGxvYWRlciwgJ1BhY2thZ2UgY29uZmlnIGZpbGUgJyArIHBrZ0NvbmZpZ1BhdGggKyAnIGlzIGNvbmZpZ3VyZWQgd2l0aCBcIm1vZHVsZXNcIiwgd2hpY2ggaXMgZGVwcmVjYXRlZCBhcyBpdCBoYXMgYmVlbiByZW5hbWVkIHRvIFwibWV0YVwiLicpO1xuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgYW55IG5vbi1zeXN0ZW0gcHJvcGVydGllcyBpZiBnZW5lcmljIGNvbmZpZyBmaWxlIChlZyBwYWNrYWdlLmpzb24pXG4gICAgICBmb3IgKHZhciBwIGluIGNmZykge1xuICAgICAgICBpZiAoaW5kZXhPZi5jYWxsKHBhY2thZ2VQcm9wZXJ0aWVzLCBwKSA9PSAtMSlcbiAgICAgICAgICBkZWxldGUgY2ZnW3BdO1xuICAgICAgfVxuXG4gICAgICAvLyBkZWVwbHktbWVyZ2UgKHRvIGZpcnN0IGxldmVsKSBjb25maWcgd2l0aCBhbnkgZXhpc3RpbmcgcGFja2FnZSBjb25maWdcbiAgICAgIHZhciBwa2cgPSBsb2FkZXIucGFja2FnZXNbcGtnTmFtZV0gPSBsb2FkZXIucGFja2FnZXNbcGtnTmFtZV0gfHwge307XG4gICAgICBleHRlbmRNZXRhKHBrZywgY2ZnLCB0cnVlKTtcblxuICAgICAgLy8gc3VwcG9ydCBleHRlcm5hbCBkZXBDYWNoZVxuICAgICAgdmFyIGJhc2VQYXRoID0gZ2V0QmFzZVBhdGgocGtnKTtcbiAgICAgIGlmIChjZmcuZGVwQ2FjaGUpIHtcbiAgICAgICAgZm9yICh2YXIgZCBpbiBjZmcuZGVwQ2FjaGUpIHtcbiAgICAgICAgICB2YXIgZE5vcm1hbGl6ZWQ7XG5cbiAgICAgICAgICBpZiAoZC5zdWJzdHIoMCwgMikgPT0gJy4vJylcbiAgICAgICAgICAgIGROb3JtYWxpemVkID0gcGtnTmFtZSArICcvJyArIGJhc2VQYXRoICsgZC5zdWJzdHIoMik7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZE5vcm1hbGl6ZWQgPSBjb3JlUmVzb2x2ZS5jYWxsKGxvYWRlciwgZCk7XG4gICAgICAgICAgbG9hZGVyLmRlcENhY2hlW2ROb3JtYWxpemVkXSA9IChsb2FkZXIuZGVwQ2FjaGVbZE5vcm1hbGl6ZWRdIHx8IFtdKS5jb25jYXQoY2ZnLmRlcENhY2hlW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgY2ZnLmRlcENhY2hlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGtnO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWV0YU1hdGNoZXMocGtnTWV0YSwgc3ViUGF0aCwgbWF0Y2hGbikge1xuICAgIC8vIHdpbGRjYXJkIG1ldGFcbiAgICB2YXIgbWV0YSA9IHt9O1xuICAgIHZhciB3aWxkY2FyZEluZGV4O1xuICAgIGZvciAodmFyIG1vZHVsZSBpbiBwa2dNZXRhKSB7XG4gICAgICAvLyBhbGxvdyBtZXRhIHRvIHN0YXJ0IHdpdGggLi8gZm9yIGZsZXhpYmlsaXR5XG4gICAgICB2YXIgZG90UmVsID0gbW9kdWxlLnN1YnN0cigwLCAyKSA9PSAnLi8nID8gJy4vJyA6ICcnO1xuICAgICAgaWYgKGRvdFJlbClcbiAgICAgICAgbW9kdWxlID0gbW9kdWxlLnN1YnN0cigyKTtcblxuICAgICAgd2lsZGNhcmRJbmRleCA9IG1vZHVsZS5pbmRleE9mKCcqJyk7XG4gICAgICBpZiAod2lsZGNhcmRJbmRleCA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICBpZiAobW9kdWxlLnN1YnN0cigwLCB3aWxkY2FyZEluZGV4KSA9PSBzdWJQYXRoLnN1YnN0cigwLCB3aWxkY2FyZEluZGV4KVxuICAgICAgICAgICYmIG1vZHVsZS5zdWJzdHIod2lsZGNhcmRJbmRleCArIDEpID09IHN1YlBhdGguc3Vic3RyKHN1YlBhdGgubGVuZ3RoIC0gbW9kdWxlLmxlbmd0aCArIHdpbGRjYXJkSW5kZXggKyAxKSkge1xuICAgICAgICAvLyBhbG93IG1hdGNoIGZ1bmN0aW9uIHRvIHJldHVybiB0cnVlIGZvciBhbiBleGl0IHBhdGhcbiAgICAgICAgaWYgKG1hdGNoRm4obW9kdWxlLCBwa2dNZXRhW2RvdFJlbCArIG1vZHVsZV0sIG1vZHVsZS5zcGxpdCgnLycpLmxlbmd0aCkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBleGFjdCBtZXRhXG4gICAgdmFyIGV4YWN0TWV0YSA9IHBrZ01ldGFbc3ViUGF0aF0gfHwgcGtnTWV0YVsnLi8nICsgc3ViUGF0aF07XG4gICAgaWYgKGV4YWN0TWV0YSlcbiAgICAgIG1hdGNoRm4oZXhhY3RNZXRhLCBleGFjdE1ldGEsIDApO1xuICB9XG5cbiAgaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsb2NhdGUuY2FsbCh0aGlzLCBsb2FkKSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGFkZHJlc3MpIHtcbiAgICAgICAgdmFyIHBrZ05hbWUgPSBnZXRQYWNrYWdlKGxvYWRlciwgbG9hZC5uYW1lKTtcbiAgICAgICAgaWYgKHBrZ05hbWUpIHtcbiAgICAgICAgICB2YXIgcGtnID0gbG9hZGVyLnBhY2thZ2VzW3BrZ05hbWVdO1xuICAgICAgICAgIHZhciBiYXNlUGF0aCA9IGdldEJhc2VQYXRoKHBrZyk7XG4gICAgICAgICAgdmFyIHN1YlBhdGggPSBsb2FkLm5hbWUuc3Vic3RyKHBrZ05hbWUubGVuZ3RoICsgYmFzZVBhdGgubGVuZ3RoICsgMSk7XG5cbiAgICAgICAgICAvLyBmb3JtYXRcbiAgICAgICAgICBpZiAocGtnLmZvcm1hdClcbiAgICAgICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gbG9hZC5tZXRhZGF0YS5mb3JtYXQgfHwgcGtnLmZvcm1hdDtcblxuICAgICAgICAgIHZhciBtZXRhID0ge307XG4gICAgICAgICAgaWYgKHBrZy5tZXRhKSB7XG4gICAgICAgICAgICB2YXIgYmVzdERlcHRoID0gMDtcblxuICAgICAgICAgICAgLy8gTkIgc3VwcG9ydCBhIG1haW4gc2hvcnRoYW5kIGluIG1ldGEgaGVyZT9cbiAgICAgICAgICAgIGdldE1ldGFNYXRjaGVzKHBrZy5tZXRhLCBzdWJQYXRoLCBmdW5jdGlvbihtZXRhUGF0dGVybiwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoKSB7XG4gICAgICAgICAgICAgIGlmIChtYXRjaERlcHRoID4gYmVzdERlcHRoKVxuICAgICAgICAgICAgICAgIGJlc3REZXB0aCA9IG1hdGNoRGVwdGg7XG4gICAgICAgICAgICAgIGV4dGVuZE1ldGEobWV0YSwgbWF0Y2hNZXRhLCBtYXRjaERlcHRoICYmIGJlc3REZXB0aCA+IG1hdGNoRGVwdGgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGFsbG93IGFsaWFzIGFuZCBsb2FkZXIgdG8gYmUgcGFja2FnZS1yZWxhdGl2ZVxuICAgICAgICAgICAgaWYgKG1ldGEuYWxpYXMgJiYgbWV0YS5hbGlhcy5zdWJzdHIoMCwgMikgPT0gJy4vJylcbiAgICAgICAgICAgICAgbWV0YS5hbGlhcyA9IHBrZ05hbWUgKyBtZXRhLmFsaWFzLnN1YnN0cigxKTtcbiAgICAgICAgICAgIGlmIChtZXRhLmxvYWRlciAmJiBtZXRhLmxvYWRlci5zdWJzdHIoMCwgMikgPT0gJy4vJylcbiAgICAgICAgICAgICAgbWV0YS5sb2FkZXIgPSBwa2dOYW1lICsgbWV0YS5sb2FkZXIuc3Vic3RyKDEpO1xuICAgICAgICAgICAgZXh0ZW5kTWV0YShsb2FkLm1ldGFkYXRhLCBtZXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG59KSgpO1xuLypcbiAqIFNjcmlwdCB0YWcgZmV0Y2hcbiAqXG4gKiBXaGVuIGxvYWQubWV0YWRhdGEuc2NyaXB0TG9hZCBpcyB0cnVlLCB3ZSBsb2FkIHZpYSBzY3JpcHQgdGFnIGluamVjdGlvbi5cbiAqL1xuKGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT0gJ3VuZGVmaW5lZCcpXG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuXG4gIHZhciBjdXJTeXN0ZW07XG5cbiAgLy8gaWYgZG9pbmcgd29ya2VyIGV4ZWN1dGluZywgdGhpcyBpcyBzZXQgdG8gdGhlIGxvYWQgcmVjb3JkIGJlaW5nIGV4ZWN1dGVkXG4gIHZhciB3b3JrZXJMb2FkID0gbnVsbDtcbiAgXG4gIC8vIGludGVyYWN0aXZlIG1vZGUgaGFuZGxpbmcgbWV0aG9kIGNvdXJ0ZXN5IFJlcXVpcmVKU1xuICB2YXIgaWVFdmVudHMgPSBoZWFkICYmIChmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHZhciBpc09wZXJhID0gdHlwZW9mIG9wZXJhICE9PSAndW5kZWZpbmVkJyAmJiBvcGVyYS50b1N0cmluZygpID09PSAnW29iamVjdCBPcGVyYV0nO1xuICAgIHJldHVybiBzLmF0dGFjaEV2ZW50ICYmICEocy5hdHRhY2hFdmVudC50b1N0cmluZyAmJiBzLmF0dGFjaEV2ZW50LnRvU3RyaW5nKCkuaW5kZXhPZignW25hdGl2ZSBjb2RlJykgPCAwKSAmJiAhaXNPcGVyYTtcbiAgfSkoKTtcblxuICAvLyBJRSBpbnRlcmFjdGl2ZS1vbmx5IHBhcnRcbiAgLy8gd2Ugc3RvcmUgbG9hZGluZyBzY3JpcHRzIGFycmF5IGFzIHsgc2NyaXB0OiA8c2NyaXB0PiwgbG9hZDogey4uLn0gfVxuICB2YXIgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cyA9IFtdO1xuICB2YXIgaW50ZXJhY3RpdmVTY3JpcHQ7XG4gIGZ1bmN0aW9uIGdldEludGVyYWN0aXZlU2NyaXB0TG9hZCgpIHtcbiAgICBpZiAoaW50ZXJhY3RpdmVTY3JpcHQgJiYgaW50ZXJhY3RpdmVTY3JpcHQuc2NyaXB0LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpXG4gICAgICByZXR1cm4gaW50ZXJhY3RpdmVTY3JpcHQubG9hZDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChpbnRlcmFjdGl2ZUxvYWRpbmdTY3JpcHRzW2ldLnNjcmlwdC5yZWFkeVN0YXRlID09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICAgICAgaW50ZXJhY3RpdmVTY3JpcHQgPSBpbnRlcmFjdGl2ZUxvYWRpbmdTY3JpcHRzW2ldO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3RpdmVTY3JpcHQubG9hZDtcbiAgICAgIH1cbiAgfVxuICBcbiAgLy8gU3lzdGVtLnJlZ2lzdGVyLCBTeXN0ZW0ucmVnaXN0ZXJEeW5hbWljLCBBTUQgZGVmaW5lIHBpcGVsaW5lXG4gIC8vIHRoaXMgaXMgY2FsbGVkIGJ5IHRoZSBhYm92ZSBtZXRob2RzIHdoZW4gdGhleSBleGVjdXRlXG4gIC8vIHdlIHRoZW4gcnVuIHRoZSByZWR1Y2VSZWdpc3Rlcl8gY29sbGVjdGlvbiBmdW5jdGlvbiBlaXRoZXIgaW1tZWRpYXRlbHlcbiAgLy8gaWYgd2UgYXJlIGluIElFIGFuZCBrbm93IHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIHNjcmlwdCAoaW50ZXJhY3RpdmUpXG4gIC8vIG9yIGxhdGVyIGlmIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIHN5bmNocm9ub3VzIGxvYWQgY2FsbGJhY2sgdG8ga25vdyB0aGUgc2NyaXB0XG4gIHZhciBsb2FkaW5nQ250ID0gMDtcbiAgdmFyIHJlZ2lzdGVyUXVldWUgPSBbXTtcbiAgaG9vaygncHVzaFJlZ2lzdGVyXycsIGZ1bmN0aW9uKHB1c2hSZWdpc3Rlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihyZWdpc3Rlcikge1xuICAgICAgLy8gaWYgdXNpbmcgZXZhbC1leGVjdXRpb24gdGhlbiBza2lwXG4gICAgICBpZiAocHVzaFJlZ2lzdGVyLmNhbGwodGhpcywgcmVnaXN0ZXIpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIGlmIHVzaW5nIHdvcmtlciBleGVjdXRpb24sIHRoZW4gd2UncmUgZG9uZVxuICAgICAgaWYgKHdvcmtlckxvYWQpXG4gICAgICAgIHRoaXMucmVkdWNlUmVnaXN0ZXJfKHdvcmtlckxvYWQsIHJlZ2lzdGVyKTtcblxuICAgICAgLy8gZGV0ZWN0IGlmIHdlIGtub3cgdGhlIGN1cnJlbnRseSBleGVjdXRpbmcgbG9hZCAoSUUpXG4gICAgICAvLyBpZiBzbywgaW1tZWRpYXRlbHkgY2FsbCByZWR1Y2VSZWdpc3RlclxuICAgICAgZWxzZSBpZiAoaWVFdmVudHMpXG4gICAgICAgIHRoaXMucmVkdWNlUmVnaXN0ZXJfKGdldEludGVyYWN0aXZlU2NyaXB0TG9hZCgpLCByZWdpc3Rlcik7XG5cbiAgICAgIC8vIG90aGVyd2lzZSwgYWRkIHRvIG91ciBleGVjdXRpb24gcXVldWVcbiAgICAgIC8vIHRvIGNhbGwgcmVkdWNlUmVnaXN0ZXIgb24gc3luYyBzY3JpcHQgbG9hZCBldmVudFxuICAgICAgZWxzZSBpZiAobG9hZGluZ0NudClcbiAgICAgICAgcmVnaXN0ZXJRdWV1ZS5wdXNoKHJlZ2lzdGVyKTtcblxuICAgICAgLy8gaWYgd2UncmUgbm90IGN1cnJlbnRseSBsb2FkaW5nIGFueXRoaW5nIHRob3VnaFxuICAgICAgLy8gdGhlbiBkbyB0aGUgcmVkdWN0aW9uIGFnYWluc3QgYSBudWxsIGxvYWRcbiAgICAgIC8vIChvdXQgb2YgYmFuZCBuYW1lZCBkZWZpbmUgb3IgbmFtZWQgcmVnaXN0ZXIpXG4gICAgICAvLyBub3RlIGV2ZW4gaW4gbm9uLXNjcmlwdCBlbnZpcm9ubWVudHMsIHRoaXMgY2F0Y2ggaXMgdXNlZFxuICAgICAgZWxzZVxuICAgICAgICB0aGlzLnJlZHVjZVJlZ2lzdGVyXyhudWxsLCByZWdpc3Rlcik7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHdlYldvcmtlckltcG9ydChsb2FkZXIsIGxvYWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAobG9hZC5tZXRhZGF0YS5pbnRlZ3JpdHkpXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1N1YnJlc291cmNlIGludGVncml0eSBjaGVja2luZyBpcyBub3Qgc3VwcG9ydGVkIGluIHdlYiB3b3JrZXJzLicpKTtcblxuICAgICAgd29ya2VyTG9hZCA9IGxvYWQ7XG4gICAgICB0cnkge1xuICAgICAgICBpbXBvcnRTY3JpcHRzKGxvYWQuYWRkcmVzcyk7XG4gICAgICB9XG4gICAgICBjYXRjaChlKSB7XG4gICAgICAgIHdvcmtlckxvYWQgPSBudWxsO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgICB3b3JrZXJMb2FkID0gbnVsbDtcblxuICAgICAgLy8gaWYgbm90aGluZyByZWdpc3RlcmVkLCB0aGVuIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICBpZiAoIWxvYWQubWV0YWRhdGEuZW50cnkpXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IobG9hZC5hZGRyZXNzICsgJyBkaWQgbm90IGNhbGwgU3lzdGVtLnJlZ2lzdGVyIG9yIEFNRCBkZWZpbmUnKSk7XG5cbiAgICAgIHJlc29sdmUoJycpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gb3ZlcnJpZGUgZmV0Y2ggdG8gdXNlIHNjcmlwdCBpbmplY3Rpb25cbiAgaG9vaygnZmV0Y2gnLCBmdW5jdGlvbihmZXRjaCkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcblxuICAgICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdqc29uJyB8fCAhbG9hZC5tZXRhZGF0YS5zY3JpcHRMb2FkIHx8ICghaXNCcm93c2VyICYmICFpc1dvcmtlcikpXG4gICAgICAgIHJldHVybiBmZXRjaC5jYWxsKHRoaXMsIGxvYWQpO1xuXG4gICAgICBpZiAoaXNXb3JrZXIpXG4gICAgICAgIHJldHVybiB3ZWJXb3JrZXJJbXBvcnQobG9hZGVyLCBsb2FkKTtcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBcbiAgICAgICAgcy5hc3luYyA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBpZiAobG9hZC5tZXRhZGF0YS5pbnRlZ3JpdHkpXG4gICAgICAgICAgcy5zZXRBdHRyaWJ1dGUoJ2ludGVncml0eScsIGxvYWQubWV0YWRhdGEuaW50ZWdyaXR5KTtcblxuICAgICAgICBpZiAoaWVFdmVudHMpIHtcbiAgICAgICAgICBzLmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5wdXNoKHtcbiAgICAgICAgICAgIHNjcmlwdDogcyxcbiAgICAgICAgICAgIGxvYWQ6IGxvYWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvciwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9hZGluZ0NudCsrO1xuXG4gICAgICAgIGN1clN5c3RlbSA9IF9fZ2xvYmFsLlN5c3RlbTtcblxuICAgICAgICBzLnNyYyA9IGxvYWQuYWRkcmVzcztcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzKTtcblxuICAgICAgICBmdW5jdGlvbiBjb21wbGV0ZShldnQpIHtcbiAgICAgICAgICBpZiAocy5yZWFkeVN0YXRlICYmIHMucmVhZHlTdGF0ZSAhPSAnbG9hZGVkJyAmJiBzLnJlYWR5U3RhdGUgIT0gJ2NvbXBsZXRlJylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIGxvYWRpbmdDbnQtLTtcblxuICAgICAgICAgIC8vIGNvbXBsZXRlIGNhbGwgaXMgc3luYyBvbiBleGVjdXRpb24gZmluaXNoXG4gICAgICAgICAgLy8gKGluIGllIGFscmVhZHkgZG9uZSByZWR1Y3Rpb25zKVxuICAgICAgICAgIGlmICghbG9hZC5tZXRhZGF0YS5lbnRyeSAmJiAhcmVnaXN0ZXJRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvYWRlci5yZWR1Y2VSZWdpc3Rlcl8obG9hZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpZUV2ZW50cykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWdpc3RlclF1ZXVlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICBsb2FkZXIucmVkdWNlUmVnaXN0ZXJfKGxvYWQsIHJlZ2lzdGVyUXVldWVbaV0pO1xuICAgICAgICAgICAgcmVnaXN0ZXJRdWV1ZSA9IFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsZWFudXAoKTtcblxuICAgICAgICAgIC8vIGlmIG5vdGhpbmcgcmVnaXN0ZXJlZCwgdGhlbiBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgICAgIGlmICghbG9hZC5tZXRhZGF0YS5lbnRyeSAmJiAhbG9hZC5tZXRhZGF0YS5idW5kbGUpXG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGxvYWQubmFtZSArICcgZGlkIG5vdCBjYWxsIFN5c3RlbS5yZWdpc3RlciBvciBBTUQgZGVmaW5lLiBJZiBsb2FkaW5nIGEgZ2xvYmFsIG1vZHVsZSBjb25maWd1cmUgdGhlIGdsb2JhbCBuYW1lIHZpYSB0aGUgbWV0YSBleHBvcnRzIHByb3BlcnR5IGZvciBzY3JpcHQgaW5qZWN0aW9uIHN1cHBvcnQuJykpO1xuXG4gICAgICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBlcnJvcihldnQpIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICcgKyBsb2FkLmFkZHJlc3MpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgX19nbG9iYWwuU3lzdGVtID0gY3VyU3lzdGVtO1xuXG4gICAgICAgICAgaWYgKHMuZGV0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIHMuZGV0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlTG9hZGluZ1NjcmlwdHNbaV0uc2NyaXB0ID09IHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmVTY3JpcHQgJiYgaW50ZXJhY3RpdmVTY3JpcHQuc2NyaXB0ID09IHMpXG4gICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVMb2FkaW5nU2NyaXB0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGVhZC5yZW1vdmVDaGlsZChzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG59KSgpO1xuLypcbiAqIEluc3RhbnRpYXRlIHJlZ2lzdHJ5IGV4dGVuc2lvblxuICpcbiAqIFN1cHBvcnRzIFRyYWNldXIgU3lzdGVtLnJlZ2lzdGVyICdpbnN0YW50aWF0ZScgb3V0cHV0IGZvciBsb2FkaW5nIEVTNiBhcyBFUzUuXG4gKlxuICogLSBDcmVhdGVzIHRoZSBsb2FkZXIucmVnaXN0ZXIgZnVuY3Rpb25cbiAqIC0gQWxzbyBzdXBwb3J0cyBtZXRhZGF0YS5mb3JtYXQgPSAncmVnaXN0ZXInIGluIGluc3RhbnRpYXRlIGZvciBhbm9ueW1vdXMgcmVnaXN0ZXIgbW9kdWxlc1xuICogLSBBbHNvIHN1cHBvcnRzIG1ldGFkYXRhLmRlcHMsIG1ldGFkYXRhLmV4ZWN1dGUgYW5kIG1ldGFkYXRhLmV4ZWN1dGluZ1JlcXVpcmVcbiAqICAgICBmb3IgaGFuZGxpbmcgZHluYW1pYyBtb2R1bGVzIGFsb25nc2lkZSByZWdpc3Rlci10cmFuc2Zvcm1lZCBFUzYgbW9kdWxlc1xuICpcbiAqXG4gKiBUaGUgY29kZSBoZXJlIHJlcGxpY2F0ZXMgdGhlIEVTNiBsaW5raW5nIGdyb3VwcyBhbGdvcml0aG0gdG8gZW5zdXJlIHRoYXRcbiAqIGNpcmN1bGFyIEVTNiBjb21waWxlZCBpbnRvIFN5c3RlbS5yZWdpc3RlciBjYW4gd29yayBhbG9uZ3NpZGUgY2lyY3VsYXIgQU1EIFxuICogYW5kIENvbW1vbkpTLCBpZGVudGljYWxseSB0byB0aGUgYWN0dWFsIEVTNiBsb2FkZXIuXG4gKlxuICovXG5cblxuLypcbiAqIFJlZ2lzdHJ5IHNpZGUgdGFibGUgZW50cmllcyBpbiBsb2FkZXIuZGVmaW5lZFxuICogUmVnaXN0cnkgRW50cnkgQ29udGFpbnM6XG4gKiAgICAtIG5hbWVcbiAqICAgIC0gZGVwcyBcbiAqICAgIC0gZGVjbGFyZSBmb3IgZGVjbGFyYXRpdmUgbW9kdWxlc1xuICogICAgLSBleGVjdXRlIGZvciBkeW5hbWljIG1vZHVsZXMsIGRpZmZlcmVudCB0byBkZWNsYXJhdGl2ZSBleGVjdXRlIG9uIG1vZHVsZVxuICogICAgLSBleGVjdXRpbmdSZXF1aXJlIGluZGljYXRlcyByZXF1aXJlIGRyaXZlcyBleGVjdXRpb24gZm9yIGNpcmN1bGFyaXR5IG9mIGR5bmFtaWMgbW9kdWxlc1xuICogICAgLSBkZWNsYXJhdGl2ZSBvcHRpb25hbCBib29sZWFuIGluZGljYXRpbmcgd2hpY2ggb2YgdGhlIGFib3ZlXG4gKlxuICogQ2FuIHByZWxvYWQgbW9kdWxlcyBkaXJlY3RseSBvbiBTeXN0ZW1KUy5kZWZpbmVkWydteS9tb2R1bGUnXSA9IHsgZGVwcywgZXhlY3V0ZSwgZXhlY3V0aW5nUmVxdWlyZSB9XG4gKlxuICogVGhlbiB0aGUgZW50cnkgZ2V0cyBwb3B1bGF0ZWQgd2l0aCBkZXJpdmVkIGluZm9ybWF0aW9uIGR1cmluZyBwcm9jZXNzaW5nOlxuICogICAgLSBub3JtYWxpemVkRGVwcyBkZXJpdmVkIGZyb20gZGVwcywgY3JlYXRlZCBpbiBpbnN0YW50aWF0ZVxuICogICAgLSBncm91cEluZGV4IHVzZWQgYnkgZ3JvdXAgbGlua2luZyBhbGdvcml0aG1cbiAqICAgIC0gZXZhbHVhdGVkIGluZGljYXRpbmcgd2hldGhlciBldmFsdWF0aW9uIGhhcyBoYXBwZW5kXG4gKiAgICAtIG1vZHVsZSB0aGUgbW9kdWxlIHJlY29yZCBvYmplY3QsIGNvbnRhaW5pbmc6XG4gKiAgICAgIC0gZXhwb3J0cyBhY3R1YWwgbW9kdWxlIGV4cG9ydHNcbiAqXG4gKiAgICBGb3IgZHluYW1pYyB3ZSB0cmFjayB0aGUgZXMgbW9kdWxlIHdpdGg6XG4gKiAgICAtIGVzTW9kdWxlIGFjdHVhbCBlcyBtb2R1bGUgdmFsdWVcbiAqICAgIC0gZXNtRXhwb3J0cyB3aGV0aGVyIHRvIGV4dGVuZCB0aGUgZXNNb2R1bGUgd2l0aCBuYW1lZCBleHBvcnRzXG4gKiAgICAgIFxuICogICAgVGhlbiBmb3IgZGVjbGFyYXRpdmUgb25seSB3ZSB0cmFjayBkeW5hbWljIGJpbmRpbmdzIHdpdGggdGhlICdtb2R1bGUnIHJlY29yZHM6XG4gKiAgICAgIC0gbmFtZVxuICogICAgICAtIGV4cG9ydHNcbiAqICAgICAgLSBzZXR0ZXJzIGRlY2xhcmF0aXZlIHNldHRlciBmdW5jdGlvbnNcbiAqICAgICAgLSBkZXBlbmRlbmNpZXMsIG1vZHVsZSByZWNvcmRzIG9mIGRlcGVuZGVuY2llc1xuICogICAgICAtIGltcG9ydGVycywgbW9kdWxlIHJlY29yZHMgb2YgZGVwZW5kZW50c1xuICpcbiAqIEFmdGVyIGxpbmtlZCBhbmQgZXZhbHVhdGVkLCBlbnRyaWVzIGFyZSByZW1vdmVkLCBkZWNsYXJhdGl2ZSBtb2R1bGUgcmVjb3JkcyByZW1haW4gaW4gc2VwYXJhdGVcbiAqIG1vZHVsZSBiaW5kaW5nIHRhYmxlXG4gKlxuICovXG5cbnZhciBsZWFkaW5nQ29tbWVudEFuZE1ldGFSZWdFeCA9IC9eKFxccypcXC9cXCpbXlxcKl0qKFxcKig/IVxcLylbXlxcKl0qKSpcXCpcXC98XFxzKlxcL1xcL1teXFxuXSp8XFxzKlwiW15cIl0rXCJcXHMqOz98XFxzKidbXiddKydcXHMqOz8pKlxccyovO1xuZnVuY3Rpb24gZGV0ZWN0UmVnaXN0ZXJGb3JtYXQoc291cmNlKSB7XG4gIHZhciBsZWFkaW5nQ29tbWVudEFuZE1ldGEgPSBzb3VyY2UubWF0Y2gobGVhZGluZ0NvbW1lbnRBbmRNZXRhUmVnRXgpO1xuICByZXR1cm4gbGVhZGluZ0NvbW1lbnRBbmRNZXRhICYmIHNvdXJjZS5zdWJzdHIobGVhZGluZ0NvbW1lbnRBbmRNZXRhWzBdLmxlbmd0aCwgMTUpID09ICdTeXN0ZW0ucmVnaXN0ZXInO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbnRyeSgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBudWxsLFxuICAgIGRlcHM6IG51bGwsXG4gICAgb3JpZ2luYWxJbmRpY2VzOiBudWxsLFxuICAgIGRlY2xhcmU6IG51bGwsXG4gICAgZXhlY3V0ZTogbnVsbCxcbiAgICBleGVjdXRpbmdSZXF1aXJlOiBmYWxzZSxcbiAgICBkZWNsYXJhdGl2ZTogZmFsc2UsXG4gICAgbm9ybWFsaXplZERlcHM6IG51bGwsXG4gICAgZ3JvdXBJbmRleDogbnVsbCxcbiAgICBldmFsdWF0ZWQ6IGZhbHNlLFxuICAgIG1vZHVsZTogbnVsbCxcbiAgICBlc01vZHVsZTogbnVsbCxcbiAgICBlc21FeHBvcnRzOiBmYWxzZVxuICB9O1xufVxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLypcbiAgICogVGhlcmUgYXJlIHR3byB2YXJpYXRpb25zIG9mIFN5c3RlbS5yZWdpc3RlcjpcbiAgICogMS4gU3lzdGVtLnJlZ2lzdGVyIGZvciBFUzYgY29udmVyc2lvbiAoMi0zIHBhcmFtcykgLSBTeXN0ZW0ucmVnaXN0ZXIoW25hbWUsIF1kZXBzLCBkZWNsYXJlKVxuICAgKiAgICBzZWUgaHR0cHM6Ly9naXRodWIuY29tL01vZHVsZUxvYWRlci9lczYtbW9kdWxlLWxvYWRlci93aWtpL1N5c3RlbS5yZWdpc3Rlci1FeHBsYWluZWRcbiAgICpcbiAgICogMi4gU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyBmb3IgZHluYW1pYyBtb2R1bGVzICgzLTQgcGFyYW1zKSAtIFN5c3RlbS5yZWdpc3RlckR5bmFtaWMoW25hbWUsIF1kZXBzLCBleGVjdXRpbmdSZXF1aXJlLCBleGVjdXRlKVxuICAgKiB0aGUgdHJ1ZSBvciBmYWxzZSBzdGF0ZW1lbnQgXG4gICAqXG4gICAqIHRoaXMgZXh0ZW5zaW9uIGltcGxlbWVudHMgdGhlIGxpbmtpbmcgYWxnb3JpdGhtIGZvciB0aGUgdHdvIHZhcmlhdGlvbnMgaWRlbnRpY2FsIHRvIHRoZSBzcGVjXG4gICAqIGFsbG93aW5nIGNvbXBpbGVkIEVTNiBjaXJjdWxhciByZWZlcmVuY2VzIHRvIHdvcmsgYWxvbmdzaWRlIEFNRCBhbmQgQ0pTIGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4gICAqXG4gICAqL1xuICBTeXN0ZW1KU0xvYWRlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBkZXBzLCBkZWNsYXJlKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9ICdzdHJpbmcnKSB7XG4gICAgICBkZWNsYXJlID0gZGVwcztcbiAgICAgIGRlcHMgPSBuYW1lO1xuICAgICAgbmFtZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gZHluYW1pYyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eVxuICAgIC8vIGNhbiBiZSBkZXByZWNhdGVkIGV2ZW50dWFsbHlcbiAgICBpZiAodHlwZW9mIGRlY2xhcmUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJEeW5hbWljLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgIC8vIGlkZWFsbHkgd291bGRuJ3QgYXBwbHkgbWFwIGNvbmZpZyB0byBidW5kbGUgbmFtZXMgYnV0IFxuICAgIC8vIGRlcGVuZGVuY2llcyBnbyB0aHJvdWdoIG1hcCByZWdhcmRsZXNzIHNvIHdlIGNhbid0IHJlc3RyaWN0XG4gICAgLy8gY291bGQgcmVjb25zaWRlciBpbiBzaGlmdCB0byBuZXcgc3BlY1xuICAgIGVudHJ5Lm5hbWUgPSBuYW1lICYmICh0aGlzLmRlY2Fub25pY2FsaXplIHx8IHRoaXMubm9ybWFsaXplKS5jYWxsKHRoaXMsIG5hbWUpO1xuICAgIGVudHJ5LmRlY2xhcmF0aXZlID0gdHJ1ZTtcbiAgICBlbnRyeS5kZXBzID0gZGVwcztcbiAgICBlbnRyeS5kZWNsYXJlID0gZGVjbGFyZTtcblxuICAgIHRoaXMucHVzaFJlZ2lzdGVyXyh7XG4gICAgICBhbWQ6IGZhbHNlLFxuICAgICAgZW50cnk6IGVudHJ5XG4gICAgfSk7XG4gIH07XG4gIFN5c3RlbUpTTG9hZGVyLnByb3RvdHlwZS5yZWdpc3RlckR5bmFtaWMgPSBmdW5jdGlvbihuYW1lLCBkZXBzLCBkZWNsYXJlLCBleGVjdXRlKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9ICdzdHJpbmcnKSB7XG4gICAgICBleGVjdXRlID0gZGVjbGFyZTtcbiAgICAgIGRlY2xhcmUgPSBkZXBzO1xuICAgICAgZGVwcyA9IG5hbWU7XG4gICAgICBuYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBkeW5hbWljXG4gICAgdmFyIGVudHJ5ID0gY3JlYXRlRW50cnkoKTtcbiAgICBlbnRyeS5uYW1lID0gbmFtZSAmJiAodGhpcy5kZWNhbm9uaWNhbGl6ZSB8fCB0aGlzLm5vcm1hbGl6ZSkuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICBlbnRyeS5kZXBzID0gZGVwcztcbiAgICBlbnRyeS5leGVjdXRlID0gZXhlY3V0ZTtcbiAgICBlbnRyeS5leGVjdXRpbmdSZXF1aXJlID0gZGVjbGFyZTtcblxuICAgIHRoaXMucHVzaFJlZ2lzdGVyXyh7XG4gICAgICBhbWQ6IGZhbHNlLFxuICAgICAgZW50cnk6IGVudHJ5XG4gICAgfSk7XG4gIH07XG4gIGhvb2soJ3JlZHVjZVJlZ2lzdGVyXycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkLCByZWdpc3Rlcikge1xuICAgICAgaWYgKCFyZWdpc3RlcilcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICB2YXIgZW50cnkgPSByZWdpc3Rlci5lbnRyeTtcbiAgICAgIHZhciBjdXJNZXRhID0gbG9hZCAmJiBsb2FkLm1ldGFkYXRhO1xuXG4gICAgICAvLyBuYW1lZCByZWdpc3RlclxuICAgICAgaWYgKGVudHJ5Lm5hbWUpIHtcbiAgICAgICAgaWYgKCEoZW50cnkubmFtZSBpbiB0aGlzLmRlZmluZWQpKVxuICAgICAgICAgIHRoaXMuZGVmaW5lZFtlbnRyeS5uYW1lXSA9IGVudHJ5O1xuXG4gICAgICAgIGlmIChjdXJNZXRhKVxuICAgICAgICAgIGN1ck1ldGEuYnVuZGxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIGFub255bW91cyByZWdpc3RlclxuICAgICAgaWYgKCFlbnRyeS5uYW1lIHx8IGxvYWQgJiYgZW50cnkubmFtZSA9PSBsb2FkLm5hbWUpIHtcbiAgICAgICAgaWYgKCFjdXJNZXRhKVxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgYW5vbnltb3VzIFN5c3RlbS5yZWdpc3RlciBjYWxsLicpO1xuICAgICAgICBpZiAoY3VyTWV0YS5lbnRyeSkge1xuICAgICAgICAgIGlmIChjdXJNZXRhLmZvcm1hdCA9PSAncmVnaXN0ZXInKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZSBhbm9ueW1vdXMgU3lzdGVtLnJlZ2lzdGVyIGNhbGxzIGluIG1vZHVsZSAnICsgbG9hZC5uYW1lICsgJy4gSWYgbG9hZGluZyBhIGJ1bmRsZSwgZW5zdXJlIGFsbCB0aGUgU3lzdGVtLnJlZ2lzdGVyIGNhbGxzIGFyZSBuYW1lZC4nKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vZHVsZSAnICsgbG9hZC5uYW1lICsgJyBpbnRlcnByZXRlZCBhcyAnICsgY3VyTWV0YS5mb3JtYXQgKyAnIG1vZHVsZSBmb3JtYXQsIGJ1dCBjYWxsZWQgU3lzdGVtLnJlZ2lzdGVyLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3VyTWV0YS5mb3JtYXQpXG4gICAgICAgICAgY3VyTWV0YS5mb3JtYXQgPSAncmVnaXN0ZXInO1xuICAgICAgICBjdXJNZXRhLmVudHJ5ID0gZW50cnk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9va0NvbnN0cnVjdG9yKGZ1bmN0aW9uKGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5kZWZpbmVkID0ge307XG4gICAgICB0aGlzLl9sb2FkZXIubW9kdWxlUmVjb3JkcyA9IHt9O1xuICAgIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkR3JvdXBzKGVudHJ5LCBsb2FkZXIsIGdyb3Vwcykge1xuICAgIGdyb3Vwc1tlbnRyeS5ncm91cEluZGV4XSA9IGdyb3Vwc1tlbnRyeS5ncm91cEluZGV4XSB8fCBbXTtcblxuICAgIGlmIChpbmRleE9mLmNhbGwoZ3JvdXBzW2VudHJ5Lmdyb3VwSW5kZXhdLCBlbnRyeSkgIT0gLTEpXG4gICAgICByZXR1cm47XG5cbiAgICBncm91cHNbZW50cnkuZ3JvdXBJbmRleF0ucHVzaChlbnRyeSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGRlcE5hbWUgPSBlbnRyeS5ub3JtYWxpemVkRGVwc1tpXTtcbiAgICAgIHZhciBkZXBFbnRyeSA9IGxvYWRlci5kZWZpbmVkW2RlcE5hbWVdO1xuICAgICAgXG4gICAgICAvLyBub3QgaW4gdGhlIHJlZ2lzdHJ5IG1lYW5zIGFscmVhZHkgbGlua2VkIC8gRVM2XG4gICAgICBpZiAoIWRlcEVudHJ5IHx8IGRlcEVudHJ5LmV2YWx1YXRlZClcbiAgICAgICAgY29udGludWU7XG4gICAgICBcbiAgICAgIC8vIG5vdyB3ZSBrbm93IHRoZSBlbnRyeSBpcyBpbiBvdXIgdW5saW5rZWQgbGlua2FnZSBncm91cFxuICAgICAgdmFyIGRlcEdyb3VwSW5kZXggPSBlbnRyeS5ncm91cEluZGV4ICsgKGRlcEVudHJ5LmRlY2xhcmF0aXZlICE9IGVudHJ5LmRlY2xhcmF0aXZlKTtcblxuICAgICAgLy8gdGhlIGdyb3VwIGluZGV4IG9mIGFuIGVudHJ5IGlzIGFsd2F5cyB0aGUgbWF4aW11bVxuICAgICAgaWYgKGRlcEVudHJ5Lmdyb3VwSW5kZXggPT09IG51bGwgfHwgZGVwRW50cnkuZ3JvdXBJbmRleCA8IGRlcEdyb3VwSW5kZXgpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIGlmIGFscmVhZHkgaW4gYSBncm91cCwgcmVtb3ZlIGZyb20gdGhlIG9sZCBncm91cFxuICAgICAgICBpZiAoZGVwRW50cnkuZ3JvdXBJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgIGdyb3Vwc1tkZXBFbnRyeS5ncm91cEluZGV4XS5zcGxpY2UoaW5kZXhPZi5jYWxsKGdyb3Vwc1tkZXBFbnRyeS5ncm91cEluZGV4XSwgZGVwRW50cnkpLCAxKTtcblxuICAgICAgICAgIC8vIGlmIHRoZSBvbGQgZ3JvdXAgaXMgZW1wdHksIHRoZW4gd2UgaGF2ZSBhIG1peGVkIGRlcG5kZW5jeSBjeWNsZVxuICAgICAgICAgIGlmIChncm91cHNbZGVwRW50cnkuZ3JvdXBJbmRleF0ubGVuZ3RoID09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXhlZCBkZXBlbmRlbmN5IGN5Y2xlIGRldGVjdGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVwRW50cnkuZ3JvdXBJbmRleCA9IGRlcEdyb3VwSW5kZXg7XG4gICAgICB9XG5cbiAgICAgIGJ1aWxkR3JvdXBzKGRlcEVudHJ5LCBsb2FkZXIsIGdyb3Vwcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbGluayhuYW1lLCBsb2FkZXIpIHtcbiAgICB2YXIgc3RhcnRFbnRyeSA9IGxvYWRlci5kZWZpbmVkW25hbWVdO1xuXG4gICAgLy8gc2tpcCBpZiBhbHJlYWR5IGxpbmtlZFxuICAgIGlmIChzdGFydEVudHJ5Lm1vZHVsZSlcbiAgICAgIHJldHVybjtcblxuICAgIHN0YXJ0RW50cnkuZ3JvdXBJbmRleCA9IDA7XG5cbiAgICB2YXIgZ3JvdXBzID0gW107XG5cbiAgICBidWlsZEdyb3VwcyhzdGFydEVudHJ5LCBsb2FkZXIsIGdyb3Vwcyk7XG5cbiAgICB2YXIgY3VyR3JvdXBEZWNsYXJhdGl2ZSA9ICEhc3RhcnRFbnRyeS5kZWNsYXJhdGl2ZSA9PSBncm91cHMubGVuZ3RoICUgMjtcbiAgICBmb3IgKHZhciBpID0gZ3JvdXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdyb3VwLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGdyb3VwW2pdO1xuXG4gICAgICAgIC8vIGxpbmsgZWFjaCBncm91cFxuICAgICAgICBpZiAoY3VyR3JvdXBEZWNsYXJhdGl2ZSlcbiAgICAgICAgICBsaW5rRGVjbGFyYXRpdmVNb2R1bGUoZW50cnksIGxvYWRlcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBsaW5rRHluYW1pY01vZHVsZShlbnRyeSwgbG9hZGVyKTtcbiAgICAgIH1cbiAgICAgIGN1ckdyb3VwRGVjbGFyYXRpdmUgPSAhY3VyR3JvdXBEZWNsYXJhdGl2ZTsgXG4gICAgfVxuICB9XG5cbiAgLy8gbW9kdWxlIGJpbmRpbmcgcmVjb3Jkc1xuICBmdW5jdGlvbiBNb2R1bGUoKSB7fVxuICBkZWZpbmVQcm9wZXJ0eShNb2R1bGUsICd0b1N0cmluZycsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ01vZHVsZSc7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRPckNyZWF0ZU1vZHVsZVJlY29yZChuYW1lLCBtb2R1bGVSZWNvcmRzKSB7XG4gICAgcmV0dXJuIG1vZHVsZVJlY29yZHNbbmFtZV0gfHwgKG1vZHVsZVJlY29yZHNbbmFtZV0gPSB7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgIGV4cG9ydHM6IG5ldyBNb2R1bGUoKSwgLy8gc3RhcnQgZnJvbSBhbiBlbXB0eSBtb2R1bGUgYW5kIGV4dGVuZFxuICAgICAgaW1wb3J0ZXJzOiBbXVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlua0RlY2xhcmF0aXZlTW9kdWxlKGVudHJ5LCBsb2FkZXIpIHtcbiAgICAvLyBvbmx5IGxpbmsgaWYgYWxyZWFkeSBub3QgYWxyZWFkeSBzdGFydGVkIGxpbmtpbmcgKHN0b3BzIGF0IGNpcmN1bGFyKVxuICAgIGlmIChlbnRyeS5tb2R1bGUpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgbW9kdWxlUmVjb3JkcyA9IGxvYWRlci5fbG9hZGVyLm1vZHVsZVJlY29yZHM7XG4gICAgdmFyIG1vZHVsZSA9IGVudHJ5Lm1vZHVsZSA9IGdldE9yQ3JlYXRlTW9kdWxlUmVjb3JkKGVudHJ5Lm5hbWUsIG1vZHVsZVJlY29yZHMpO1xuICAgIHZhciBleHBvcnRzID0gZW50cnkubW9kdWxlLmV4cG9ydHM7XG5cbiAgICB2YXIgZGVjbGFyYXRpb24gPSBlbnRyeS5kZWNsYXJlLmNhbGwoX19nbG9iYWwsIGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICBtb2R1bGUubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBuYW1lID09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbmFtZSlcbiAgICAgICAgICBleHBvcnRzW3BdID0gbmFtZVtwXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBleHBvcnRzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbW9kdWxlLmltcG9ydGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGltcG9ydGVyTW9kdWxlID0gbW9kdWxlLmltcG9ydGVyc1tpXTtcbiAgICAgICAgaWYgKCFpbXBvcnRlck1vZHVsZS5sb2NrZWQpIHtcbiAgICAgICAgICB2YXIgaW1wb3J0ZXJJbmRleCA9IGluZGV4T2YuY2FsbChpbXBvcnRlck1vZHVsZS5kZXBlbmRlbmNpZXMsIG1vZHVsZSk7XG4gICAgICAgICAgaW1wb3J0ZXJNb2R1bGUuc2V0dGVyc1tpbXBvcnRlckluZGV4XShleHBvcnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtb2R1bGUubG9ja2VkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSwgeyBpZDogZW50cnkubmFtZSB9KTtcbiAgICBcbiAgICBtb2R1bGUuc2V0dGVycyA9IGRlY2xhcmF0aW9uLnNldHRlcnM7XG4gICAgbW9kdWxlLmV4ZWN1dGUgPSBkZWNsYXJhdGlvbi5leGVjdXRlO1xuXG4gICAgaWYgKCFtb2R1bGUuc2V0dGVycyB8fCAhbW9kdWxlLmV4ZWN1dGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgU3lzdGVtLnJlZ2lzdGVyIGZvcm0gZm9yICcgKyBlbnRyeS5uYW1lKTtcbiAgICB9XG5cbiAgICAvLyBub3cgbGluayBhbGwgdGhlIG1vZHVsZSBkZXBlbmRlbmNpZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGRlcE5hbWUgPSBlbnRyeS5ub3JtYWxpemVkRGVwc1tpXTtcbiAgICAgIHZhciBkZXBFbnRyeSA9IGxvYWRlci5kZWZpbmVkW2RlcE5hbWVdO1xuICAgICAgdmFyIGRlcE1vZHVsZSA9IG1vZHVsZVJlY29yZHNbZGVwTmFtZV07XG5cbiAgICAgIC8vIHdvcmsgb3V0IGhvdyB0byBzZXQgZGVwRXhwb3J0cyBiYXNlZCBvbiBzY2VuYXJpb3MuLi5cbiAgICAgIHZhciBkZXBFeHBvcnRzO1xuXG4gICAgICBpZiAoZGVwTW9kdWxlKSB7XG4gICAgICAgIGRlcEV4cG9ydHMgPSBkZXBNb2R1bGUuZXhwb3J0cztcbiAgICAgIH1cbiAgICAgIC8vIGR5bmFtaWMsIGFscmVhZHkgbGlua2VkIGluIG91ciByZWdpc3RyeVxuICAgICAgZWxzZSBpZiAoZGVwRW50cnkgJiYgIWRlcEVudHJ5LmRlY2xhcmF0aXZlKSB7XG4gICAgICAgIGRlcEV4cG9ydHMgPSBkZXBFbnRyeS5lc01vZHVsZTtcbiAgICAgIH1cbiAgICAgIC8vIGluIHRoZSBsb2FkZXIgcmVnaXN0cnlcbiAgICAgIGVsc2UgaWYgKCFkZXBFbnRyeSkge1xuICAgICAgICBkZXBFeHBvcnRzID0gbG9hZGVyLmdldChkZXBOYW1lKTtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGhhdmUgYW4gZW50cnkgLT4gbGlua1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxpbmtEZWNsYXJhdGl2ZU1vZHVsZShkZXBFbnRyeSwgbG9hZGVyKTtcbiAgICAgICAgZGVwTW9kdWxlID0gZGVwRW50cnkubW9kdWxlO1xuICAgICAgICBkZXBFeHBvcnRzID0gZGVwTW9kdWxlLmV4cG9ydHM7XG4gICAgICB9XG5cbiAgICAgIC8vIG9ubHkgZGVjbGFyYXRpdmUgbW9kdWxlcyBoYXZlIGR5bmFtaWMgYmluZGluZ3NcbiAgICAgIGlmIChkZXBNb2R1bGUgJiYgZGVwTW9kdWxlLmltcG9ydGVycykge1xuICAgICAgICBkZXBNb2R1bGUuaW1wb3J0ZXJzLnB1c2gobW9kdWxlKTtcbiAgICAgICAgbW9kdWxlLmRlcGVuZGVuY2llcy5wdXNoKGRlcE1vZHVsZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbW9kdWxlLmRlcGVuZGVuY2llcy5wdXNoKG51bGwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBydW4gc2V0dGVycyBmb3IgYWxsIGVudHJpZXMgd2l0aCB0aGUgbWF0Y2hpbmcgZGVwZW5kZW5jeSBuYW1lXG4gICAgICB2YXIgb3JpZ2luYWxJbmRpY2VzID0gZW50cnkub3JpZ2luYWxJbmRpY2VzW2ldO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIGxlbiA9IG9yaWdpbmFsSW5kaWNlcy5sZW5ndGg7IGogPCBsZW47ICsraikge1xuICAgICAgICB2YXIgaW5kZXggPSBvcmlnaW5hbEluZGljZXNbal07XG4gICAgICAgIGlmIChtb2R1bGUuc2V0dGVyc1tpbmRleF0pIHtcbiAgICAgICAgICBtb2R1bGUuc2V0dGVyc1tpbmRleF0oZGVwRXhwb3J0cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBbiBhbmFsb2cgdG8gbG9hZGVyLmdldCBjb3ZlcmluZyBleGVjdXRpb24gb2YgYWxsIHRocmVlIGxheWVycyAocmVhbCBkZWNsYXJhdGl2ZSwgc2ltdWxhdGVkIGRlY2xhcmF0aXZlLCBzaW11bGF0ZWQgZHluYW1pYylcbiAgZnVuY3Rpb24gZ2V0TW9kdWxlKG5hbWUsIGxvYWRlcikge1xuICAgIHZhciBleHBvcnRzO1xuICAgIHZhciBlbnRyeSA9IGxvYWRlci5kZWZpbmVkW25hbWVdO1xuXG4gICAgaWYgKCFlbnRyeSkge1xuICAgICAgZXhwb3J0cyA9IGxvYWRlci5nZXQobmFtZSk7XG4gICAgICBpZiAoIWV4cG9ydHMpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvYWQgZGVwZW5kZW5jeSAnICsgbmFtZSArICcuJyk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICBpZiAoZW50cnkuZGVjbGFyYXRpdmUpXG4gICAgICAgIGVuc3VyZUV2YWx1YXRlZChuYW1lLCBbXSwgbG9hZGVyKTtcbiAgICBcbiAgICAgIGVsc2UgaWYgKCFlbnRyeS5ldmFsdWF0ZWQpXG4gICAgICAgIGxpbmtEeW5hbWljTW9kdWxlKGVudHJ5LCBsb2FkZXIpO1xuXG4gICAgICBleHBvcnRzID0gZW50cnkubW9kdWxlLmV4cG9ydHM7XG4gICAgfVxuXG4gICAgaWYgKCghZW50cnkgfHwgZW50cnkuZGVjbGFyYXRpdmUpICYmIGV4cG9ydHMgJiYgZXhwb3J0cy5fX3VzZURlZmF1bHQpXG4gICAgICByZXR1cm4gZXhwb3J0c1snZGVmYXVsdCddO1xuICAgIFxuICAgIHJldHVybiBleHBvcnRzO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlua0R5bmFtaWNNb2R1bGUoZW50cnksIGxvYWRlcikge1xuICAgIGlmIChlbnRyeS5tb2R1bGUpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgZXhwb3J0cyA9IHt9O1xuXG4gICAgdmFyIG1vZHVsZSA9IGVudHJ5Lm1vZHVsZSA9IHsgZXhwb3J0czogZXhwb3J0cywgaWQ6IGVudHJ5Lm5hbWUgfTtcblxuICAgIC8vIEFNRCByZXF1aXJlcyBleGVjdXRlIHRoZSB0cmVlIGZpcnN0XG4gICAgaWYgKCFlbnRyeS5leGVjdXRpbmdSZXF1aXJlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgZGVwTmFtZSA9IGVudHJ5Lm5vcm1hbGl6ZWREZXBzW2ldO1xuICAgICAgICAvLyB3ZSBrbm93IHdlIG9ubHkgbmVlZCB0byBsaW5rIGR5bmFtaWMgZHVlIHRvIGxpbmtpbmcgYWxnb3JpdGhtXG4gICAgICAgIHZhciBkZXBFbnRyeSA9IGxvYWRlci5kZWZpbmVkW2RlcE5hbWVdO1xuICAgICAgICBpZiAoZGVwRW50cnkpXG4gICAgICAgICAgbGlua0R5bmFtaWNNb2R1bGUoZGVwRW50cnksIGxvYWRlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IGV4ZWN1dGVcbiAgICBlbnRyeS5ldmFsdWF0ZWQgPSB0cnVlO1xuICAgIHZhciBvdXRwdXQgPSBlbnRyeS5leGVjdXRlLmNhbGwoX19nbG9iYWwsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZW50cnkuZGVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGVudHJ5LmRlcHNbaV0gIT0gbmFtZSlcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIGdldE1vZHVsZShlbnRyeS5ub3JtYWxpemVkRGVwc1tpXSwgbG9hZGVyKTtcbiAgICAgIH1cbiAgICAgIC8vIHRyeSBhbmQgbm9ybWFsaXplIHRoZSBkZXBlbmRlbmN5IHRvIHNlZSBpZiB3ZSBoYXZlIGFub3RoZXIgZm9ybVxuICAgICAgdmFyIG5hbWVOb3JtYWxpemVkID0gbG9hZGVyLm5vcm1hbGl6ZVN5bmMobmFtZSwgZW50cnkubmFtZSk7XG4gICAgICBpZiAoaW5kZXhPZi5jYWxsKGVudHJ5Lm5vcm1hbGl6ZWREZXBzLCBuYW1lTm9ybWFsaXplZCkgIT0gLTEpXG4gICAgICAgIHJldHVybiBnZXRNb2R1bGUobmFtZU5vcm1hbGl6ZWQsIGxvYWRlcik7XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcignTW9kdWxlICcgKyBuYW1lICsgJyBub3QgZGVjbGFyZWQgYXMgYSBkZXBlbmRlbmN5IG9mICcgKyBlbnRyeS5uYW1lKTtcbiAgICB9LCBleHBvcnRzLCBtb2R1bGUpO1xuICAgIFxuICAgIGlmIChvdXRwdXQpXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IG91dHB1dDtcblxuICAgIC8vIGNyZWF0ZSB0aGUgZXNNb2R1bGUgb2JqZWN0LCB3aGljaCBhbGxvd3MgRVM2IG5hbWVkIGltcG9ydHMgb2YgZHluYW1pY3NcbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHM7XG5cbiAgICAvLyBfX2VzTW9kdWxlIGZsYWcgdHJlYXRzIGFzIGFscmVhZHktbmFtZWRcbiAgICBpZiAoZXhwb3J0cyAmJiBleHBvcnRzLl9fZXNNb2R1bGUpXG4gICAgICBlbnRyeS5lc01vZHVsZSA9IGV4cG9ydHM7XG4gICAgLy8gc2V0IG1vZHVsZSBhcyAnZGVmYXVsdCcgZXhwb3J0LCB0aGVuIGZha2UgbmFtZWQgZXhwb3J0cyBieSBpdGVyYXRpbmcgcHJvcGVydGllc1xuICAgIGVsc2UgaWYgKGVudHJ5LmVzbUV4cG9ydHMgJiYgZXhwb3J0cyAhPT0gX19nbG9iYWwpXG4gICAgICBlbnRyeS5lc01vZHVsZSA9IGdldEVTTW9kdWxlKGV4cG9ydHMpO1xuICAgIC8vIGp1c3QgdXNlIHRoZSAnZGVmYXVsdCcgZXhwb3J0XG4gICAgZWxzZVxuICAgICAgZW50cnkuZXNNb2R1bGUgPSB7ICdkZWZhdWx0JzogZXhwb3J0cyB9O1xuICB9XG5cbiAgLypcbiAgICogR2l2ZW4gYSBtb2R1bGUsIGFuZCB0aGUgbGlzdCBvZiBtb2R1bGVzIGZvciB0aGlzIGN1cnJlbnQgYnJhbmNoLFxuICAgKiAgZW5zdXJlIHRoYXQgZWFjaCBvZiB0aGUgZGVwZW5kZW5jaWVzIG9mIHRoaXMgbW9kdWxlIGlzIGV2YWx1YXRlZFxuICAgKiAgKHVubGVzcyBvbmUgaXMgYSBjaXJjdWxhciBkZXBlbmRlbmN5IGFscmVhZHkgaW4gdGhlIGxpc3Qgb2Ygc2VlblxuICAgKiAgbW9kdWxlcywgaW4gd2hpY2ggY2FzZSB3ZSBleGVjdXRlIGl0KVxuICAgKlxuICAgKiBUaGVuIHdlIGV2YWx1YXRlIHRoZSBtb2R1bGUgaXRzZWxmIGRlcHRoLWZpcnN0IGxlZnQgdG8gcmlnaHQgXG4gICAqIGV4ZWN1dGlvbiB0byBtYXRjaCBFUzYgbW9kdWxlc1xuICAgKi9cbiAgZnVuY3Rpb24gZW5zdXJlRXZhbHVhdGVkKG1vZHVsZU5hbWUsIHNlZW4sIGxvYWRlcikge1xuICAgIHZhciBlbnRyeSA9IGxvYWRlci5kZWZpbmVkW21vZHVsZU5hbWVdO1xuXG4gICAgLy8gaWYgYWxyZWFkeSBzZWVuLCB0aGF0IG1lYW5zIGl0J3MgYW4gYWxyZWFkeS1ldmFsdWF0ZWQgbm9uIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICBpZiAoIWVudHJ5IHx8IGVudHJ5LmV2YWx1YXRlZCB8fCAhZW50cnkuZGVjbGFyYXRpdmUpXG4gICAgICByZXR1cm47XG5cbiAgICAvLyB0aGlzIG9ubHkgYXBwbGllcyB0byBkZWNsYXJhdGl2ZSBtb2R1bGVzIHdoaWNoIGxhdGUtZXhlY3V0ZVxuXG4gICAgc2Vlbi5wdXNoKG1vZHVsZU5hbWUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBlbnRyeS5ub3JtYWxpemVkRGVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBkZXBOYW1lID0gZW50cnkubm9ybWFsaXplZERlcHNbaV07XG4gICAgICBpZiAoaW5kZXhPZi5jYWxsKHNlZW4sIGRlcE5hbWUpID09IC0xKSB7XG4gICAgICAgIGlmICghbG9hZGVyLmRlZmluZWRbZGVwTmFtZV0pXG4gICAgICAgICAgbG9hZGVyLmdldChkZXBOYW1lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGVuc3VyZUV2YWx1YXRlZChkZXBOYW1lLCBzZWVuLCBsb2FkZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeS5ldmFsdWF0ZWQpXG4gICAgICByZXR1cm47XG5cbiAgICBlbnRyeS5ldmFsdWF0ZWQgPSB0cnVlO1xuICAgIGVudHJ5Lm1vZHVsZS5leGVjdXRlLmNhbGwoX19nbG9iYWwpO1xuICB9XG5cbiAgLy8gb3ZlcnJpZGUgdGhlIGRlbGV0ZSBtZXRob2QgdG8gYWxzbyBjbGVhciB0aGUgcmVnaXN0ZXIgY2FjaGVzXG4gIGhvb2soJ2RlbGV0ZScsIGZ1bmN0aW9uKGRlbCkge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBkZWxldGUgdGhpcy5fbG9hZGVyLm1vZHVsZVJlY29yZHNbbmFtZV07XG4gICAgICBkZWxldGUgdGhpcy5kZWZpbmVkW25hbWVdO1xuICAgICAgcmV0dXJuIGRlbC5jYWxsKHRoaXMsIG5hbWUpO1xuICAgIH07XG4gIH0pO1xuXG4gIGhvb2soJ2ZldGNoJywgZnVuY3Rpb24oZmV0Y2gpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgaWYgKHRoaXMuZGVmaW5lZFtsb2FkLm5hbWVdKSB7XG4gICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ2RlZmluZWQnO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIGxvYWQubWV0YWRhdGEuZGVwcyA9IGxvYWQubWV0YWRhdGEuZGVwcyB8fCBbXTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGZldGNoLmNhbGwodGhpcywgbG9hZCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9vaygndHJhbnNsYXRlJywgZnVuY3Rpb24odHJhbnNsYXRlKSB7XG4gICAgLy8gd2UgcnVuIHRoZSBtZXRhIGRldGVjdGlvbiBoZXJlIChyZWdpc3RlciBpcyBhZnRlciBtZXRhKVxuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICBsb2FkLm1ldGFkYXRhLmRlcHMgPSBsb2FkLm1ldGFkYXRhLmRlcHMgfHwgW107XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRyYW5zbGF0ZS5jYWxsKHRoaXMsIGxvYWQpKS50aGVuKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICAvLyBydW4gZGV0ZWN0aW9uIGZvciByZWdpc3RlciBmb3JtYXRcbiAgICAgICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdyZWdpc3RlcicgfHwgIWxvYWQubWV0YWRhdGEuZm9ybWF0ICYmIGRldGVjdFJlZ2lzdGVyRm9ybWF0KGxvYWQuc291cmNlKSlcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmZvcm1hdCA9ICdyZWdpc3Rlcic7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICBob29rKCdpbnN0YW50aWF0ZScsIGZ1bmN0aW9uKGluc3RhbnRpYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAnZGV0ZWN0JylcbiAgICAgICAgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIGFzc3VtZXMgcHJldmlvdXMgaW5zdGFudGlhdGUgaXMgc3luY1xuICAgICAgLy8gKGNvcmUganNvbiBzdXBwb3J0KVxuICAgICAgaW5zdGFudGlhdGUuY2FsbCh0aGlzLCBsb2FkKTtcblxuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG5cbiAgICAgIHZhciBlbnRyeTtcblxuICAgICAgLy8gZmlyc3Qgd2UgY2hlY2sgaWYgdGhpcyBtb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGluIHRoZSByZWdpc3RyeVxuICAgICAgaWYgKGxvYWRlci5kZWZpbmVkW2xvYWQubmFtZV0pIHtcbiAgICAgICAgZW50cnkgPSBsb2FkZXIuZGVmaW5lZFtsb2FkLm5hbWVdO1xuICAgICAgICAvLyBkb24ndCBzdXBwb3J0IGRlcHMgZm9yIEVTIG1vZHVsZXNcbiAgICAgICAgaWYgKCFlbnRyeS5kZWNsYXJhdGl2ZSlcbiAgICAgICAgICBlbnRyeS5kZXBzID0gZW50cnkuZGVwcy5jb25jYXQobG9hZC5tZXRhZGF0YS5kZXBzKTtcbiAgICAgIH1cblxuICAgICAgLy8gcGlja2VkIHVwIGFscmVhZHkgYnkgYW4gYW5vbnltb3VzIFN5c3RlbS5yZWdpc3RlciBzY3JpcHQgaW5qZWN0aW9uXG4gICAgICAvLyBvciB2aWEgdGhlIGR5bmFtaWMgZm9ybWF0c1xuICAgICAgZWxzZSBpZiAobG9hZC5tZXRhZGF0YS5lbnRyeSkge1xuICAgICAgICBlbnRyeSA9IGxvYWQubWV0YWRhdGEuZW50cnk7XG4gICAgICAgIGVudHJ5LmRlcHMgPSBlbnRyeS5kZXBzLmNvbmNhdChsb2FkLm1ldGFkYXRhLmRlcHMpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb250YWlucyBTeXN0ZW0ucmVnaXN0ZXIgY2FsbHNcbiAgICAgIC8vIChkb250IHJ1biBidW5kbGVzIGluIHRoZSBidWlsZGVyKVxuICAgICAgZWxzZSBpZiAoIShsb2FkZXIuYnVpbGRlciAmJiBsb2FkLm1ldGFkYXRhLmJ1bmRsZSkgXG4gICAgICAgICAgJiYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdyZWdpc3RlcicgfHwgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ2VzbScgfHwgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ2VzNicpKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAodHlwZW9mIF9fZXhlYyAhPSAndW5kZWZpbmVkJylcbiAgICAgICAgICBfX2V4ZWMuY2FsbChsb2FkZXIsIGxvYWQpO1xuXG4gICAgICAgIGlmICghbG9hZC5tZXRhZGF0YS5lbnRyeSAmJiAhbG9hZC5tZXRhZGF0YS5idW5kbGUpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGxvYWQubmFtZSArICcgZGV0ZWN0ZWQgYXMgJyArIGxvYWQubWV0YWRhdGEuZm9ybWF0ICsgJyBidXQgZGlkblxcJ3QgZXhlY3V0ZS4nKTtcblxuICAgICAgICBlbnRyeSA9IGxvYWQubWV0YWRhdGEuZW50cnk7XG5cbiAgICAgICAgLy8gc3VwcG9ydCBtZXRhZGF0YSBkZXBzIGZvciBTeXN0ZW0ucmVnaXN0ZXJcbiAgICAgICAgaWYgKGVudHJ5ICYmIGxvYWQubWV0YWRhdGEuZGVwcylcbiAgICAgICAgICBlbnRyeS5kZXBzID0gZW50cnkuZGVwcy5jb25jYXQobG9hZC5tZXRhZGF0YS5kZXBzKTtcbiAgICAgIH1cblxuICAgICAgLy8gbmFtZWQgYnVuZGxlcyBhcmUganVzdCBhbiBlbXB0eSBtb2R1bGVcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgICAgICBlbnRyeS5kZXBzID0gbG9hZC5tZXRhZGF0YS5kZXBzO1xuICAgICAgICBlbnRyeS5leGVjdXRlID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIH1cblxuICAgICAgLy8gcGxhY2UgdGhpcyBtb2R1bGUgb250byBkZWZpbmVkIGZvciBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgICBsb2FkZXIuZGVmaW5lZFtsb2FkLm5hbWVdID0gZW50cnk7XG4gICAgICBcbiAgICAgIHZhciBncm91cGVkID0gZ3JvdXAoZW50cnkuZGVwcyk7XG4gICAgICBcbiAgICAgIGVudHJ5LmRlcHMgPSBncm91cGVkLm5hbWVzO1xuICAgICAgZW50cnkub3JpZ2luYWxJbmRpY2VzID0gZ3JvdXBlZC5pbmRpY2VzO1xuICAgICAgZW50cnkubmFtZSA9IGxvYWQubmFtZTtcbiAgICAgIGVudHJ5LmVzbUV4cG9ydHMgPSBsb2FkLm1ldGFkYXRhLmVzbUV4cG9ydHMgIT09IGZhbHNlO1xuXG4gICAgICAvLyBmaXJzdCwgbm9ybWFsaXplIGFsbCBkZXBlbmRlbmNpZXNcbiAgICAgIHZhciBub3JtYWxpemVQcm9taXNlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBlbnRyeS5kZXBzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgbm9ybWFsaXplUHJvbWlzZXMucHVzaChQcm9taXNlLnJlc29sdmUobG9hZGVyLm5vcm1hbGl6ZShlbnRyeS5kZXBzW2ldLCBsb2FkLm5hbWUpKSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChub3JtYWxpemVQcm9taXNlcykudGhlbihmdW5jdGlvbihub3JtYWxpemVkRGVwcykge1xuXG4gICAgICAgIGVudHJ5Lm5vcm1hbGl6ZWREZXBzID0gbm9ybWFsaXplZERlcHM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXBzOiBlbnRyeS5kZXBzLFxuICAgICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgZW5zdXJlIHRoYXQgdGhlIG1vZHVsZSBhbmQgYWxsIGl0cyBcbiAgICAgICAgICAgIC8vIGRlcGVuZGVuY2llcyBhcmUgbGlua2VkICh3aXRoIGRlcGVuZGVuY3kgZ3JvdXAgaGFuZGxpbmcpXG4gICAgICAgICAgICBsaW5rKGxvYWQubmFtZSwgbG9hZGVyKTtcblxuICAgICAgICAgICAgLy8gbm93IGhhbmRsZSBkZXBlbmRlbmN5IGV4ZWN1dGlvbiBpbiBjb3JyZWN0IG9yZGVyXG4gICAgICAgICAgICBlbnN1cmVFdmFsdWF0ZWQobG9hZC5uYW1lLCBbXSwgbG9hZGVyKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHJlZ2lzdHJ5XG4gICAgICAgICAgICBsb2FkZXIuZGVmaW5lZFtsb2FkLm5hbWVdID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGRlZmluZWQgbW9kdWxlIG9iamVjdFxuICAgICAgICAgICAgcmV0dXJuIGxvYWRlci5uZXdNb2R1bGUoZW50cnkuZGVjbGFyYXRpdmUgPyBlbnRyeS5tb2R1bGUuZXhwb3J0cyA6IGVudHJ5LmVzTW9kdWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcbn0pKCk7XG4vKlxuICogRXh0ZW5zaW9uIHRvIGRldGVjdCBFUzYgYW5kIGF1dG8tbG9hZCBUcmFjZXVyIG9yIEJhYmVsIGZvciBwcm9jZXNzaW5nXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgLy8gZ29vZCBlbm91Z2ggRVM2IG1vZHVsZSBkZXRlY3Rpb24gcmVnZXggLSBmb3JtYXQgZGV0ZWN0aW9ucyBub3QgZGVzaWduZWQgdG8gYmUgYWNjdXJhdGUsIGJ1dCB0byBoYW5kbGUgdGhlIDk5JSB1c2UgY2FzZVxuICB2YXIgZXNtUmVnRXggPSAvKF5cXHMqfFt9XFwpO1xcbl1cXHMqKShpbXBvcnRcXHMqKFsnXCJdfChcXCpcXHMrYXNcXHMrKT9bXlwiJ1xcKFxcKVxcbjtdK1xccypmcm9tXFxzKlsnXCJdfFxceyl8ZXhwb3J0XFxzK1xcKlxccytmcm9tXFxzK1tcIiddfGV4cG9ydFxccyooXFx7fGRlZmF1bHR8ZnVuY3Rpb258Y2xhc3N8dmFyfGNvbnN0fGxldHxhc3luY1xccytmdW5jdGlvbikpLztcblxuICB2YXIgdHJhY2V1clJ1bnRpbWVSZWdFeCA9IC9cXCR0cmFjZXVyUnVudGltZVxccypcXC4vO1xuICB2YXIgYmFiZWxIZWxwZXJzUmVnRXggPSAvYmFiZWxIZWxwZXJzXFxzKlxcLi87XG5cbiAgaG9vaygndHJhbnNsYXRlJywgZnVuY3Rpb24odHJhbnNsYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZS5jYWxsKGxvYWRlciwgbG9hZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICAvLyBkZXRlY3QgJiB0cmFuc3BpbGUgRVM2XG4gICAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAnZXNtJyB8fCBsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAnZXM2JyB8fCAhbG9hZC5tZXRhZGF0YS5mb3JtYXQgJiYgbG9hZGVyLnRyYW5zcGlsZXIgIT09IGZhbHNlICYmIHNvdXJjZS5tYXRjaChlc21SZWdFeCkpIHtcbiAgICAgICAgICBpZiAobG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ2VzNicpXG4gICAgICAgICAgICB3YXJuLmNhbGwobG9hZGVyLCAnTW9kdWxlICcgKyBsb2FkLm5hbWUgKyAnIGhhcyBtZXRhZGF0YSBzZXR0aW5nIGl0cyBmb3JtYXQgdG8gXCJlczZcIiwgd2hpY2ggaXMgZGVwcmVjYXRlZC5cXG5UaGlzIHNob3VsZCBiZSB1cGRhdGVkIHRvIFwiZXNtXCIuJyk7XG5cbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmZvcm1hdCA9ICdlc20nO1xuXG4gICAgICAgICAgaWYgKGxvYWRlci50cmFuc3BpbGVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gd2UgYWNjZXB0IHRyYW5zbGF0aW9uIHRvIGVzbSBmb3IgYnVpbGRzIHRob3VnaCB0byBlbmFibGUgZWcgcm9sbHVwIG9wdGltaXphdGlvbnNcbiAgICAgICAgICAgIGlmIChsb2FkZXIuYnVpbGRlcilcbiAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZSB0byBkeW5hbWljYWxseSB0cmFuc3BpbGUgRVMgbW9kdWxlIGFzIFN5c3RlbUpTLnRyYW5zcGlsZXIgc2V0IHRvIGZhbHNlLicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNldHRpbmcgX2xvYWRlci5sb2FkZWRUcmFuc3BpbGVyID0gZmFsc2UgdGVsbHMgdGhlIG5leHQgYmxvY2sgdG9cbiAgICAgICAgICAvLyBkbyBjaGVja3MgZm9yIHNldHRpbmcgdHJhbnNwaWxlciBtZXRhZGF0YVxuICAgICAgICAgIGxvYWRlci5fbG9hZGVyLmxvYWRlZFRyYW5zcGlsZXIgPSBsb2FkZXIuX2xvYWRlci5sb2FkZWRUcmFuc3BpbGVyIHx8IGZhbHNlO1xuICAgICAgICAgIGlmIChsb2FkZXIucGx1Z2luTG9hZGVyKVxuICAgICAgICAgICAgbG9hZGVyLnBsdWdpbkxvYWRlci5fbG9hZGVyLmxvYWRlZFRyYW5zcGlsZXIgPSBsb2FkZXIuX2xvYWRlci5sb2FkZWRUcmFuc3BpbGVyIHx8IGZhbHNlO1xuXG4gICAgICAgICAgLy8gZG8gdHJhbnNwaWxhdGlvblxuICAgICAgICAgIHJldHVybiAobG9hZGVyLl9sb2FkZXIudHJhbnNwaWxlclByb21pc2UgfHwgKFxuICAgICAgICAgICAgbG9hZGVyLl9sb2FkZXIudHJhbnNwaWxlclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgIF9fZ2xvYmFsW2xvYWRlci50cmFuc3BpbGVyID09ICd0eXBlc2NyaXB0JyA/ICd0cycgOiBsb2FkZXIudHJhbnNwaWxlcl0gfHwgKGxvYWRlci5wbHVnaW5Mb2FkZXIgfHwgbG9hZGVyKVsnaW1wb3J0J10obG9hZGVyLnRyYW5zcGlsZXIpXG4gICAgICAgICAgKSkpLnRoZW4oZnVuY3Rpb24odHJhbnNwaWxlcikge1xuICAgICAgICAgICAgbG9hZGVyLl9sb2FkZXIubG9hZGVkVHJhbnNwaWxlclJ1bnRpbWUgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyB0cmFuc2xhdGUgaG9va3MgbWVhbnMgdGhpcyBpcyBhIHRyYW5zcGlsZXIgcGx1Z2luIGluc3RlYWQgb2YgYSByYXcgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgIGlmICh0cmFuc3BpbGVyLnRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgICAvLyBpZiB0cmFuc3BpbGVyIGlzIHRoZSBzYW1lIGFzIHRoZSBwbHVnaW4gbG9hZGVyLCB0aGVuIGRvbid0IHJ1biB0d2ljZVxuICAgICAgICAgICAgICBpZiAodHJhbnNwaWxlciA9PSBsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZC5zb3VyY2U7XG5cbiAgICAgICAgICAgICAgLy8gY29udmVydCB0aGUgc291cmNlIG1hcCBpbnRvIGFuIG9iamVjdCBmb3IgdHJhbnNwaWxhdGlvbiBjaGFpbmluZ1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGxvYWQubWV0YWRhdGEuc291cmNlTWFwID09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIGxvYWQubWV0YWRhdGEuc291cmNlTWFwID0gSlNPTi5wYXJzZShsb2FkLm1ldGFkYXRhLnNvdXJjZU1hcCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cmFuc3BpbGVyLnRyYW5zbGF0ZS5jYWxsKGxvYWRlciwgbG9hZCkpXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIC8vIHNhbml0aXplIHNvdXJjZU1hcCBpZiBhbiBvYmplY3Qgbm90IGEgSlNPTiBzdHJpbmdcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlTWFwID0gbG9hZC5tZXRhZGF0YS5zb3VyY2VNYXA7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2Ygc291cmNlTWFwID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxOYW1lID0gbG9hZC5uYW1lLnNwbGl0KCchJylbMF07XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIGZvcmNlIHNldCB0aGUgZmlsZW5hbWUgb2YgdGhlIG9yaWdpbmFsIGZpbGVcbiAgICAgICAgICAgICAgICAgIHNvdXJjZU1hcC5maWxlID0gb3JpZ2luYWxOYW1lICsgJyF0cmFuc3BpbGVkJztcblxuICAgICAgICAgICAgICAgICAgLy8gZm9yY2Ugc2V0IHRoZSBzb3VyY2VzIGxpc3QgaWYgb25seSBvbmUgc291cmNlXG4gICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZU1hcC5zb3VyY2VzIHx8IHNvdXJjZU1hcC5zb3VyY2VzLmxlbmd0aCA8PSAxKVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VNYXAuc291cmNlcyA9IFtvcmlnaW5hbE5hbWVdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAnZXNtJyAmJiAhbG9hZGVyLmJ1aWxkZXIgJiYgZGV0ZWN0UmVnaXN0ZXJGb3JtYXQoc291cmNlKSlcbiAgICAgICAgICAgICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ3JlZ2lzdGVyJztcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbGVnYWN5IGJ1aWxkZXIgc3VwcG9ydFxuICAgICAgICAgICAgaWYgKGxvYWRlci5idWlsZGVyKVxuICAgICAgICAgICAgICBsb2FkLm1ldGFkYXRhLm9yaWdpbmFsU291cmNlID0gbG9hZC5zb3VyY2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGRlZmluZWQgaW4gZXM2LW1vZHVsZS1sb2FkZXIvc3JjL3RyYW5zcGlsZS5qc1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zcGlsZS5jYWxsKGxvYWRlciwgbG9hZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICAgICAgICAvLyBjbGVhciBzb3VyY2VNYXAgYXMgdHJhbnNwaWxlciBlbWJlZHMgaXRcbiAgICAgICAgICAgICAgbG9hZC5tZXRhZGF0YS5zb3VyY2VNYXAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICAgICAgICB9KTsgICAgICAgICAgICBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNraXAgdHJhbnNwaWxlciBhbmQgdHJhbnNwaWxlciBydW50aW1lIGxvYWRpbmcgd2hlbiB0cmFuc3BpbGVyIGlzIGRpc2FibGVkXG4gICAgICAgIGlmIChsb2FkZXIudHJhbnNwaWxlciA9PT0gZmFsc2UpXG4gICAgICAgICAgcmV0dXJuIHNvdXJjZTtcblxuICAgICAgICAvLyBsb2FkIHRoZSB0cmFuc3BpbGVyIGNvcnJlY3RseVxuICAgICAgICBpZiAobG9hZGVyLl9sb2FkZXIubG9hZGVkVHJhbnNwaWxlciA9PT0gZmFsc2UgJiYgKGxvYWRlci50cmFuc3BpbGVyID09ICd0cmFjZXVyJyB8fCBsb2FkZXIudHJhbnNwaWxlciA9PSAndHlwZXNjcmlwdCcgfHwgbG9hZGVyLnRyYW5zcGlsZXIgPT0gJ2JhYmVsJylcbiAgICAgICAgICAgICYmIGxvYWQubmFtZSA9PSBsb2FkZXIubm9ybWFsaXplU3luYyhsb2FkZXIudHJhbnNwaWxlcikpIHtcblxuICAgICAgICAgIC8vIGFsd2F5cyBsb2FkIHRyYW5zcGlsZXIgYXMgYSBnbG9iYWxcbiAgICAgICAgICBpZiAoc291cmNlLmxlbmd0aCA+IDEwMCAmJiAhbG9hZC5tZXRhZGF0YS5mb3JtYXQpIHtcbiAgICAgICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ2dsb2JhbCc7XG5cbiAgICAgICAgICAgIGlmIChsb2FkZXIudHJhbnNwaWxlciA9PT0gJ3RyYWNldXInKVxuICAgICAgICAgICAgICBsb2FkLm1ldGFkYXRhLmV4cG9ydHMgPSAndHJhY2V1cic7XG4gICAgICAgICAgICBpZiAobG9hZGVyLnRyYW5zcGlsZXIgPT09ICd0eXBlc2NyaXB0JylcbiAgICAgICAgICAgICAgbG9hZC5tZXRhZGF0YS5leHBvcnRzID0gJ3RzJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsb2FkZXIuX2xvYWRlci5sb2FkZWRUcmFuc3BpbGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxvYWQgdGhlIHRyYW5zcGlsZXIgcnVudGltZSBjb3JyZWN0bHlcbiAgICAgICAgaWYgKGxvYWRlci5fbG9hZGVyLmxvYWRlZFRyYW5zcGlsZXJSdW50aW1lID09PSBmYWxzZSkge1xuICAgICAgICAgIGlmIChsb2FkLm5hbWUgPT0gbG9hZGVyLm5vcm1hbGl6ZVN5bmMoJ3RyYWNldXItcnVudGltZScpXG4gICAgICAgICAgICAgIHx8IGxvYWQubmFtZSA9PSBsb2FkZXIubm9ybWFsaXplU3luYygnYmFiZWwvZXh0ZXJuYWwtaGVscGVycyonKSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5sZW5ndGggPiAxMDApXG4gICAgICAgICAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gbG9hZC5tZXRhZGF0YS5mb3JtYXQgfHwgJ2dsb2JhbCc7XG5cbiAgICAgICAgICAgIGxvYWRlci5fbG9hZGVyLmxvYWRlZFRyYW5zcGlsZXJSdW50aW1lID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlY3QgdHJhbnNwaWxlciBydW50aW1lIHVzYWdlIHRvIGxvYWQgcnVudGltZXNcbiAgICAgICAgaWYgKChsb2FkLm1ldGFkYXRhLmZvcm1hdCA9PSAncmVnaXN0ZXInIHx8IGxvYWQubWV0YWRhdGEuYnVuZGxlKSAmJiBsb2FkZXIuX2xvYWRlci5sb2FkZWRUcmFuc3BpbGVyUnVudGltZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIGlmICghX19nbG9iYWwuJHRyYWNldXJSdW50aW1lICYmIGxvYWQuc291cmNlLm1hdGNoKHRyYWNldXJSdW50aW1lUmVnRXgpKSB7XG4gICAgICAgICAgICBsb2FkZXIuX2xvYWRlci5sb2FkZWRUcmFuc3BpbGVyUnVudGltZSA9IGxvYWRlci5fbG9hZGVyLmxvYWRlZFRyYW5zcGlsZXJSdW50aW1lIHx8IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGxvYWRlclsnaW1wb3J0J10oJ3RyYWNldXItcnVudGltZScpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFfX2dsb2JhbC5iYWJlbEhlbHBlcnMgJiYgbG9hZC5zb3VyY2UubWF0Y2goYmFiZWxIZWxwZXJzUmVnRXgpKSB7XG4gICAgICAgICAgICBsb2FkZXIuX2xvYWRlci5sb2FkZWRUcmFuc3BpbGVyUnVudGltZSA9IGxvYWRlci5fbG9hZGVyLmxvYWRlZFRyYW5zcGlsZXJSdW50aW1lIHx8IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGxvYWRlclsnaW1wb3J0J10oJ2JhYmVsL2V4dGVybmFsLWhlbHBlcnMnKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG59KSgpO1xuLypcbiAgU3lzdGVtSlMgR2xvYmFsIEZvcm1hdFxuXG4gIFN1cHBvcnRzXG4gICAgbWV0YWRhdGEuZGVwc1xuICAgIG1ldGFkYXRhLmdsb2JhbHNcbiAgICBtZXRhZGF0YS5leHBvcnRzXG5cbiAgV2l0aG91dCBtZXRhZGF0YS5leHBvcnRzLCBkZXRlY3RzIHdyaXRlcyB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiovXG52YXIgX19nbG9iYWxOYW1lID0gdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgPyAnc2VsZicgOiAnZ2xvYmFsJztcblxuaG9vaygnZmV0Y2gnLCBmdW5jdGlvbihmZXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgIGlmIChsb2FkLm1ldGFkYXRhLmV4cG9ydHMgJiYgIWxvYWQubWV0YWRhdGEuZm9ybWF0KVxuICAgICAgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPSAnZ2xvYmFsJztcbiAgICByZXR1cm4gZmV0Y2guY2FsbCh0aGlzLCBsb2FkKTtcbiAgfTtcbn0pO1xuXG4vLyBpZGVhbGx5IHdlIGNvdWxkIHN1cHBvcnQgc2NyaXB0IGxvYWRpbmcgZm9yIGdsb2JhbHMsIGJ1dCB0aGUgaXNzdWUgd2l0aCB0aGF0IGlzIHRoYXRcbi8vIHdlIGNhbid0IGRvIGl0IHdpdGggQU1EIHN1cHBvcnQgc2lkZS1ieS1zaWRlIHNpbmNlIEFNRCBzdXBwb3J0IG1lYW5zIGRlZmluaW5nIHRoZVxuLy8gZ2xvYmFsIGRlZmluZSwgYW5kIGdsb2JhbCBzdXBwb3J0IG1lYW5zIG5vdCBkZWZpbmluaW5nIGl0LCB5ZXQgd2UgZG9uJ3QgaGF2ZSBhbnkgaG9va1xuLy8gaW50byB0aGUgXCJwcmUtZXhlY3V0aW9uXCIgcGhhc2Ugb2YgYSBzY3JpcHQgdGFnIGJlaW5nIGxvYWRlZCB0byBoYW5kbGUgYm90aCBjYXNlc1xuaG9vaygnaW5zdGFudGlhdGUnLCBmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuXG4gICAgaWYgKCFsb2FkLm1ldGFkYXRhLmZvcm1hdClcbiAgICAgIGxvYWQubWV0YWRhdGEuZm9ybWF0ID0gJ2dsb2JhbCc7XG5cbiAgICAvLyBnbG9iYWwgaXMgYSBmYWxsYmFjayBtb2R1bGUgZm9ybWF0XG4gICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdnbG9iYWwnICYmICFsb2FkLm1ldGFkYXRhLnJlZ2lzdGVyZWQpIHtcblxuICAgICAgdmFyIGVudHJ5ID0gY3JlYXRlRW50cnkoKTtcblxuICAgICAgbG9hZC5tZXRhZGF0YS5lbnRyeSA9IGVudHJ5O1xuXG4gICAgICBlbnRyeS5kZXBzID0gW107XG5cbiAgICAgIGZvciAodmFyIGcgaW4gbG9hZC5tZXRhZGF0YS5nbG9iYWxzKSB7XG4gICAgICAgIHZhciBnbCA9IGxvYWQubWV0YWRhdGEuZ2xvYmFsc1tnXTtcbiAgICAgICAgaWYgKGdsKVxuICAgICAgICAgIGVudHJ5LmRlcHMucHVzaChnbCk7XG4gICAgICB9XG5cbiAgICAgIGVudHJ5LmV4ZWN1dGUgPSBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICAgICAgICB2YXIgZ2xvYmFscztcbiAgICAgICAgaWYgKGxvYWQubWV0YWRhdGEuZ2xvYmFscykge1xuICAgICAgICAgIGdsb2JhbHMgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBnIGluIGxvYWQubWV0YWRhdGEuZ2xvYmFscylcbiAgICAgICAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmdsb2JhbHNbZ10pXG4gICAgICAgICAgICAgIGdsb2JhbHNbZ10gPSByZXF1aXJlKGxvYWQubWV0YWRhdGEuZ2xvYmFsc1tnXSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhciBleHBvcnROYW1lID0gbG9hZC5tZXRhZGF0YS5leHBvcnRzO1xuXG4gICAgICAgIGlmIChleHBvcnROYW1lKVxuICAgICAgICAgIGxvYWQuc291cmNlICs9ICdcXG4nICsgX19nbG9iYWxOYW1lICsgJ1tcIicgKyBleHBvcnROYW1lICsgJ1wiXSA9ICcgKyBleHBvcnROYW1lICsgJzsnO1xuXG4gICAgICAgIHZhciByZXRyaWV2ZUdsb2JhbCA9IGxvYWRlci5nZXQoJ0BAZ2xvYmFsLWhlbHBlcnMnKS5wcmVwYXJlR2xvYmFsKG1vZHVsZS5pZCwgZXhwb3J0TmFtZSwgZ2xvYmFscyk7XG5cbiAgICAgICAgX19leGVjLmNhbGwobG9hZGVyLCBsb2FkKTtcblxuICAgICAgICByZXR1cm4gcmV0cmlldmVHbG9iYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbnRpYXRlLmNhbGwodGhpcywgbG9hZCk7XG4gIH07XG59KTtcbmhvb2soJ3JlZHVjZVJlZ2lzdGVyXycsIGZ1bmN0aW9uKHJlZHVjZVJlZ2lzdGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbihsb2FkLCByZWdpc3Rlcikge1xuICAgIGlmIChyZWdpc3RlciB8fCAhbG9hZC5tZXRhZGF0YS5leHBvcnRzKVxuICAgICAgcmV0dXJuIHJlZHVjZVJlZ2lzdGVyLmNhbGwodGhpcywgbG9hZCwgcmVnaXN0ZXIpO1xuXG4gICAgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPSAnZ2xvYmFsJztcbiAgICB2YXIgZW50cnkgPSBsb2FkLm1ldGFkYXRhLmVudHJ5ID0gY3JlYXRlRW50cnkoKTtcbiAgICBlbnRyeS5kZXBzID0gbG9hZC5tZXRhZGF0YS5kZXBzO1xuICAgIHZhciBnbG9iYWxWYWx1ZSA9IHJlYWRNZW1iZXJFeHByZXNzaW9uKGxvYWQubWV0YWRhdGEuZXhwb3J0cywgX19nbG9iYWwpO1xuICAgIGVudHJ5LmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBnbG9iYWxWYWx1ZTtcbiAgICB9O1xuICB9O1xufSk7XG5cbmhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgY29uc3RydWN0b3IuY2FsbChsb2FkZXIpO1xuXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8vIGJhcmUgbWluaW11bSBpZ25vcmVzIGZvciBJRThcbiAgICB2YXIgaWdub3JlZEdsb2JhbFByb3BzID0gWydfZycsICdzZXNzaW9uU3RvcmFnZScsICdsb2NhbFN0b3JhZ2UnLCAnY2xpcGJvYXJkRGF0YScsICdmcmFtZXMnLCAnZnJhbWVFbGVtZW50JywgJ2V4dGVybmFsJywgXG4gICAgICAnbW96QW5pbWF0aW9uU3RhcnRUaW1lJywgJ3dlYmtpdFN0b3JhZ2VJbmZvJywgJ3dlYmtpdEluZGV4ZWREQicsICdtb3pJbm5lclNjcmVlblknLCAnbW96SW5uZXJTY3JlZW5YJ107XG5cbiAgICB2YXIgZ2xvYmFsU25hcHNob3Q7XG5cbiAgICBmdW5jdGlvbiBmb3JFYWNoR2xvYmFsKGNhbGxiYWNrKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMpXG4gICAgICAgIE9iamVjdC5rZXlzKF9fZ2xvYmFsKS5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZm9yICh2YXIgZyBpbiBfX2dsb2JhbCkge1xuICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChfX2dsb2JhbCwgZykpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYWxsYmFjayhnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvckVhY2hHbG9iYWxWYWx1ZShjYWxsYmFjaykge1xuICAgICAgZm9yRWFjaEdsb2JhbChmdW5jdGlvbihnbG9iYWxOYW1lKSB7XG4gICAgICAgIGlmIChpbmRleE9mLmNhbGwoaWdub3JlZEdsb2JhbFByb3BzLCBnbG9iYWxOYW1lKSAhPSAtMSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX19nbG9iYWxbZ2xvYmFsTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZ25vcmVkR2xvYmFsUHJvcHMucHVzaChnbG9iYWxOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhnbG9iYWxOYW1lLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkZXIuc2V0KCdAQGdsb2JhbC1oZWxwZXJzJywgbG9hZGVyLm5ld01vZHVsZSh7XG4gICAgICBwcmVwYXJlR2xvYmFsOiBmdW5jdGlvbihtb2R1bGVOYW1lLCBleHBvcnROYW1lLCBnbG9iYWxzKSB7XG4gICAgICAgIC8vIGRpc2FibGUgbW9kdWxlIGRldGVjdGlvblxuICAgICAgICB2YXIgY3VyRGVmaW5lID0gX19nbG9iYWwuZGVmaW5lO1xuICAgICAgICBcbiAgICAgICAgX19nbG9iYWwuZGVmaW5lID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIHNldCBnbG9iYWxzXG4gICAgICAgIHZhciBvbGRHbG9iYWxzO1xuICAgICAgICBpZiAoZ2xvYmFscykge1xuICAgICAgICAgIG9sZEdsb2JhbHMgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBnIGluIGdsb2JhbHMpIHtcbiAgICAgICAgICAgIG9sZEdsb2JhbHNbZ10gPSBfX2dsb2JhbFtnXTtcbiAgICAgICAgICAgIF9fZ2xvYmFsW2ddID0gZ2xvYmFsc1tnXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9yZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdsb2JhbCBvYmplY3QgaW4gb3JkZXIgdG8gZGV0ZWN0IGNoYW5nZXNcbiAgICAgICAgaWYgKCFleHBvcnROYW1lKSB7XG4gICAgICAgICAgZ2xvYmFsU25hcHNob3QgPSB7fTtcblxuICAgICAgICAgIGZvckVhY2hHbG9iYWxWYWx1ZShmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgZ2xvYmFsU25hcHNob3RbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiBmdW5jdGlvbiB0byByZXRyaWV2ZSBnbG9iYWxcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBnbG9iYWxWYWx1ZTtcblxuICAgICAgICAgIGlmIChleHBvcnROYW1lKSB7XG4gICAgICAgICAgICBnbG9iYWxWYWx1ZSA9IHJlYWRNZW1iZXJFeHByZXNzaW9uKGV4cG9ydE5hbWUsIF9fZ2xvYmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2luZ2xlR2xvYmFsO1xuICAgICAgICAgICAgdmFyIG11bHRpcGxlRXhwb3J0cztcbiAgICAgICAgICAgIHZhciBleHBvcnRzID0ge307XG5cbiAgICAgICAgICAgIGZvckVhY2hHbG9iYWxWYWx1ZShmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoZ2xvYmFsU25hcHNob3RbbmFtZV0gPT09IHZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGV4cG9ydHNbbmFtZV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNpbmdsZUdsb2JhbCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGlmICghbXVsdGlwbGVFeHBvcnRzICYmIHNpbmdsZUdsb2JhbCAhPT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICBtdWx0aXBsZUV4cG9ydHMgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpbmdsZUdsb2JhbCA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdsb2JhbFZhbHVlID0gbXVsdGlwbGVFeHBvcnRzID8gZXhwb3J0cyA6IHNpbmdsZUdsb2JhbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZXZlcnQgZ2xvYmFsc1xuICAgICAgICAgIGlmIChvbGRHbG9iYWxzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBnIGluIG9sZEdsb2JhbHMpXG4gICAgICAgICAgICAgIF9fZ2xvYmFsW2ddID0gb2xkR2xvYmFsc1tnXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX19nbG9iYWwuZGVmaW5lID0gY3VyRGVmaW5lO1xuXG4gICAgICAgICAgcmV0dXJuIGdsb2JhbFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuLypcbiAgU3lzdGVtSlMgQ29tbW9uSlMgRm9ybWF0XG4qL1xuKGZ1bmN0aW9uKCkge1xuICAvLyBDSlMgTW9kdWxlIEZvcm1hdFxuICAvLyByZXF1aXJlKCcuLi4nKSB8fCBleHBvcnRzWycnXSA9IC4uLiB8fCBleHBvcnRzLmFzZCA9IC4uLiB8fCBtb2R1bGUuZXhwb3J0cyA9IC4uLlxuICB2YXIgY2pzRXhwb3J0c1JlZ0V4ID0gLyg/Ol5cXHVGRUZGP3xbXiRfYS16QS1aXFx4QTAtXFx1RkZGRi5dKShleHBvcnRzXFxzKihcXFtbJ1wiXXxcXC4pfG1vZHVsZShcXC5leHBvcnRzfFxcWydleHBvcnRzJ1xcXXxcXFtcImV4cG9ydHNcIlxcXSlcXHMqKFxcW1snXCJdfFs9LFxcLl0pKS87XG4gIC8vIFJlZ0V4IGFkanVzdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2picmFudGx5L3lhYmJsZS9ibG9iL21hc3Rlci9saWIveWFiYmxlLmpzI0wzMzlcbiAgdmFyIGNqc1JlcXVpcmVSZWdFeCA9IC8oPzpeXFx1RkVGRj98W14kX2EtekEtWlxceEEwLVxcdUZGRkYuXCInXSlyZXF1aXJlXFxzKlxcKFxccyooXCJbXlwiXFxcXF0qKD86XFxcXC5bXlwiXFxcXF0qKSpcInwnW14nXFxcXF0qKD86XFxcXC5bXidcXFxcXSopKicpXFxzKlxcKS9nO1xuICB2YXIgY29tbWVudFJlZ0V4ID0gLyhefFteXFxcXF0pKFxcL1xcKihbXFxzXFxTXSo/KVxcKlxcL3woW146XXxeKVxcL1xcLyguKikkKS9tZztcblxuICB2YXIgc3RyaW5nUmVnRXggPSAvKFwiW15cIlxcXFxcXG5cXHJdKihcXFxcLlteXCJcXFxcXFxuXFxyXSopKlwifCdbXidcXFxcXFxuXFxyXSooXFxcXC5bXidcXFxcXFxuXFxyXSopKicpL2c7XG5cbiAgZnVuY3Rpb24gZ2V0Q0pTRGVwcyhzb3VyY2UpIHtcbiAgICBjanNSZXF1aXJlUmVnRXgubGFzdEluZGV4ID0gY29tbWVudFJlZ0V4Lmxhc3RJbmRleCA9IHN0cmluZ1JlZ0V4Lmxhc3RJbmRleCA9IDA7XG5cbiAgICB2YXIgZGVwcyA9IFtdO1xuXG4gICAgdmFyIG1hdGNoO1xuXG4gICAgLy8gdHJhY2sgc3RyaW5nIGFuZCBjb21tZW50IGxvY2F0aW9ucyBmb3IgdW5taW5pZmllZCBzb3VyY2UgICAgXG4gICAgdmFyIHN0cmluZ0xvY2F0aW9ucyA9IFtdLCBjb21tZW50TG9jYXRpb25zID0gW107XG5cbiAgICBmdW5jdGlvbiBpbkxvY2F0aW9uKGxvY2F0aW9ucywgbWF0Y2gpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAobG9jYXRpb25zW2ldWzBdIDwgbWF0Y2guaW5kZXggJiYgbG9jYXRpb25zW2ldWzFdID4gbWF0Y2guaW5kZXgpXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZS5sZW5ndGggLyBzb3VyY2Uuc3BsaXQoJ1xcbicpLmxlbmd0aCA8IDIwMCkge1xuICAgICAgd2hpbGUgKG1hdGNoID0gc3RyaW5nUmVnRXguZXhlYyhzb3VyY2UpKVxuICAgICAgICBzdHJpbmdMb2NhdGlvbnMucHVzaChbbWF0Y2guaW5kZXgsIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoXSk7XG4gICAgICBcbiAgICAgIHdoaWxlIChtYXRjaCA9IGNvbW1lbnRSZWdFeC5leGVjKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gb25seSB0cmFjayBjb21tZW50cyBub3Qgc3RhcnRpbmcgaW4gc3RyaW5nc1xuICAgICAgICBpZiAoIWluTG9jYXRpb24oc3RyaW5nTG9jYXRpb25zLCBtYXRjaCkpXG4gICAgICAgICAgY29tbWVudExvY2F0aW9ucy5wdXNoKFttYXRjaC5pbmRleCwgbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aGlsZSAobWF0Y2ggPSBjanNSZXF1aXJlUmVnRXguZXhlYyhzb3VyY2UpKSB7XG4gICAgICAvLyBlbnN1cmUgd2UncmUgbm90IHdpdGhpbiBhIHN0cmluZyBvciBjb21tZW50IGxvY2F0aW9uXG4gICAgICBpZiAoIWluTG9jYXRpb24oc3RyaW5nTG9jYXRpb25zLCBtYXRjaCkgJiYgIWluTG9jYXRpb24oY29tbWVudExvY2F0aW9ucywgbWF0Y2gpKSB7XG4gICAgICAgIHZhciBkZXAgPSBtYXRjaFsxXS5zdWJzdHIoMSwgbWF0Y2hbMV0ubGVuZ3RoIC0gMik7XG4gICAgICAgIC8vIHNraXAgY2FzZXMgbGlrZSByZXF1aXJlKCdcIiArIGZpbGUgKyBcIicpXG4gICAgICAgIGlmIChkZXAubWF0Y2goL1wifCcvKSlcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gdHJhaWxpbmcgc2xhc2ggcmVxdWlyZXMgYXJlIHJlbW92ZWQgYXMgdGhleSBkb24ndCBtYXAgbWFpbnMgaW4gU3lzdGVtSlNcbiAgICAgICAgaWYgKGRlcFtkZXAubGVuZ3RoIC0gMV0gPT0gJy8nKVxuICAgICAgICAgIGRlcCA9IGRlcC5zdWJzdHIoMCwgZGVwLmxlbmd0aCAtIDEpO1xuICAgICAgICBkZXBzLnB1c2goZGVwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVwcztcbiAgfVxuXG4gIGhvb2soJ2luc3RhbnRpYXRlJywgZnVuY3Rpb24oaW5zdGFudGlhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICBpZiAoIWxvYWQubWV0YWRhdGEuZm9ybWF0KSB7XG4gICAgICAgIGNqc0V4cG9ydHNSZWdFeC5sYXN0SW5kZXggPSAwO1xuICAgICAgICBjanNSZXF1aXJlUmVnRXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaWYgKGNqc1JlcXVpcmVSZWdFeC5leGVjKGxvYWQuc291cmNlKSB8fCBjanNFeHBvcnRzUmVnRXguZXhlYyhsb2FkLnNvdXJjZSkpXG4gICAgICAgICAgbG9hZC5tZXRhZGF0YS5mb3JtYXQgPSAnY2pzJztcbiAgICAgIH1cblxuICAgICAgaWYgKGxvYWQubWV0YWRhdGEuZm9ybWF0ID09ICdjanMnKSB7XG4gICAgICAgIHZhciBtZXRhRGVwcyA9IGxvYWQubWV0YWRhdGEuZGVwcztcbiAgICAgICAgdmFyIGRlcHMgPSBsb2FkLm1ldGFkYXRhLmNqc1JlcXVpcmVEZXRlY3Rpb24gPT09IGZhbHNlID8gW10gOiBnZXRDSlNEZXBzKGxvYWQuc291cmNlKTtcblxuICAgICAgICBmb3IgKHZhciBnIGluIGxvYWQubWV0YWRhdGEuZ2xvYmFscylcbiAgICAgICAgICBpZiAobG9hZC5tZXRhZGF0YS5nbG9iYWxzW2ddKVxuICAgICAgICAgICAgZGVwcy5wdXNoKGxvYWQubWV0YWRhdGEuZ2xvYmFsc1tnXSk7XG5cbiAgICAgICAgdmFyIGVudHJ5ID0gY3JlYXRlRW50cnkoKTtcblxuICAgICAgICBsb2FkLm1ldGFkYXRhLmVudHJ5ID0gZW50cnk7XG5cbiAgICAgICAgZW50cnkuZGVwcyA9IGRlcHM7XG4gICAgICAgIGVudHJ5LmV4ZWN1dGluZ1JlcXVpcmUgPSB0cnVlO1xuICAgICAgICBlbnRyeS5leGVjdXRlID0gZnVuY3Rpb24oX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICAgICAgICAgIGZ1bmN0aW9uIHJlcXVpcmUobmFtZSkge1xuICAgICAgICAgICAgaWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PSAnLycpXG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIF9yZXF1aXJlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZW5zdXJlIG1ldGEgZGVwcyBleGVjdXRlIGZpcnN0XG4gICAgICAgICAgaWYgKCFsb2FkLm1ldGFkYXRhLmNqc0RlZmVyRGVwc0V4ZWN1dGUpXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGFEZXBzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICByZXF1aXJlKG1ldGFEZXBzW2ldKTtcblxuICAgICAgICAgIHZhciBwYXRoVmFycyA9IGxvYWRlci5nZXQoJ0BAY2pzLWhlbHBlcnMnKS5nZXRQYXRoVmFycyhtb2R1bGUuaWQpO1xuICAgICAgICAgIHZhciBfX2Nqc1dyYXBwZXIgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiBleHBvcnRzLFxuICAgICAgICAgICAgYXJnczogW3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgcGF0aFZhcnMuZmlsZW5hbWUsIHBhdGhWYXJzLmRpcm5hbWUsIF9fZ2xvYmFsLCBfX2dsb2JhbF1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGNqc1dyYXBwZXIgPSBcIihmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSwgZ2xvYmFsLCBHTE9CQUxcIjtcblxuICAgICAgICAgIC8vIGFkZCBtZXRhZGF0YS5nbG9iYWxzIHRvIHRoZSB3cmFwcGVyIGFyZ3VtZW50c1xuICAgICAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmdsb2JhbHMpXG4gICAgICAgICAgICBmb3IgKHZhciBnIGluIGxvYWQubWV0YWRhdGEuZ2xvYmFscykge1xuICAgICAgICAgICAgICBfX2Nqc1dyYXBwZXIuYXJncy5wdXNoKHJlcXVpcmUobG9hZC5tZXRhZGF0YS5nbG9iYWxzW2ddKSk7XG4gICAgICAgICAgICAgIGNqc1dyYXBwZXIgKz0gXCIsIFwiICsgZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGRpc2FibGUgQU1EIGRldGVjdGlvblxuICAgICAgICAgIHZhciBkZWZpbmUgPSBfX2dsb2JhbC5kZWZpbmU7XG4gICAgICAgICAgX19nbG9iYWwuZGVmaW5lID0gdW5kZWZpbmVkO1xuICAgICAgICAgIF9fZ2xvYmFsLl9fY2pzV3JhcHBlciA9IF9fY2pzV3JhcHBlcjtcblxuICAgICAgICAgIGxvYWQuc291cmNlID0gY2pzV3JhcHBlciArIFwiKSB7XCIgKyBsb2FkLnNvdXJjZSArIFwiXFxufSkuYXBwbHkoX19janNXcmFwcGVyLmV4cG9ydHMsIF9fY2pzV3JhcHBlci5hcmdzKTtcIjtcblxuICAgICAgICAgIF9fZXhlYy5jYWxsKGxvYWRlciwgbG9hZCk7XG5cbiAgICAgICAgICBfX2dsb2JhbC5fX2Nqc1dyYXBwZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgX19nbG9iYWwuZGVmaW5lID0gZGVmaW5lO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFudGlhdGUuY2FsbChsb2FkZXIsIGxvYWQpO1xuICAgIH07XG4gIH0pO1xufSkoKTtcbmhvb2tDb25zdHJ1Y3RvcihmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgY29uc3RydWN0b3IuY2FsbChsb2FkZXIpO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhdGlvbilcbiAgICAgIHZhciB3aW5kb3dPcmlnaW4gPSBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0bmFtZSArIChsb2NhdGlvbi5wb3J0ID8gJzonICsgbG9jYXRpb24ucG9ydCA6ICcnKTtcblxuICAgIGxvYWRlci5zZXQoJ0BAY2pzLWhlbHBlcnMnLCBsb2FkZXIubmV3TW9kdWxlKHtcbiAgICAgIGdldFBhdGhWYXJzOiBmdW5jdGlvbihtb2R1bGVJZCkge1xuICAgICAgICAvLyByZW1vdmUgYW55IHBsdWdpbiBzeW50YXhcbiAgICAgICAgdmFyIHBsdWdpbkluZGV4ID0gbW9kdWxlSWQubGFzdEluZGV4T2YoJyEnKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lO1xuICAgICAgICBpZiAocGx1Z2luSW5kZXggIT0gLTEpXG4gICAgICAgICAgZmlsZW5hbWUgPSBtb2R1bGVJZC5zdWJzdHIoMCwgcGx1Z2luSW5kZXgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZmlsZW5hbWUgPSBtb2R1bGVJZDtcblxuICAgICAgICB2YXIgZGlybmFtZSA9IGZpbGVuYW1lLnNwbGl0KCcvJyk7XG4gICAgICAgIGRpcm5hbWUucG9wKCk7XG4gICAgICAgIGRpcm5hbWUgPSBkaXJuYW1lLmpvaW4oJy8nKTtcblxuICAgICAgICBpZiAoZmlsZW5hbWUuc3Vic3RyKDAsIDgpID09ICdmaWxlOi8vLycpIHtcbiAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnN1YnN0cig3KTtcbiAgICAgICAgICBkaXJuYW1lID0gZGlybmFtZS5zdWJzdHIoNyk7XG5cbiAgICAgICAgICAvLyBvbiB3aW5kb3dzIHJlbW92ZSBsZWFkaW5nICcvJ1xuICAgICAgICAgIGlmIChpc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgZGlybmFtZSA9IGRpcm5hbWUuc3Vic3RyKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aW5kb3dPcmlnaW4gJiYgZmlsZW5hbWUuc3Vic3RyKDAsIHdpbmRvd09yaWdpbi5sZW5ndGgpID09PSB3aW5kb3dPcmlnaW4pIHtcbiAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnN1YnN0cih3aW5kb3dPcmlnaW4ubGVuZ3RoKTtcbiAgICAgICAgICBkaXJuYW1lID0gZGlybmFtZS5zdWJzdHIod2luZG93T3JpZ2luLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgICBkaXJuYW1lOiBkaXJuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSkpXG4gIH07XG59KTsvKlxuICogQU1EIEhlbHBlciBmdW5jdGlvbiBtb2R1bGVcbiAqIFNlcGFyYXRlZCBpbnRvIGl0cyBvd24gZmlsZSBhcyB0aGlzIGlzIHRoZSBwYXJ0IG5lZWRlZCBmb3IgZnVsbCBBTUQgc3VwcG9ydCBpbiBTRlggYnVpbGRzXG4gKiBOQiBzaW5jZSBpbXBsZW1lbnRhdGlvbnMgaGF2ZSBub3cgZGl2ZXJnZWQgdGhpcyBjYW4gYmUgbWVyZ2VkIGJhY2sgd2l0aCBhbWQuanNcbiAqL1xuXG5ob29rKCdmZXRjaCcsIGZ1bmN0aW9uKGZldGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgLy8gc2NyaXB0IGxvYWQgaW1wbGllcyBkZWZpbmUgZ2xvYmFsIGxlYWtcbiAgICBpZiAobG9hZC5tZXRhZGF0YS5zY3JpcHRMb2FkICYmIGlzQnJvd3NlcilcbiAgICAgIF9fZ2xvYmFsLmRlZmluZSA9IHRoaXMuYW1kRGVmaW5lO1xuICAgIHJldHVybiBmZXRjaC5jYWxsKHRoaXMsIGxvYWQpO1xuICB9O1xufSk7XG4gXG5ob29rQ29uc3RydWN0b3IoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgIGNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG5cbiAgICB2YXIgY29tbWVudFJlZ0V4ID0gLyhcXC9cXCooW1xcc1xcU10qPylcXCpcXC98KFteOl18XilcXC9cXC8oLiopJCkvbWc7XG4gICAgdmFyIGNqc1JlcXVpcmVQcmUgPSBcIig/Ol58W14kX2EtekEtWlxcXFx4QTAtXFxcXHVGRkZGLl0pXCI7XG4gICAgdmFyIGNqc1JlcXVpcmVQb3N0ID0gXCJcXFxccypcXFxcKFxcXFxzKihcXFwiKFteXFxcIl0rKVxcXCJ8JyhbXiddKyknKVxcXFxzKlxcXFwpXCI7XG4gICAgdmFyIGZuQnJhY2tldFJlZ0V4ID0gL1xcKChbXlxcKV0qKVxcKS87XG4gICAgdmFyIHdzUmVnRXggPSAvXlxccyt8XFxzKyQvZztcbiAgICBcbiAgICB2YXIgcmVxdWlyZVJlZ0V4cyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZ2V0Q0pTRGVwcyhzb3VyY2UsIHJlcXVpcmVJbmRleCkge1xuXG4gICAgICAvLyByZW1vdmUgY29tbWVudHNcbiAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKGNvbW1lbnRSZWdFeCwgJycpO1xuXG4gICAgICAvLyBkZXRlcm1pbmUgdGhlIHJlcXVpcmUgYWxpYXNcbiAgICAgIHZhciBwYXJhbXMgPSBzb3VyY2UubWF0Y2goZm5CcmFja2V0UmVnRXgpO1xuICAgICAgdmFyIHJlcXVpcmVBbGlhcyA9IChwYXJhbXNbMV0uc3BsaXQoJywnKVtyZXF1aXJlSW5kZXhdIHx8ICdyZXF1aXJlJykucmVwbGFjZSh3c1JlZ0V4LCAnJyk7XG5cbiAgICAgIC8vIGZpbmQgb3IgZ2VuZXJhdGUgdGhlIHJlZ2V4IGZvciB0aGlzIHJlcXVpcmVBbGlhc1xuICAgICAgdmFyIHJlcXVpcmVSZWdFeCA9IHJlcXVpcmVSZWdFeHNbcmVxdWlyZUFsaWFzXSB8fCAocmVxdWlyZVJlZ0V4c1tyZXF1aXJlQWxpYXNdID0gbmV3IFJlZ0V4cChjanNSZXF1aXJlUHJlICsgcmVxdWlyZUFsaWFzICsgY2pzUmVxdWlyZVBvc3QsICdnJykpO1xuXG4gICAgICByZXF1aXJlUmVnRXgubGFzdEluZGV4ID0gMDtcblxuICAgICAgdmFyIGRlcHMgPSBbXTtcblxuICAgICAgdmFyIG1hdGNoO1xuICAgICAgd2hpbGUgKG1hdGNoID0gcmVxdWlyZVJlZ0V4LmV4ZWMoc291cmNlKSlcbiAgICAgICAgZGVwcy5wdXNoKG1hdGNoWzJdIHx8IG1hdGNoWzNdKTtcblxuICAgICAgcmV0dXJuIGRlcHM7XG4gICAgfVxuXG4gICAgLypcbiAgICAgIEFNRC1jb21wYXRpYmxlIHJlcXVpcmVcbiAgICAgIFRvIGNvcHkgUmVxdWlyZUpTLCBzZXQgd2luZG93LnJlcXVpcmUgPSB3aW5kb3cucmVxdWlyZWpzID0gbG9hZGVyLmFtZFJlcXVpcmVcbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcXVpcmUobmFtZXMsIGNhbGxiYWNrLCBlcnJiYWNrLCByZWZlcmVyKSB7XG4gICAgICAvLyBpbiBhbWQsIGZpcnN0IGFyZyBjYW4gYmUgYSBjb25maWcgb2JqZWN0Li4uIHdlIGp1c3QgaWdub3JlXG4gICAgICBpZiAodHlwZW9mIG5hbWVzID09ICdvYmplY3QnICYmICEobmFtZXMgaW5zdGFuY2VvZiBBcnJheSkpXG4gICAgICAgIHJldHVybiByZXF1aXJlLmFwcGx5KG51bGwsIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDEsIGFyZ3VtZW50cy5sZW5ndGggLSAxKSk7XG5cbiAgICAgIC8vIGFtZCByZXF1aXJlXG4gICAgICBpZiAodHlwZW9mIG5hbWVzID09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBuYW1lcyA9IFtuYW1lc107XG4gICAgICBpZiAobmFtZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YXIgZHluYW1pY1JlcXVpcmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgZHluYW1pY1JlcXVpcmVzLnB1c2gobG9hZGVyWydpbXBvcnQnXShuYW1lc1tpXSwgcmVmZXJlcikpO1xuICAgICAgICBQcm9taXNlLmFsbChkeW5hbWljUmVxdWlyZXMpLnRoZW4oZnVuY3Rpb24obW9kdWxlcykge1xuICAgICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIG1vZHVsZXMpO1xuICAgICAgICB9LCBlcnJiYWNrKTtcbiAgICAgIH1cblxuICAgICAgLy8gY29tbW9uanMgcmVxdWlyZVxuICAgICAgZWxzZSBpZiAodHlwZW9mIG5hbWVzID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBkZWZhdWx0SlNFeHRlbnNpb24gPSBsb2FkZXIuZGVmYXVsdEpTRXh0ZW5zaW9ucyAmJiBuYW1lcy5zdWJzdHIobmFtZXMubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICAgIHZhciBub3JtYWxpemVkID0gbG9hZGVyLmRlY2Fub25pY2FsaXplKG5hbWVzLCByZWZlcmVyKTtcbiAgICAgICAgaWYgKGRlZmF1bHRKU0V4dGVuc2lvbiAmJiBub3JtYWxpemVkLnN1YnN0cihub3JtYWxpemVkLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnN1YnN0cigwLCBub3JtYWxpemVkLmxlbmd0aCAtIDMpO1xuICAgICAgICB2YXIgbW9kdWxlID0gbG9hZGVyLmdldChub3JtYWxpemVkKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgbm90IGFscmVhZHkgbG9hZGVkIGxvYWRpbmcgXCInICsgbmFtZXMgKyAnXCIgZnJvbSBcIicgKyByZWZlcmVyICsgJ1wiLicpO1xuICAgICAgICByZXR1cm4gbW9kdWxlLl9fdXNlRGVmYXVsdCA/IG1vZHVsZVsnZGVmYXVsdCddIDogbW9kdWxlO1xuICAgICAgfVxuXG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcmVxdWlyZScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlZmluZShuYW1lLCBkZXBzLCBmYWN0b3J5KSB7XG4gICAgICBpZiAodHlwZW9mIG5hbWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgZmFjdG9yeSA9IGRlcHM7XG4gICAgICAgIGRlcHMgPSBuYW1lO1xuICAgICAgICBuYW1lID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghKGRlcHMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgZmFjdG9yeSA9IGRlcHM7XG4gICAgICAgIGRlcHMgPSBbJ3JlcXVpcmUnLCAnZXhwb3J0cycsICdtb2R1bGUnXS5zcGxpY2UoMCwgZmFjdG9yeS5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZmFjdG9yeSA9IChmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFjdG9yeTsgfVxuICAgICAgICB9KShmYWN0b3J5KTtcblxuICAgICAgLy8gaW4gSUU4LCBhIHRyYWlsaW5nIGNvbW1hIGJlY29tZXMgYSB0cmFpbGluZyB1bmRlZmluZWQgZW50cnlcbiAgICAgIGlmIChkZXBzW2RlcHMubGVuZ3RoIC0gMV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgZGVwcy5wb3AoKTtcblxuICAgICAgLy8gcmVtb3ZlIHN5c3RlbSBkZXBlbmRlbmNpZXNcbiAgICAgIHZhciByZXF1aXJlSW5kZXgsIGV4cG9ydHNJbmRleCwgbW9kdWxlSW5kZXg7XG4gICAgICBcbiAgICAgIGlmICgocmVxdWlyZUluZGV4ID0gaW5kZXhPZi5jYWxsKGRlcHMsICdyZXF1aXJlJykpICE9IC0xKSB7XG4gICAgICAgIFxuICAgICAgICBkZXBzLnNwbGljZShyZXF1aXJlSW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIG9ubHkgdHJhY2UgY2pzIHJlcXVpcmVzIGZvciBub24tbmFtZWRcbiAgICAgICAgLy8gbmFtZWQgZGVmaW5lcyBhc3N1bWUgdGhlIHRyYWNlIGhhcyBhbHJlYWR5IGJlZW4gZG9uZVxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgZGVwcyA9IGRlcHMuY29uY2F0KGdldENKU0RlcHMoZmFjdG9yeS50b1N0cmluZygpLCByZXF1aXJlSW5kZXgpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKChleHBvcnRzSW5kZXggPSBpbmRleE9mLmNhbGwoZGVwcywgJ2V4cG9ydHMnKSkgIT0gLTEpXG4gICAgICAgIGRlcHMuc3BsaWNlKGV4cG9ydHNJbmRleCwgMSk7XG4gICAgICBcbiAgICAgIGlmICgobW9kdWxlSW5kZXggPSBpbmRleE9mLmNhbGwoZGVwcywgJ21vZHVsZScpKSAhPSAtMSlcbiAgICAgICAgZGVwcy5zcGxpY2UobW9kdWxlSW5kZXgsIDEpO1xuXG4gICAgICBmdW5jdGlvbiBleGVjdXRlKHJlcSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgICAgIHZhciBkZXBWYWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGRlcFZhbHVlcy5wdXNoKHJlcShkZXBzW2ldKSk7XG5cbiAgICAgICAgbW9kdWxlLnVyaSA9IG1vZHVsZS5pZDtcblxuICAgICAgICBtb2R1bGUuY29uZmlnID0gZnVuY3Rpb24oKSB7fTtcblxuICAgICAgICAvLyBhZGQgYmFjayBpbiBzeXN0ZW0gZGVwZW5kZW5jaWVzXG4gICAgICAgIGlmIChtb2R1bGVJbmRleCAhPSAtMSlcbiAgICAgICAgICBkZXBWYWx1ZXMuc3BsaWNlKG1vZHVsZUluZGV4LCAwLCBtb2R1bGUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV4cG9ydHNJbmRleCAhPSAtMSlcbiAgICAgICAgICBkZXBWYWx1ZXMuc3BsaWNlKGV4cG9ydHNJbmRleCwgMCwgZXhwb3J0cyk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVxdWlyZUluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgZnVuY3Rpb24gY29udGV4dHVhbFJlcXVpcmUobmFtZXMsIGNhbGxiYWNrLCBlcnJiYWNrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hbWVzID09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICByZXR1cm4gcmVxKG5hbWVzKTtcbiAgICAgICAgICAgIHJldHVybiByZXF1aXJlLmNhbGwobG9hZGVyLCBuYW1lcywgY2FsbGJhY2ssIGVycmJhY2ssIG1vZHVsZS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHR1YWxSZXF1aXJlLnRvVXJsID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgLy8gbm9ybWFsaXplIHdpdGhvdXQgZGVmYXVsdEpTRXh0ZW5zaW9uc1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRKU0V4dGVuc2lvbiA9IGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIG5hbWUuc3Vic3RyKG5hbWUubGVuZ3RoIC0gMywgMykgIT0gJy5qcyc7XG4gICAgICAgICAgICB2YXIgdXJsID0gbG9hZGVyLmRlY2Fub25pY2FsaXplKG5hbWUsIG1vZHVsZS5pZCk7XG4gICAgICAgICAgICBpZiAoZGVmYXVsdEpTRXh0ZW5zaW9uICYmIHVybC5zdWJzdHIodXJsLmxlbmd0aCAtIDMsIDMpID09ICcuanMnKVxuICAgICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyKDAsIHVybC5sZW5ndGggLSAzKTtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBkZXBWYWx1ZXMuc3BsaWNlKHJlcXVpcmVJbmRleCwgMCwgY29udGV4dHVhbFJlcXVpcmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGdsb2JhbCByZXF1aXJlIHRvIEFNRCByZXF1aXJlXG4gICAgICAgIHZhciBjdXJSZXF1aXJlID0gX19nbG9iYWwucmVxdWlyZTtcbiAgICAgICAgX19nbG9iYWwucmVxdWlyZSA9IHJlcXVpcmU7XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IGZhY3RvcnkuYXBwbHkoZXhwb3J0c0luZGV4ID09IC0xID8gX19nbG9iYWwgOiBleHBvcnRzLCBkZXBWYWx1ZXMpO1xuXG4gICAgICAgIF9fZ2xvYmFsLnJlcXVpcmUgPSBjdXJSZXF1aXJlO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3V0cHV0ID09ICd1bmRlZmluZWQnICYmIG1vZHVsZSlcbiAgICAgICAgICBvdXRwdXQgPSBtb2R1bGUuZXhwb3J0cztcblxuICAgICAgICBpZiAodHlwZW9mIG91dHB1dCAhPSAndW5kZWZpbmVkJylcbiAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBjcmVhdGVFbnRyeSgpO1xuICAgICAgZW50cnkubmFtZSA9IG5hbWUgJiYgKGxvYWRlci5kZWNhbm9uaWNhbGl6ZSB8fCBsb2FkZXIubm9ybWFsaXplKS5jYWxsKGxvYWRlciwgbmFtZSk7XG4gICAgICBlbnRyeS5kZXBzID0gZGVwcztcbiAgICAgIGVudHJ5LmV4ZWN1dGUgPSBleGVjdXRlO1xuXG4gICAgICBsb2FkZXIucHVzaFJlZ2lzdGVyXyh7XG4gICAgICAgIGFtZDogdHJ1ZSxcbiAgICAgICAgZW50cnk6IGVudHJ5XG4gICAgICB9KTtcbiAgICB9XG4gICAgZGVmaW5lLmFtZCA9IHt9O1xuXG4gICAgLy8gcmVkdWN0aW9uIGZ1bmN0aW9uIHRvIGF0dGFjaCBkZWZpbmVzIHRvIGEgbG9hZCByZWNvcmRcbiAgICBob29rKCdyZWR1Y2VSZWdpc3Rlcl8nLCBmdW5jdGlvbihyZWR1Y2VSZWdpc3Rlcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQsIHJlZ2lzdGVyKSB7XG4gICAgICAgIC8vIG9ubHkgaGFuZGxlIEFNRCByZWdpc3RlcnMgaGVyZVxuICAgICAgICBpZiAoIXJlZ2lzdGVyIHx8ICFyZWdpc3Rlci5hbWQpXG4gICAgICAgICAgcmV0dXJuIHJlZHVjZVJlZ2lzdGVyLmNhbGwodGhpcywgbG9hZCwgcmVnaXN0ZXIpO1xuXG4gICAgICAgIHZhciBjdXJNZXRhID0gbG9hZCAmJiBsb2FkLm1ldGFkYXRhO1xuICAgICAgICB2YXIgZW50cnkgPSByZWdpc3Rlci5lbnRyeTtcblxuICAgICAgICBpZiAoY3VyTWV0YSlcbiAgICAgICAgICBjdXJNZXRhLmZvcm1hdCA9ICdhbWQnO1xuXG4gICAgICAgIC8vIGFub255bW91cyBkZWZpbmVcbiAgICAgICAgaWYgKCFlbnRyeS5uYW1lKSB7XG4gICAgICAgICAgaWYgKCFjdXJNZXRhKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCBhbm9ueW1vdXMgQU1EIGRlZmluZS4nKTtcblxuICAgICAgICAgIGlmIChjdXJNZXRhLmVudHJ5ICYmICFjdXJNZXRhLmVudHJ5Lm5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIGFub255bW91cyBkZWZpbmVzIGluIG1vZHVsZSAnICsgbG9hZC5uYW1lKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjdXJNZXRhLmVudHJ5ID0gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFtZWQgZGVmaW5lXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgYW55IG90aGVyIGRlZmluZXMsIFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoaXMgYmUgYW4gYW5vbnltb3VzIGRlZmluZVxuICAgICAgICAgIC8vIHRoaXMgaXMganVzdCB0byBzdXBwb3J0IHNpbmdsZSBtb2R1bGVzIG9mIHRoZSBmb3JtOlxuICAgICAgICAgIC8vIGRlZmluZSgnanF1ZXJ5JylcbiAgICAgICAgICAvLyBzdGlsbCBsb2FkaW5nIGFub255bW91c2x5XG4gICAgICAgICAgLy8gYmVjYXVzZSBpdCBpcyBkb25lIHdpZGVseSBlbm91Z2ggdG8gYmUgdXNlZnVsXG4gICAgICAgICAgLy8gYXMgc29vbiBhcyB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIGRlZmluZSwgdGhpcyBnZXRzIHJlbW92ZWQgdGhvdWdoXG4gICAgICAgICAgaWYgKGN1ck1ldGEpIHtcbiAgICAgICAgICAgIGlmICghY3VyTWV0YS5lbnRyeSAmJiAhY3VyTWV0YS5idW5kbGUpXG4gICAgICAgICAgICAgIGN1ck1ldGEuZW50cnkgPSBlbnRyeTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1ck1ldGEuZW50cnkgJiYgY3VyTWV0YS5lbnRyeS5uYW1lKVxuICAgICAgICAgICAgICBjdXJNZXRhLmVudHJ5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAvLyBub3RlIHRoaXMgaXMgbm93IGEgYnVuZGxlXG4gICAgICAgICAgICBjdXJNZXRhLmJ1bmRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZGVmaW5lIHRoZSBtb2R1bGUgdGhyb3VnaCB0aGUgcmVnaXN0ZXIgcmVnaXN0cnlcbiAgICAgICAgICBpZiAoIShlbnRyeS5uYW1lIGluIHRoaXMuZGVmaW5lZCkpXG4gICAgICAgICAgICB0aGlzLmRlZmluZWRbZW50cnkubmFtZV0gPSBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGxvYWRlci5hbWREZWZpbmUgPSBkZWZpbmU7XG4gICAgbG9hZGVyLmFtZFJlcXVpcmUgPSByZXF1aXJlO1xuICB9O1xufSk7LypcbiAgU3lzdGVtSlMgQU1EIEZvcm1hdFxuKi9cbihmdW5jdGlvbigpIHtcbiAgLy8gQU1EIE1vZHVsZSBGb3JtYXQgRGV0ZWN0aW9uIFJlZ0V4XG4gIC8vIGRlZmluZShbLi4sIC4uLCAuLl0sIC4uLilcbiAgLy8gZGVmaW5lKHZhck5hbWUpOyB8fCBkZWZpbmUoZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cykge30pOyB8fCBkZWZpbmUoe30pXG4gIHZhciBhbWRSZWdFeCA9IC8oPzpeXFx1RkVGRj98W14kX2EtekEtWlxceEEwLVxcdUZGRkYuXSlkZWZpbmVcXHMqXFwoXFxzKihcIlteXCJdK1wiXFxzKixcXHMqfCdbXiddKydcXHMqLFxccyopP1xccyooXFxbKFxccyooKFwiW15cIl0rXCJ8J1teJ10rJylcXHMqLHxcXC9cXC8uKlxccj9cXG58XFwvXFwqKC58XFxzKSo/XFwqXFwvKSkqKFxccyooXCJbXlwiXStcInwnW14nXSsnKVxccyosPyk/KFxccyooXFwvXFwvLipcXHI/XFxufFxcL1xcKigufFxccykqP1xcKlxcLykpKlxccypcXF18ZnVuY3Rpb25cXHMqfHt8W18kYS16QS1aXFx4QTAtXFx1RkZGRl1bXyRhLXpBLVowLTlcXHhBMC1cXHVGRkZGXSpcXCkpLztcblxuICBob29rKCdpbnN0YW50aWF0ZScsIGZ1bmN0aW9uKGluc3RhbnRpYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgXG4gICAgICBpZiAobG9hZC5tZXRhZGF0YS5mb3JtYXQgPT0gJ2FtZCcgfHwgIWxvYWQubWV0YWRhdGEuZm9ybWF0ICYmIGxvYWQuc291cmNlLm1hdGNoKGFtZFJlZ0V4KSkge1xuICAgICAgICBsb2FkLm1ldGFkYXRhLmZvcm1hdCA9ICdhbWQnO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFsb2FkZXIuYnVpbGRlciAmJiBsb2FkZXIuZXhlY3V0ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICB2YXIgY3VyRGVmaW5lID0gX19nbG9iYWwuZGVmaW5lO1xuICAgICAgICAgIF9fZ2xvYmFsLmRlZmluZSA9IHRoaXMuYW1kRGVmaW5lO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9fZXhlYy5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgX19nbG9iYWwuZGVmaW5lID0gY3VyRGVmaW5lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghbG9hZC5tZXRhZGF0YS5lbnRyeSAmJiAhbG9hZC5tZXRhZGF0YS5idW5kbGUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBTUQgbW9kdWxlICcgKyBsb2FkLm5hbWUgKyAnIGRpZCBub3QgZGVmaW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9hZC5tZXRhZGF0YS5leGVjdXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9hZC5tZXRhZGF0YS5idWlsZGVyRXhlY3V0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc3RhbnRpYXRlLmNhbGwobG9hZGVyLCBsb2FkKTtcbiAgICB9O1xuICB9KTtcblxufSkoKTtcbi8qXG4gIFN5c3RlbUpTIExvYWRlciBQbHVnaW4gU3VwcG9ydFxuXG4gIFN1cHBvcnRzIHBsdWdpbiBsb2FkZXIgc3ludGF4IHdpdGggXCIhXCIsIG9yIHZpYSBtZXRhZGF0YS5sb2FkZXJcblxuICBUaGUgcGx1Z2luIG5hbWUgaXMgbG9hZGVkIGFzIGEgbW9kdWxlIGl0c2VsZiwgYW5kIGNhbiBvdmVycmlkZSBzdGFuZGFyZCBsb2FkZXIgaG9va3NcbiAgZm9yIHRoZSBwbHVnaW4gcmVzb3VyY2UuIFNlZSB0aGUgcGx1Z2luIHNlY3Rpb24gb2YgdGhlIHN5c3RlbWpzIHJlYWRtZS5cbiovXG5cbihmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gZ2V0UGFyZW50TmFtZShsb2FkZXIsIHBhcmVudE5hbWUpIHtcbiAgICAvLyBpZiBwYXJlbnQgaXMgYSBwbHVnaW4sIG5vcm1hbGl6ZSBhZ2FpbnN0IHRoZSBwYXJlbnQgcGx1Z2luIGFyZ3VtZW50IG9ubHlcbiAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgdmFyIHBhcmVudFBsdWdpbkluZGV4O1xuICAgICAgaWYgKGxvYWRlci5wbHVnaW5GaXJzdCkge1xuICAgICAgICBpZiAoKHBhcmVudFBsdWdpbkluZGV4ID0gcGFyZW50TmFtZS5sYXN0SW5kZXhPZignIScpKSAhPSAtMSlcbiAgICAgICAgICByZXR1cm4gcGFyZW50TmFtZS5zdWJzdHIocGFyZW50UGx1Z2luSW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoKHBhcmVudFBsdWdpbkluZGV4ID0gcGFyZW50TmFtZS5pbmRleE9mKCchJykpICE9IC0xKVxuICAgICAgICAgIHJldHVybiBwYXJlbnROYW1lLnN1YnN0cigwLCBwYXJlbnRQbHVnaW5JbmRleCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnROYW1lO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlUGx1Z2luKGxvYWRlciwgbmFtZSkge1xuICAgIHZhciBhcmd1bWVudE5hbWU7XG4gICAgdmFyIHBsdWdpbk5hbWU7XG5cbiAgICB2YXIgcGx1Z2luSW5kZXggPSBuYW1lLmxhc3RJbmRleE9mKCchJyk7XG5cbiAgICBpZiAocGx1Z2luSW5kZXggPT0gLTEpXG4gICAgICByZXR1cm47XG5cbiAgICBpZiAobG9hZGVyLnBsdWdpbkZpcnN0KSB7XG4gICAgICBhcmd1bWVudE5hbWUgPSBuYW1lLnN1YnN0cihwbHVnaW5JbmRleCArIDEpO1xuICAgICAgcGx1Z2luTmFtZSA9IG5hbWUuc3Vic3RyKDAsIHBsdWdpbkluZGV4KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhcmd1bWVudE5hbWUgPSBuYW1lLnN1YnN0cigwLCBwbHVnaW5JbmRleCk7XG4gICAgICBwbHVnaW5OYW1lID0gbmFtZS5zdWJzdHIocGx1Z2luSW5kZXggKyAxKSB8fCBhcmd1bWVudE5hbWUuc3Vic3RyKGFyZ3VtZW50TmFtZS5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFyZ3VtZW50OiBhcmd1bWVudE5hbWUsXG4gICAgICBwbHVnaW46IHBsdWdpbk5hbWVcbiAgICB9O1xuICB9XG5cbiAgLy8gcHV0IG5hbWUgYmFjayB0b2dldGhlciBhZnRlciBwYXJ0cyBoYXZlIGJlZW4gbm9ybWFsaXplZFxuICBmdW5jdGlvbiBjb21iaW5lUGx1Z2luUGFydHMobG9hZGVyLCBhcmd1bWVudE5hbWUsIHBsdWdpbk5hbWUsIGRlZmF1bHRFeHRlbnNpb24pIHtcbiAgICBpZiAoZGVmYXVsdEV4dGVuc2lvbiAmJiBhcmd1bWVudE5hbWUuc3Vic3RyKGFyZ3VtZW50TmFtZS5sZW5ndGggLSAzLCAzKSA9PSAnLmpzJylcbiAgICAgIGFyZ3VtZW50TmFtZSA9IGFyZ3VtZW50TmFtZS5zdWJzdHIoMCwgYXJndW1lbnROYW1lLmxlbmd0aCAtIDMpO1xuXG4gICAgaWYgKGxvYWRlci5wbHVnaW5GaXJzdCkge1xuICAgICAgcmV0dXJuIHBsdWdpbk5hbWUgKyAnIScgKyBhcmd1bWVudE5hbWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50TmFtZSArICchJyArIHBsdWdpbk5hbWU7XG4gICAgfVxuICB9XG5cbiAgLy8gbm90ZSBpZiBub3JtYWxpemUgd2lsbCBhZGQgYSBkZWZhdWx0IGpzIGV4dGVuc2lvblxuICAvLyBpZiBzbywgcmVtb3ZlIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gIC8vIHRoaXMgaXMgc3RyYW5nZSBhbmQgc3Vja3MsIGJ1dCB3aWxsIGJlIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gY2hlY2tEZWZhdWx0RXh0ZW5zaW9uKGxvYWRlciwgYXJnKSB7XG4gICAgcmV0dXJuIGxvYWRlci5kZWZhdWx0SlNFeHRlbnNpb25zICYmIGFyZy5zdWJzdHIoYXJnLmxlbmd0aCAtIDMsIDMpICE9ICcuanMnOyBcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vcm1hbGl6ZVN5bmMobm9ybWFsaXplU3luYykge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lLCBpc1BsdWdpbikge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICBcbiAgICAgIHBhcmVudE5hbWUgPSBnZXRQYXJlbnROYW1lKHRoaXMsIHBhcmVudE5hbWUpO1xuICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlUGx1Z2luKGxvYWRlciwgbmFtZSk7XG5cbiAgICAgIGlmICghcGFyc2VkKVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplU3luYy5jYWxsKHRoaXMsIG5hbWUsIHBhcmVudE5hbWUsIGlzUGx1Z2luKTtcblxuICAgICAgLy8gaWYgdGhpcyBpcyBhIHBsdWdpbiwgbm9ybWFsaXplIHRoZSBwbHVnaW4gbmFtZSBhbmQgdGhlIGFyZ3VtZW50XG4gICAgICB2YXIgYXJndW1lbnROYW1lID0gbG9hZGVyLm5vcm1hbGl6ZVN5bmMocGFyc2VkLmFyZ3VtZW50LCBwYXJlbnROYW1lLCB0cnVlKTtcbiAgICAgIHZhciBwbHVnaW5OYW1lID0gbG9hZGVyLm5vcm1hbGl6ZVN5bmMocGFyc2VkLnBsdWdpbiwgcGFyZW50TmFtZSwgdHJ1ZSk7XG4gICAgICByZXR1cm4gY29tYmluZVBsdWdpblBhcnRzKGxvYWRlciwgYXJndW1lbnROYW1lLCBwbHVnaW5OYW1lLCBjaGVja0RlZmF1bHRFeHRlbnNpb24obG9hZGVyLCBwYXJzZWQuYXJndW1lbnQpKTtcbiAgICB9O1xuICB9XG4gIFxuICBob29rKCdkZWNhbm9uaWNhbGl6ZScsIGNyZWF0ZU5vcm1hbGl6ZVN5bmMpO1xuICBob29rKCdub3JtYWxpemVTeW5jJywgY3JlYXRlTm9ybWFsaXplU3luYyk7XG5cbiAgaG9vaygnbm9ybWFsaXplJywgZnVuY3Rpb24obm9ybWFsaXplKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUsIHBhcmVudE5hbWUsIGlzUGx1Z2luKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcblxuICAgICAgcGFyZW50TmFtZSA9IGdldFBhcmVudE5hbWUodGhpcywgcGFyZW50TmFtZSk7XG5cbiAgICAgIHZhciBwYXJzZWQgPSBwYXJzZVBsdWdpbihsb2FkZXIsIG5hbWUpO1xuXG4gICAgICBpZiAoIXBhcnNlZClcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5jYWxsKGxvYWRlciwgbmFtZSwgcGFyZW50TmFtZSwgaXNQbHVnaW4pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICBsb2FkZXIubm9ybWFsaXplKHBhcnNlZC5hcmd1bWVudCwgcGFyZW50TmFtZSwgdHJ1ZSksXG4gICAgICAgIGxvYWRlci5ub3JtYWxpemUocGFyc2VkLnBsdWdpbiwgcGFyZW50TmFtZSlcbiAgICAgIF0pXG4gICAgICAudGhlbihmdW5jdGlvbihub3JtYWxpemVkKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lUGx1Z2luUGFydHMobG9hZGVyLCBub3JtYWxpemVkWzBdLCBub3JtYWxpemVkWzFdLCBjaGVja0RlZmF1bHRFeHRlbnNpb24obG9hZGVyLCBwYXJzZWQuYXJndW1lbnQpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuXG4gICAgICB2YXIgbmFtZSA9IGxvYWQubmFtZTtcblxuICAgICAgLy8gcGx1Z2luIHN5bnRheFxuICAgICAgdmFyIHBsdWdpblN5bnRheEluZGV4O1xuICAgICAgaWYgKGxvYWRlci5wbHVnaW5GaXJzdCkge1xuICAgICAgICBpZiAoKHBsdWdpblN5bnRheEluZGV4ID0gbmFtZS5pbmRleE9mKCchJykpICE9IC0xKSB7XG4gICAgICAgICAgbG9hZC5tZXRhZGF0YS5sb2FkZXIgPSBuYW1lLnN1YnN0cigwLCBwbHVnaW5TeW50YXhJbmRleCk7XG4gICAgICAgICAgbG9hZC5uYW1lID0gbmFtZS5zdWJzdHIocGx1Z2luU3ludGF4SW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICgocGx1Z2luU3ludGF4SW5kZXggPSBuYW1lLmxhc3RJbmRleE9mKCchJykpICE9IC0xKSB7XG4gICAgICAgICAgbG9hZC5tZXRhZGF0YS5sb2FkZXIgPSBuYW1lLnN1YnN0cihwbHVnaW5TeW50YXhJbmRleCArIDEpO1xuICAgICAgICAgIGxvYWQubmFtZSA9IG5hbWUuc3Vic3RyKDAsIHBsdWdpblN5bnRheEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9jYXRlLmNhbGwobG9hZGVyLCBsb2FkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oYWRkcmVzcykge1xuICAgICAgICB2YXIgcGx1Z2luID0gbG9hZC5tZXRhZGF0YS5sb2FkZXI7XG5cbiAgICAgICAgaWYgKCFwbHVnaW4pXG4gICAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG5cbiAgICAgICAgLy8gb25seSBmZXRjaCB0aGUgcGx1Z2luIGl0c2VsZiBpZiB0aGlzIG5hbWUgaXNuJ3QgZGVmaW5lZFxuICAgICAgICBpZiAobG9hZGVyLmRlZmluZWQgJiYgbG9hZGVyLmRlZmluZWRbbmFtZV0pXG4gICAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG5cbiAgICAgICAgdmFyIHBsdWdpbkxvYWRlciA9IGxvYWRlci5wbHVnaW5Mb2FkZXIgfHwgbG9hZGVyO1xuXG4gICAgICAgIC8vIGxvYWQgdGhlIHBsdWdpbiBtb2R1bGUgYW5kIHJ1biBzdGFuZGFyZCBsb2NhdGVcbiAgICAgICAgcmV0dXJuIHBsdWdpbkxvYWRlclsnaW1wb3J0J10ocGx1Z2luKVxuICAgICAgICAudGhlbihmdW5jdGlvbihsb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgICAvLyBzdG9yZSB0aGUgcGx1Z2luIG1vZHVsZSBpdHNlbGYgb24gdGhlIG1ldGFkYXRhXG4gICAgICAgICAgbG9hZC5tZXRhZGF0YS5sb2FkZXJNb2R1bGUgPSBsb2FkZXJNb2R1bGU7XG5cbiAgICAgICAgICBsb2FkLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICAgIGlmIChsb2FkZXJNb2R1bGUubG9jYXRlKVxuICAgICAgICAgICAgcmV0dXJuIGxvYWRlck1vZHVsZS5sb2NhdGUuY2FsbChsb2FkZXIsIGxvYWQpO1xuXG4gICAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9vaygnZmV0Y2gnLCBmdW5jdGlvbihmZXRjaCkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZSAmJiBsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZS5mZXRjaCAmJiBsb2FkLm1ldGFkYXRhLmZvcm1hdCAhPSAnZGVmaW5lZCcpIHtcbiAgICAgICAgbG9hZC5tZXRhZGF0YS5zY3JpcHRMb2FkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZS5mZXRjaC5jYWxsKGxvYWRlciwgbG9hZCwgZnVuY3Rpb24obG9hZCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaC5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmZXRjaC5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgaG9vaygndHJhbnNsYXRlJywgZnVuY3Rpb24odHJhbnNsYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgaWYgKGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlICYmIGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlLnRyYW5zbGF0ZSAmJiBsb2FkLm1ldGFkYXRhLmZvcm1hdCAhPSAnZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZS50cmFuc2xhdGUuY2FsbChsb2FkZXIsIGxvYWQpKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHZhciBzb3VyY2VNYXAgPSBsb2FkLm1ldGFkYXRhLnNvdXJjZU1hcDtcblxuICAgICAgICAgIC8vIHNhbml0aXplIHNvdXJjZU1hcCBpZiBhbiBvYmplY3Qgbm90IGEgSlNPTiBzdHJpbmdcbiAgICAgICAgICBpZiAoc291cmNlTWFwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZU1hcCAhPSAnb2JqZWN0JylcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsb2FkLm1ldGFkYXRhLnNvdXJjZU1hcCBtdXN0IGJlIHNldCB0byBhbiBvYmplY3QuJyk7XG5cbiAgICAgICAgICAgIHZhciBvcmlnaW5hbE5hbWUgPSBsb2FkLm5hbWUuc3BsaXQoJyEnKVswXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gZm9yY2Ugc2V0IHRoZSBmaWxlbmFtZSBvZiB0aGUgb3JpZ2luYWwgZmlsZVxuICAgICAgICAgICAgc291cmNlTWFwLmZpbGUgPSBvcmlnaW5hbE5hbWUgKyAnIXRyYW5zcGlsZWQnO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBzZXQgdGhlIHNvdXJjZXMgbGlzdCBpZiBvbmx5IG9uZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICghc291cmNlTWFwLnNvdXJjZXMgfHwgc291cmNlTWFwLnNvdXJjZXMubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICAgIHNvdXJjZU1hcC5zb3VyY2VzID0gW29yaWdpbmFsTmFtZV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaWYgcnVubmluZyBvbiBmaWxlOi8vLyBVUkxzLCBzb3VyY2VzQ29udGVudCBpcyBuZWNlc3NhcnlcbiAgICAgICAgICAvLyBsb2FkLm1ldGFkYXRhLnNvdXJjZU1hcC5zb3VyY2VzQ29udGVudCA9IFtsb2FkLnNvdXJjZV07XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAnc3RyaW5nJylcbiAgICAgICAgICAgIGxvYWQuc291cmNlID0gcmVzdWx0O1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHdhcm4uY2FsbCh0aGlzLCAnUGx1Z2luICcgKyBsb2FkLm1ldGFkYXRhLmxvYWRlciArICcgc2hvdWxkIHJldHVybiB0aGUgc291cmNlIGluIHRyYW5zbGF0ZSwgaW5zdGVhZCBvZiBzZXR0aW5nIGxvYWQuc291cmNlIGRpcmVjdGx5LiBUaGlzIHN1cHBvcnQgd2lsbCBiZSBkZXByZWNhdGVkLicpO1xuXG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZS5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGUuY2FsbChsb2FkZXIsIGxvYWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIGhvb2soJ2luc3RhbnRpYXRlJywgZnVuY3Rpb24oaW5zdGFudGlhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obG9hZCkge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG5cbiAgICAgIGlmIChsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZSAmJiBsb2FkLm1ldGFkYXRhLmxvYWRlck1vZHVsZS5pbnN0YW50aWF0ZSAmJiAhbG9hZGVyLmJ1aWxkZXIgJiYgbG9hZC5tZXRhZGF0YS5mb3JtYXQgIT0gJ2RlZmluZWQnKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvYWQubWV0YWRhdGEubG9hZGVyTW9kdWxlLmluc3RhbnRpYXRlLmNhbGwobG9hZGVyLCBsb2FkKSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmVudHJ5ID0gY3JlYXRlRW50cnkoKTtcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmVudHJ5LmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvYWQubWV0YWRhdGEuZW50cnkuZGVwcyA9IGxvYWQubWV0YWRhdGEuZGVwcztcbiAgICAgICAgICBsb2FkLm1ldGFkYXRhLmZvcm1hdCA9ICdkZWZpbmVkJztcbiAgICAgICAgICByZXR1cm4gaW5zdGFudGlhdGUuY2FsbChsb2FkZXIsIGxvYWQpO1xuICAgICAgICB9KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlLmNhbGwobG9hZGVyLCBsb2FkKTtcbiAgICB9O1xuICB9KTtcblxufSkoKTsvKlxuICogQ29uZGl0aW9ucyBFeHRlbnNpb25cbiAqXG4gKiAgIEFsbG93cyBhIGNvbmRpdGlvbiBtb2R1bGUgdG8gYWx0ZXIgdGhlIHJlc29sdXRpb24gb2YgYW4gaW1wb3J0IHZpYSBzeW50YXg6XG4gKlxuICogICAgIGltcG9ydCAkIGZyb20gJ2pxdWVyeS8je2Jyb3dzZXJ9JztcbiAqXG4gKiAgIFdpbGwgZmlyc3QgbG9hZCB0aGUgbW9kdWxlICdicm93c2VyJyB2aWEgYFN5c3RlbUpTLmltcG9ydCgnYnJvd3NlcicpYCBhbmQgXG4gKiAgIHRha2UgdGhlIGRlZmF1bHQgZXhwb3J0IG9mIHRoYXQgbW9kdWxlLlxuICogICBJZiB0aGUgZGVmYXVsdCBleHBvcnQgaXMgbm90IGEgc3RyaW5nLCBhbiBlcnJvciBpcyB0aHJvd24uXG4gKiBcbiAqICAgV2UgdGhlbiBzdWJzdGl0dXRlIHRoZSBzdHJpbmcgaW50byB0aGUgcmVxdWlyZSB0byBnZXQgdGhlIGNvbmRpdGlvbmFsIHJlc29sdXRpb25cbiAqICAgZW5hYmxpbmcgZW52aXJvbm1lbnQtc3BlY2lmaWMgdmFyaWF0aW9ucyBsaWtlOlxuICogXG4gKiAgICAgaW1wb3J0ICQgZnJvbSAnanF1ZXJ5L2llJ1xuICogICAgIGltcG9ydCAkIGZyb20gJ2pxdWVyeS9maXJlZm94J1xuICogICAgIGltcG9ydCAkIGZyb20gJ2pxdWVyeS9jaHJvbWUnXG4gKiAgICAgaW1wb3J0ICQgZnJvbSAnanF1ZXJ5L3NhZmFyaSdcbiAqXG4gKiAgIEl0IGNhbiBiZSB1c2VmdWwgZm9yIGEgY29uZGl0aW9uIG1vZHVsZSB0byBkZWZpbmUgbXVsdGlwbGUgY29uZGl0aW9ucy5cbiAqICAgVGhpcyBjYW4gYmUgZG9uZSB2aWEgdGhlIGB8YCBtb2RpZmllciB0byBzcGVjaWZ5IGFuIGV4cG9ydCBtZW1iZXIgZXhwcmVzc2lvbjpcbiAqXG4gKiAgICAgaW1wb3J0ICdqcXVlcnkvI3suL2Jyb3dzZXIuanN8Z3JhZGUudmVyc2lvbn0nXG4gKlxuICogICBXaGVyZSB0aGUgYGdyYWRlYCBleHBvcnQgYHZlcnNpb25gIG1lbWJlciBpbiB0aGUgYGJyb3dzZXIuanNgIG1vZHVsZSAgaXMgc3Vic3RpdHV0ZWQuXG4gKlxuICpcbiAqIEJvb2xlYW4gQ29uZGl0aW9uYWxzXG4gKlxuICogICBGb3IgcG9seWZpbGwgbW9kdWxlcywgdGhhdCBhcmUgdXNlZCBhcyBpbXBvcnRzIGJ1dCBoYXZlIG5vIG1vZHVsZSB2YWx1ZSxcbiAqICAgYSBiaW5hcnkgY29uZGl0aW9uYWwgYWxsb3dzIGEgbW9kdWxlIG5vdCB0byBiZSBsb2FkZWQgYXQgYWxsIGlmIG5vdCBuZWVkZWQ6XG4gKlxuICogICAgIGltcG9ydCAnZXM1LXNoaW0jPy4vY29uZGl0aW9ucy5qc3xuZWVkcy1lczVzaGltJ1xuICpcbiAqICAgVGhlc2UgY29uZGl0aW9ucyBjYW4gYWxzbyBiZSBuZWdhdGVkIHZpYTpcbiAqICAgICBcbiAqICAgICBpbXBvcnQgJ2VzNS1zaGltIz9+Li9jb25kaXRpb25zLmpzfGVzNidcbiAqXG4gKi9cblxuICBmdW5jdGlvbiBwYXJzZUNvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICB2YXIgY29uZGl0aW9uRXhwb3J0LCBjb25kaXRpb25Nb2R1bGUsIG5lZ2F0aW9uO1xuXG4gICAgdmFyIG5lZ2F0aW9uID0gY29uZGl0aW9uWzBdID09ICd+JztcbiAgICB2YXIgY29uZGl0aW9uRXhwb3J0SW5kZXggPSBjb25kaXRpb24ubGFzdEluZGV4T2YoJ3wnKTtcbiAgICBpZiAoY29uZGl0aW9uRXhwb3J0SW5kZXggIT0gLTEpIHtcbiAgICAgIGNvbmRpdGlvbkV4cG9ydCA9IGNvbmRpdGlvbi5zdWJzdHIoY29uZGl0aW9uRXhwb3J0SW5kZXggKyAxKTtcbiAgICAgIGNvbmRpdGlvbk1vZHVsZSA9IGNvbmRpdGlvbi5zdWJzdHIobmVnYXRpb24sIGNvbmRpdGlvbkV4cG9ydEluZGV4IC0gbmVnYXRpb24pIHx8ICdAc3lzdGVtLWVudic7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uZGl0aW9uRXhwb3J0ID0gbnVsbDtcbiAgICAgIGNvbmRpdGlvbk1vZHVsZSA9IGNvbmRpdGlvbi5zdWJzdHIobmVnYXRpb24pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBtb2R1bGU6IGNvbmRpdGlvbk1vZHVsZSxcbiAgICAgIHByb3A6IGNvbmRpdGlvbkV4cG9ydCxcbiAgICAgIG5lZ2F0ZTogbmVnYXRpb25cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2VyaWFsaXplQ29uZGl0aW9uKGNvbmRpdGlvbk9iaikge1xuICAgIHJldHVybiAoY29uZGl0aW9uT2JqLm5lZ2F0ZSA/ICd+JyA6ICcnKSArIGNvbmRpdGlvbk9iai5tb2R1bGUgKyAoY29uZGl0aW9uT2JqLnByb3AgPyAnfCcgKyBjb25kaXRpb25PYmoucHJvcCA6ICcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVDb25kaXRpb24oY29uZGl0aW9uT2JqLCBwYXJlbnROYW1lLCBib29sKSB7XG4gICAgcmV0dXJuIHRoaXNbJ2ltcG9ydCddKGNvbmRpdGlvbk9iai5tb2R1bGUsIHBhcmVudE5hbWUpXG4gICAgLnRoZW4oZnVuY3Rpb24obSkge1xuICAgICAgaWYgKGNvbmRpdGlvbk9iai5wcm9wKVxuICAgICAgICBtID0gcmVhZE1lbWJlckV4cHJlc3Npb24oY29uZGl0aW9uT2JqLnByb3AsIG0pO1xuICAgICAgZWxzZSBpZiAodHlwZW9mIG0gPT0gJ29iamVjdCcgJiYgbSArICcnID09ICdNb2R1bGUnKVxuICAgICAgICBtID0gbVsnZGVmYXVsdCddO1xuXG4gICAgICBpZiAoYm9vbCAmJiB0eXBlb2YgbSAhPSAnYm9vbGVhbicpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbmRpdGlvbiAnICsgc2VyaWFsaXplQ29uZGl0aW9uKGNvbmRpdGlvbk9iaikgKyAnIGRpZCBub3QgcmVzb2x2ZSB0byBhIGJvb2xlYW4uJyk7XG5cbiAgICAgIHJldHVybiBjb25kaXRpb25PYmoubmVnYXRlID8gIW0gOiBtO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGludGVycG9sYXRpb25SZWdFeCA9IC8jXFx7W15cXH1dK1xcfS87XG4gIGZ1bmN0aW9uIGludGVycG9sYXRlQ29uZGl0aW9uYWwobmFtZSwgcGFyZW50TmFtZSkge1xuICAgIC8vIGZpcnN0IHdlIG5vcm1hbGl6ZSB0aGUgY29uZGl0aW9uYWxcbiAgICB2YXIgY29uZGl0aW9uYWxNYXRjaCA9IG5hbWUubWF0Y2goaW50ZXJwb2xhdGlvblJlZ0V4KTtcblxuICAgIGlmICghY29uZGl0aW9uYWxNYXRjaClcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmFtZSk7XG5cbiAgICB2YXIgY29uZGl0aW9uT2JqID0gcGFyc2VDb25kaXRpb24oY29uZGl0aW9uYWxNYXRjaFswXS5zdWJzdHIoMiwgY29uZGl0aW9uYWxNYXRjaFswXS5sZW5ndGggLSAzKSk7XG5cbiAgICAvLyBpbiBidWlsZHMsIHJldHVybiBub3JtYWxpemVkIGNvbmRpdGlvbmFsXG4gICAgaWYgKHRoaXMuYnVpbGRlcilcbiAgICAgIHJldHVybiB0aGlzWydub3JtYWxpemUnXShjb25kaXRpb25PYmoubW9kdWxlLCBwYXJlbnROYW1lKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oY29uZGl0aW9uTW9kdWxlKSB7XG4gICAgICAgIGNvbmRpdGlvbk9iai5tb2R1bGUgPSBjb25kaXRpb25Nb2R1bGU7XG4gICAgICAgIHJldHVybiBuYW1lLnJlcGxhY2UoaW50ZXJwb2xhdGlvblJlZ0V4LCAnI3snICsgc2VyaWFsaXplQ29uZGl0aW9uKGNvbmRpdGlvbk9iaikgKyAnfScpO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gcmVzb2x2ZUNvbmRpdGlvbi5jYWxsKHRoaXMsIGNvbmRpdGlvbk9iaiwgcGFyZW50TmFtZSwgZmFsc2UpXG4gICAgLnRoZW4oZnVuY3Rpb24oY29uZGl0aW9uVmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgY29uZGl0aW9uVmFsdWUgIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY29uZGl0aW9uIHZhbHVlIGZvciAnICsgbmFtZSArICcgZG9lc25cXCd0IHJlc29sdmUgdG8gYSBzdHJpbmcuJyk7XG5cbiAgICAgIGlmIChjb25kaXRpb25WYWx1ZS5pbmRleE9mKCcvJykgIT0gLTEpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZWQgdG8gaW50ZXJwb2xhdGUgY29uZGl0aW9uYWwgJyArIG5hbWUgKyAocGFyZW50TmFtZSA/ICcgaW4gJyArIHBhcmVudE5hbWUgOiAnJykgKyAnXFxuXFx0VGhlIGNvbmRpdGlvbiB2YWx1ZSAnICsgY29uZGl0aW9uVmFsdWUgKyAnIGNhbm5vdCBjb250YWluIGEgXCIvXCIgc2VwYXJhdG9yLicpO1xuXG4gICAgICByZXR1cm4gbmFtZS5yZXBsYWNlKGludGVycG9sYXRpb25SZWdFeCwgY29uZGl0aW9uVmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYm9vbGVhbkNvbmRpdGlvbmFsKG5hbWUsIHBhcmVudE5hbWUpIHtcbiAgICAvLyBmaXJzdCB3ZSBub3JtYWxpemUgdGhlIGNvbmRpdGlvbmFsXG4gICAgdmFyIGJvb2xlYW5JbmRleCA9IG5hbWUubGFzdEluZGV4T2YoJyM/Jyk7XG5cbiAgICBpZiAoYm9vbGVhbkluZGV4ID09IC0xKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuYW1lKTtcblxuICAgIHZhciBjb25kaXRpb25PYmogPSBwYXJzZUNvbmRpdGlvbihuYW1lLnN1YnN0cihib29sZWFuSW5kZXggKyAyKSk7XG5cbiAgICAvLyBpbiBidWlsZHMsIHJldHVybiBub3JtYWxpemVkIGNvbmRpdGlvbmFsXG4gICAgaWYgKHRoaXMuYnVpbGRlcilcbiAgICAgIHJldHVybiB0aGlzWydub3JtYWxpemUnXShjb25kaXRpb25PYmoubW9kdWxlLCBwYXJlbnROYW1lKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oY29uZGl0aW9uTW9kdWxlKSB7XG4gICAgICAgIGNvbmRpdGlvbk9iai5tb2R1bGUgPSBjb25kaXRpb25Nb2R1bGU7XG4gICAgICAgIHJldHVybiBuYW1lLnN1YnN0cigwLCBib29sZWFuSW5kZXgpICsgJyM/JyArIHNlcmlhbGl6ZUNvbmRpdGlvbihjb25kaXRpb25PYmopO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gcmVzb2x2ZUNvbmRpdGlvbi5jYWxsKHRoaXMsIGNvbmRpdGlvbk9iaiwgcGFyZW50TmFtZSwgdHJ1ZSlcbiAgICAudGhlbihmdW5jdGlvbihjb25kaXRpb25WYWx1ZSkge1xuICAgICAgcmV0dXJuIGNvbmRpdGlvblZhbHVlID8gbmFtZS5zdWJzdHIoMCwgYm9vbGVhbkluZGV4KSA6ICdAZW1wdHknO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gbm9ybWFsaXplU3luYyBkb2VzIG5vdCBwYXJzZSBjb25kaXRpb25hbHMgYXQgYWxsIGFsdGhvdWdoIGl0IGNvdWxkXG4gIGhvb2soJ25vcm1hbGl6ZScsIGZ1bmN0aW9uKG5vcm1hbGl6ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lLCBwYXJlbnROYW1lLCBwYXJlbnRBZGRyZXNzKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgIHJldHVybiBib29sZWFuQ29uZGl0aW9uYWwuY2FsbChsb2FkZXIsIG5hbWUsIHBhcmVudE5hbWUpXG4gICAgICAudGhlbihmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemUuY2FsbChsb2FkZXIsIG5hbWUsIHBhcmVudE5hbWUsIHBhcmVudEFkZHJlc3MpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlQ29uZGl0aW9uYWwuY2FsbChsb2FkZXIsIG5vcm1hbGl6ZWQsIHBhcmVudE5hbWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG4vKlxuICogQWxpYXMgRXh0ZW5zaW9uXG4gKlxuICogQWxsb3dzIGEgbW9kdWxlIHRvIGJlIGEgcGxhaW4gY29weSBvZiBhbm90aGVyIG1vZHVsZSBieSBtb2R1bGUgbmFtZVxuICpcbiAqIFN5c3RlbUpTLm1ldGFbJ215Ym9vdHN0cmFwYWxpYXMnXSA9IHsgYWxpYXM6ICdib290c3RyYXAnIH07XG4gKlxuICovXG4oZnVuY3Rpb24oKSB7XG4gIC8vIGFsaWFzZXNcbiAgaG9vaygnZmV0Y2gnLCBmdW5jdGlvbihmZXRjaCkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICB2YXIgYWxpYXMgPSBsb2FkLm1ldGFkYXRhLmFsaWFzO1xuICAgICAgdmFyIGFsaWFzRGVwcyA9IGxvYWQubWV0YWRhdGEuZGVwcyB8fCBbXTtcbiAgICAgIGlmIChhbGlhcykge1xuICAgICAgICBsb2FkLm1ldGFkYXRhLmZvcm1hdCA9ICdkZWZpbmVkJztcbiAgICAgICAgdmFyIGVudHJ5ID0gY3JlYXRlRW50cnkoKTtcbiAgICAgICAgdGhpcy5kZWZpbmVkW2xvYWQubmFtZV0gPSBlbnRyeTtcbiAgICAgICAgZW50cnkuZGVjbGFyYXRpdmUgPSB0cnVlO1xuICAgICAgICBlbnRyeS5kZXBzID0gYWxpYXNEZXBzLmNvbmNhdChbYWxpYXNdKTtcbiAgICAgICAgZW50cnkuZGVjbGFyZSA9IGZ1bmN0aW9uKF9leHBvcnQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2V0dGVyczogW2Z1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIG1vZHVsZSlcbiAgICAgICAgICAgICAgICBfZXhwb3J0KHAsIG1vZHVsZVtwXSk7XG4gICAgICAgICAgICAgIGlmIChtb2R1bGUuX191c2VEZWZhdWx0KVxuICAgICAgICAgICAgICAgIGVudHJ5Lm1vZHVsZS5leHBvcnRzLl9fdXNlRGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge31cbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmZXRjaC5jYWxsKHRoaXMsIGxvYWQpO1xuICAgIH07XG4gIH0pO1xufSkoKTsvKlxuICogTWV0YSBFeHRlbnNpb25cbiAqXG4gKiBTZXRzIGRlZmF1bHQgbWV0YWRhdGEgb24gYSBsb2FkIHJlY29yZCAobG9hZC5tZXRhZGF0YSkgZnJvbVxuICogbG9hZGVyLm1ldGFkYXRhIHZpYSBTeXN0ZW1KUy5tZXRhIGZ1bmN0aW9uLlxuICpcbiAqXG4gKiBBbHNvIHByb3ZpZGVzIGFuIGlubGluZSBtZXRhIHN5bnRheCBmb3IgbW9kdWxlIG1ldGEgaW4gc291cmNlLlxuICpcbiAqIEVnOlxuICpcbiAqIGxvYWRlci5tZXRhKHtcbiAqICAgJ215L21vZHVsZSc6IHsgZGVwczogWydqcXVlcnknXSB9XG4gKiAgICdteS8qJzogeyBmb3JtYXQ6ICdhbWQnIH1cbiAqIH0pO1xuICpcbiAqIFdoaWNoIGluIHR1cm4gcG9wdWxhdGVzIGxvYWRlci5tZXRhZGF0YS5cbiAqXG4gKiBsb2FkLm1ldGFkYXRhLmRlcHMgYW5kIGxvYWQubWV0YWRhdGEuZm9ybWF0IHdpbGwgdGhlbiBiZSBzZXRcbiAqIGZvciAnbXkvbW9kdWxlJ1xuICpcbiAqIFRoZSBzYW1lIG1ldGEgY291bGQgYmUgc2V0IHdpdGggYSBteS9tb2R1bGUuanMgZmlsZSBjb250YWluaW5nOlxuICpcbiAqIG15L21vZHVsZS5qc1xuICogICBcImZvcm1hdCBhbWRcIjtcbiAqICAgXCJkZXBzW10ganF1ZXJ5XCI7XG4gKiAgIFwiZ2xvYmFscy5zb21lIHZhbHVlXCJcbiAqICAgY29uc29sZS5sb2coJ3RoaXMgaXMgbXkvbW9kdWxlJyk7XG4gKlxuICogQ29uZmlndXJhdGlvbiBtZXRhIGFsd2F5cyB0YWtlcyBwcmVmZXJlbmNlIHRvIGlubGluZSBtZXRhLlxuICpcbiAqIE11bHRpcGxlIG1hdGNoZXMgaW4gd2lsZGNhcmRzIGFyZSBzdXBwb3J0ZWQgYW5kIGFtbWVuZCB0aGUgbWV0YS5cbiAqXG4gKlxuICogVGhlIGJlbmVmaXRzIG9mIHRoZSBmdW5jdGlvbiBmb3JtIGlzIHRoYXQgcGF0aHMgYXJlIFVSTC1ub3JtYWxpemVkXG4gKiBzdXBwb3J0aW5nIHNheVxuICpcbiAqIGxvYWRlci5tZXRhKHsgJy4vYXBwJzogeyBmb3JtYXQ6ICdjanMnIH0gfSk7XG4gKlxuICogSW5zdGVhZCBvZiBuZWVkaW5nIHRvIHNldCBhZ2FpbnN0IHRoZSBhYnNvbHV0ZSBVUkwgKGh0dHBzOi8vc2l0ZS5jb20vYXBwLmpzKVxuICpcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgaG9va0NvbnN0cnVjdG9yKGZ1bmN0aW9uKGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5tZXRhID0ge307XG4gICAgICBjb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pO1xuXG4gIGhvb2soJ2xvY2F0ZScsIGZ1bmN0aW9uKGxvY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICB2YXIgbWV0YSA9IHRoaXMubWV0YTtcbiAgICAgIHZhciBuYW1lID0gbG9hZC5uYW1lO1xuXG4gICAgICAvLyBOQiBmb3IgcGVyZiwgbWF5YmUgaW50cm9kdWNlIGEgZmFzdC1wYXRoIHdpbGRjYXJkIGxvb2t1cCBjYWNoZSBoZXJlXG4gICAgICAvLyB3aGljaCBpcyBjaGVja2VkIGZpcnN0XG5cbiAgICAgIC8vIGFwcGx5IHdpbGRjYXJkIG1ldGFzXG4gICAgICB2YXIgYmVzdERlcHRoID0gMDtcbiAgICAgIHZhciB3aWxkY2FyZEluZGV4O1xuICAgICAgZm9yICh2YXIgbW9kdWxlIGluIG1ldGEpIHtcbiAgICAgICAgd2lsZGNhcmRJbmRleCA9IG1vZHVsZS5pbmRleE9mKCcqJyk7XG4gICAgICAgIGlmICh3aWxkY2FyZEluZGV4ID09PSAtMSlcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKG1vZHVsZS5zdWJzdHIoMCwgd2lsZGNhcmRJbmRleCkgPT09IG5hbWUuc3Vic3RyKDAsIHdpbGRjYXJkSW5kZXgpXG4gICAgICAgICAgICAmJiBtb2R1bGUuc3Vic3RyKHdpbGRjYXJkSW5kZXggKyAxKSA9PT0gbmFtZS5zdWJzdHIobmFtZS5sZW5ndGggLSBtb2R1bGUubGVuZ3RoICsgd2lsZGNhcmRJbmRleCArIDEpKSB7XG4gICAgICAgICAgdmFyIGRlcHRoID0gbW9kdWxlLnNwbGl0KCcvJykubGVuZ3RoO1xuICAgICAgICAgIGlmIChkZXB0aCA+IGJlc3REZXB0aClcbiAgICAgICAgICAgIGJlc3REZXB0aCA9IGRlcHRoO1xuICAgICAgICAgIGV4dGVuZE1ldGEobG9hZC5tZXRhZGF0YSwgbWV0YVttb2R1bGVdLCBiZXN0RGVwdGggIT0gZGVwdGgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGV4YWN0IG1ldGFcbiAgICAgIGlmIChtZXRhW25hbWVdKVxuICAgICAgICBleHRlbmRNZXRhKGxvYWQubWV0YWRhdGEsIG1ldGFbbmFtZV0pO1xuXG4gICAgICByZXR1cm4gbG9jYXRlLmNhbGwodGhpcywgbG9hZCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gZGV0ZWN0IGFueSBtZXRhIGhlYWRlciBzeW50YXhcbiAgLy8gb25seSBzZXQgaWYgbm90IGFscmVhZHkgc2V0XG4gIHZhciBtZXRhUmVnRXggPSAvXihcXHMqXFwvXFwqW15cXCpdKihcXCooPyFcXC8pW15cXCpdKikqXFwqXFwvfFxccypcXC9cXC9bXlxcbl0qfFxccypcIlteXCJdK1wiXFxzKjs/fFxccyonW14nXSsnXFxzKjs/KSsvO1xuICB2YXIgbWV0YVBhcnRSZWdFeCA9IC9cXC9cXCpbXlxcKl0qKFxcKig/IVxcLylbXlxcKl0qKSpcXCpcXC98XFwvXFwvW15cXG5dKnxcIlteXCJdK1wiXFxzKjs/fCdbXiddKydcXHMqOz8vZztcblxuICBmdW5jdGlvbiBzZXRNZXRhUHJvcGVydHkodGFyZ2V0LCBwLCB2YWx1ZSkge1xuICAgIHZhciBwUGFydHMgPSBwLnNwbGl0KCcuJyk7XG4gICAgdmFyIGN1clBhcnQ7XG4gICAgd2hpbGUgKHBQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICBjdXJQYXJ0ID0gcFBhcnRzLnNoaWZ0KCk7XG4gICAgICB0YXJnZXQgPSB0YXJnZXRbY3VyUGFydF0gPSB0YXJnZXRbY3VyUGFydF0gfHwge307XG4gICAgfVxuICAgIGN1clBhcnQgPSBwUGFydHMuc2hpZnQoKTtcbiAgICBpZiAoIShjdXJQYXJ0IGluIHRhcmdldCkpXG4gICAgICB0YXJnZXRbY3VyUGFydF0gPSB2YWx1ZTtcbiAgfVxuXG4gIGhvb2soJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uKHRyYW5zbGF0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihsb2FkKSB7XG4gICAgICAvLyBOQiBtZXRhIHdpbGwgYmUgcG9zdC10cmFuc2xhdGUgcGVuZGluZyB0cmFuc3BpbGVyIGNvbnZlcnNpb24gdG8gcGx1Z2luc1xuICAgICAgdmFyIG1ldGEgPSBsb2FkLnNvdXJjZS5tYXRjaChtZXRhUmVnRXgpO1xuICAgICAgaWYgKG1ldGEpIHtcbiAgICAgICAgdmFyIG1ldGFQYXJ0cyA9IG1ldGFbMF0ubWF0Y2gobWV0YVBhcnRSZWdFeCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY3VyUGFydCA9IG1ldGFQYXJ0c1tpXTtcbiAgICAgICAgICB2YXIgbGVuID0gY3VyUGFydC5sZW5ndGg7XG5cbiAgICAgICAgICB2YXIgZmlyc3RDaGFyID0gY3VyUGFydC5zdWJzdHIoMCwgMSk7XG4gICAgICAgICAgaWYgKGN1clBhcnQuc3Vic3RyKGxlbiAtIDEsIDEpID09ICc7JylcbiAgICAgICAgICAgIGxlbi0tO1xuXG4gICAgICAgICAgaWYgKGZpcnN0Q2hhciAhPSAnXCInICYmIGZpcnN0Q2hhciAhPSBcIidcIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgdmFyIG1ldGFTdHJpbmcgPSBjdXJQYXJ0LnN1YnN0cigxLCBjdXJQYXJ0Lmxlbmd0aCAtIDMpO1xuICAgICAgICAgIHZhciBtZXRhTmFtZSA9IG1ldGFTdHJpbmcuc3Vic3RyKDAsIG1ldGFTdHJpbmcuaW5kZXhPZignICcpKTtcblxuICAgICAgICAgIGlmIChtZXRhTmFtZSkge1xuICAgICAgICAgICAgdmFyIG1ldGFWYWx1ZSA9IG1ldGFTdHJpbmcuc3Vic3RyKG1ldGFOYW1lLmxlbmd0aCArIDEsIG1ldGFTdHJpbmcubGVuZ3RoIC0gbWV0YU5hbWUubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGlmIChtZXRhTmFtZS5zdWJzdHIobWV0YU5hbWUubGVuZ3RoIC0gMiwgMikgPT0gJ1tdJykge1xuICAgICAgICAgICAgICBtZXRhTmFtZSA9IG1ldGFOYW1lLnN1YnN0cigwLCBtZXRhTmFtZS5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgICAgbG9hZC5tZXRhZGF0YVttZXRhTmFtZV0gPSBsb2FkLm1ldGFkYXRhW21ldGFOYW1lXSB8fCBbXTtcbiAgICAgICAgICAgICAgbG9hZC5tZXRhZGF0YVttZXRhTmFtZV0ucHVzaChtZXRhVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobG9hZC5tZXRhZGF0YVttZXRhTmFtZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAvLyB0ZW1wb3JhcnkgYmFja3dhcmRzIGNvbXBhdCBmb3IgcHJldmlvdXMgXCJkZXBzXCIgc3ludGF4XG4gICAgICAgICAgICAgIHdhcm4uY2FsbCh0aGlzLCAnTW9kdWxlICcgKyBsb2FkLm5hbWUgKyAnIGNvbnRhaW5zIGRlcHJlY2F0ZWQgXCJkZXBzICcgKyBtZXRhVmFsdWUgKyAnXCIgbWV0YSBzeW50YXguXFxuVGhpcyBzaG91bGQgYmUgdXBkYXRlZCB0byBcImRlcHNbXSAnICsgbWV0YVZhbHVlICsgJ1wiIGZvciBwdXNoaW5nIHRvIGFycmF5IG1ldGEuJyk7XG4gICAgICAgICAgICAgIGxvYWQubWV0YWRhdGFbbWV0YU5hbWVdLnB1c2gobWV0YVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBzZXRNZXRhUHJvcGVydHkobG9hZC5tZXRhZGF0YSwgbWV0YU5hbWUsIG1ldGFWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9hZC5tZXRhZGF0YVttZXRhU3RyaW5nXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFuc2xhdGUuY2FsbCh0aGlzLCBsb2FkKTtcbiAgICB9O1xuICB9KTtcbn0pKCk7XG4vKlxuICBTeXN0ZW0gYnVuZGxlc1xuXG4gIEFsbG93cyBhIGJ1bmRsZSBtb2R1bGUgdG8gYmUgc3BlY2lmaWVkIHdoaWNoIHdpbGwgYmUgZHluYW1pY2FsbHkgXG4gIGxvYWRlZCBiZWZvcmUgdHJ5aW5nIHRvIGxvYWQgYSBnaXZlbiBtb2R1bGUuXG5cbiAgRm9yIGV4YW1wbGU6XG4gIFN5c3RlbUpTLmJ1bmRsZXNbJ215YnVuZGxlJ10gPSBbJ2pxdWVyeScsICdib290c3RyYXAvanMvYm9vdHN0cmFwJ11cblxuICBXaWxsIHJlc3VsdCBpbiBhIGxvYWQgdG8gXCJteWJ1bmRsZVwiIHdoZW5ldmVyIGEgbG9hZCB0byBcImpxdWVyeVwiXG4gIG9yIFwiYm9vdHN0cmFwL2pzL2Jvb3RzdHJhcFwiIGlzIG1hZGUuXG5cbiAgSW4gdGhpcyB3YXksIHRoZSBidW5kbGUgYmVjb21lcyB0aGUgcmVxdWVzdCB0aGF0IHByb3ZpZGVzIHRoZSBtb2R1bGVcbiovXG5cbihmdW5jdGlvbigpIHtcbiAgLy8gYnVuZGxlcyBzdXBwb3J0IChqdXN0IGxpa2UgUmVxdWlyZUpTKVxuICAvLyBidW5kbGUgbmFtZSBpcyBtb2R1bGUgbmFtZSBvZiBidW5kbGUgaXRzZWxmXG4gIC8vIGJ1bmRsZSBpcyBhcnJheSBvZiBtb2R1bGVzIGRlZmluZWQgYnkgdGhlIGJ1bmRsZVxuICAvLyB3aGVuIGEgbW9kdWxlIGluIHRoZSBidW5kbGUgaXMgcmVxdWVzdGVkLCB0aGUgYnVuZGxlIGlzIGxvYWRlZCBpbnN0ZWFkXG4gIC8vIG9mIHRoZSBmb3JtIFN5c3RlbUpTLmJ1bmRsZXNbJ215YnVuZGxlJ10gPSBbJ2pxdWVyeScsICdib290c3RyYXAvanMvYm9vdHN0cmFwJ11cbiAgaG9va0NvbnN0cnVjdG9yKGZ1bmN0aW9uKGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuYnVuZGxlcyA9IHt9O1xuICAgICAgdGhpcy5fbG9hZGVyLmxvYWRlZEJ1bmRsZXMgPSB7fTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBhc3NpZ24gYnVuZGxlIG1ldGFkYXRhIGZvciBidW5kbGUgbG9hZHNcbiAgaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKCEobG9hZC5uYW1lIGluIGxvYWRlci5kZWZpbmVkKSlcbiAgICAgICAgZm9yICh2YXIgYiBpbiBsb2FkZXIuYnVuZGxlcykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZGVyLmJ1bmRsZXNbYl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjdXJNb2R1bGUgPSBsb2FkZXIuYnVuZGxlc1tiXVtpXTtcblxuICAgICAgICAgICAgaWYgKGN1ck1vZHVsZSA9PSBsb2FkLm5hbWUpIHtcbiAgICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3aWxkY2FyZCBpbiBidW5kbGVzIGRvZXMgbm90IGluY2x1ZGUgLyBib3VuZGFyaWVzXG4gICAgICAgICAgICBpZiAoY3VyTW9kdWxlLmluZGV4T2YoJyonKSAhPSAtMSkge1xuICAgICAgICAgICAgICB2YXIgcGFydHMgPSBjdXJNb2R1bGUuc3BsaXQoJyonKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyLmJ1bmRsZXNbYl0uc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChsb2FkLm5hbWUuc3Vic3RyaW5nKDAsIHBhcnRzWzBdLmxlbmd0aCkgPT0gcGFydHNbMF0gJiZcbiAgICAgICAgICAgICAgICAgIGxvYWQubmFtZS5zdWJzdHIobG9hZC5uYW1lLmxlbmd0aCAtIHBhcnRzWzFdLmxlbmd0aCwgcGFydHNbMV0ubGVuZ3RoKSA9PSBwYXJ0c1sxXSAmJlxuICAgICAgICAgICAgICAgICAgbG9hZC5uYW1lLnN1YnN0cihwYXJ0c1swXS5sZW5ndGgsIGxvYWQubmFtZS5sZW5ndGggLSBwYXJ0c1sxXS5sZW5ndGggLSBwYXJ0c1swXS5sZW5ndGgpLmluZGV4T2YoJy8nKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1hdGNoZWQpXG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyWydpbXBvcnQnXShiKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsb2NhdGUuY2FsbChsb2FkZXIsIGxvYWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvY2F0ZS5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgfTtcbiAgfSk7XG59KSgpO1xuLypcbiAqIERlcGVuZGVuY3kgVHJlZSBDYWNoZVxuICogXG4gKiBBbGxvd3MgYSBidWlsZCB0byBwcmUtcG9wdWxhdGUgYSBkZXBlbmRlbmN5IHRyYWNlIHRyZWUgb24gdGhlIGxvYWRlciBvZiBcbiAqIHRoZSBleHBlY3RlZCBkZXBlbmRlbmN5IHRyZWUsIHRvIGJlIGxvYWRlZCB1cGZyb250IHdoZW4gcmVxdWVzdGluZyB0aGVcbiAqIG1vZHVsZSwgYXZvaW5kaW5nIHRoZSBuIHJvdW5kIHRyaXBzIGxhdGVuY3kgb2YgbW9kdWxlIGxvYWRpbmcsIHdoZXJlIFxuICogbiBpcyB0aGUgZGVwZW5kZW5jeSB0cmVlIGRlcHRoLlxuICpcbiAqIGVnOlxuICogU3lzdGVtSlMuZGVwQ2FjaGUgPSB7XG4gKiAgJ2FwcCc6IFsnbm9ybWFsaXplZCcsICdkZXBzJ10sXG4gKiAgJ25vcm1hbGl6ZWQnOiBbJ2Fub3RoZXInXSxcbiAqICAnZGVwcyc6IFsndHJlZSddXG4gKiB9O1xuICogXG4gKiBTeXN0ZW1KUy5pbXBvcnQoJ2FwcCcpIFxuICogLy8gc2ltdWx0YW5lb3VzbHkgc3RhcnRzIGxvYWRpbmcgYWxsIG9mOlxuICogLy8gJ25vcm1hbGl6ZWQnLCAnZGVwcycsICdhbm90aGVyJywgJ3RyZWUnXG4gKiAvLyBiZWZvcmUgXCJhcHBcIiBzb3VyY2UgaXMgZXZlbiBsb2FkZWRcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICBob29rQ29uc3RydWN0b3IoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5kZXBDYWNoZSA9IHt9O1xuICAgIH1cbiAgfSk7XG5cbiAgaG9vaygnbG9jYXRlJywgZnVuY3Rpb24obG9jYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxvYWQpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgLy8gbG9hZCBkaXJlY3QgZGVwcywgaW4gdHVybiB3aWxsIHBpY2sgdXAgdGhlaXIgdHJhY2UgdHJlZXNcbiAgICAgIHZhciBkZXBzID0gbG9hZGVyLmRlcENhY2hlW2xvYWQubmFtZV07XG4gICAgICBpZiAoZGVwcylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGxvYWRlclsnaW1wb3J0J10oZGVwc1tpXSwgbG9hZC5uYW1lKTtcblxuICAgICAgcmV0dXJuIGxvY2F0ZS5jYWxsKGxvYWRlciwgbG9hZCk7XG4gICAgfTtcbiAgfSk7XG59KSgpO1xuICBcblN5c3RlbSA9IG5ldyBTeXN0ZW1KU0xvYWRlcigpO1xuXG5fX2dsb2JhbC5TeXN0ZW1KUyA9IFN5c3RlbTtcblN5c3RlbS52ZXJzaW9uID0gJzAuMTkuMjMgU3RhbmRhcmQnO1xuICAvLyAtLSBleHBvcnRpbmcgLS1cblxuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuICAgIG1vZHVsZS5leHBvcnRzID0gTG9hZGVyO1xuXG4gIF9fZ2xvYmFsLlJlZmxlY3QgPSBfX2dsb2JhbC5SZWZsZWN0IHx8IHt9O1xuICBfX2dsb2JhbC5SZWZsZWN0LkxvYWRlciA9IF9fZ2xvYmFsLlJlZmxlY3QuTG9hZGVyIHx8IExvYWRlcjtcbiAgX19nbG9iYWwuUmVmbGVjdC5nbG9iYWwgPSBfX2dsb2JhbC5SZWZsZWN0Lmdsb2JhbCB8fCBfX2dsb2JhbDtcbiAgX19nbG9iYWwuTG9hZGVyUG9seWZpbGwgPSBMb2FkZXI7XG5cbiAgaWYgKCFTeXN0ZW0pIHtcbiAgICBTeXN0ZW0gPSBuZXcgU3lzdGVtTG9hZGVyKCk7XG4gICAgU3lzdGVtLmNvbnN0cnVjdG9yID0gU3lzdGVtTG9hZGVyO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JylcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFN5c3RlbTtcblxuICBfX2dsb2JhbC5TeXN0ZW0gPSBTeXN0ZW07XG5cbn0pKHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnID8gc2VsZiA6IGdsb2JhbCk7fVxuXG4vLyBhdXRvLWxvYWQgUHJvbWlzZSBhbmQgVVJMIHBvbHlmaWxscyBpZiBuZWVkZWQgaW4gdGhlIGJyb3dzZXJcbnRyeSB7XG4gIHZhciBoYXNVUkwgPSB0eXBlb2YgVVJMUG9seWZpbGwgIT0gJ3VuZGVmaW5lZCcgfHwgbmV3IFVSTCgndGVzdDovLy8nKS5wcm90b2NvbCA9PSAndGVzdDonO1xufVxuY2F0Y2goZSkge31cblxuaWYgKHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyB8fCAhaGFzVVJMKSB7XG4gIC8vIGRvY3VtZW50LndyaXRlXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XG4gICAgJF9fY3VyU2NyaXB0ID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdO1xuICAgIHZhciBjdXJQYXRoID0gJF9fY3VyU2NyaXB0LnNyYztcbiAgICB2YXIgYmFzZVBhdGggPSBjdXJQYXRoLnN1YnN0cigwLCBjdXJQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICB3aW5kb3cuc3lzdGVtSlNCb290c3RyYXAgPSBib290c3RyYXA7XG4gICAgZG9jdW1lbnQud3JpdGUoXG4gICAgICAnPCcgKyAnc2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCInICsgYmFzZVBhdGggKyAnc3lzdGVtLXBvbHlmaWxscy5qc1wiPicgKyAnPCcgKyAnL3NjcmlwdD4nXG4gICAgKTtcbiAgfVxuICAvLyBpbXBvcnRTY3JpcHRzXG4gIGVsc2UgaWYgKHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBiYXNlUGF0aCA9ICcnO1xuICAgIHRyeSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ18nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlLnN0YWNrLnJlcGxhY2UoLyg/OmF0fEApLiooaHR0cC4rKTpbXFxkXSs6W1xcZF0rLywgZnVuY3Rpb24obSwgdXJsKSB7XG4gICAgICAgIGJhc2VQYXRoID0gdXJsLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJy8nKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBvcnRTY3JpcHRzKGJhc2VQYXRoICsgJ3N5c3RlbS1wb2x5ZmlsbHMuanMnKTtcbiAgICBib290c3RyYXAoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBib290c3RyYXAoKTtcbiAgfVxufVxuZWxzZSB7XG4gIGJvb3RzdHJhcCgpO1xufVxuXG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
